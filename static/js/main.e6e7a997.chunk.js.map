{"version":3,"sources":["assets/images/loading.jpg","assets/images/ojoVerNoticia.png","assets/images/logoetsi.png","docs sync /^/.*$","docs/0k0QGSW4qSi9NcS9e87oaByH.pdf","docs/1TohQvpO_0MrmsE4Nu6jv68w.pdf","docs/85Sn8WDc9Wtqp4TS2uF96pCS.pdf","docs/gZfMoFeoewVNAkqmhG1lJD71.pdf","docs/hs4UzdXyNqFYvFSSGrtD7fwA.pdf","docs/ifvEaC5c1bv5eXYgpILJq50X.pdf","assets/images/logo.svg","services/auth-service.js","contexts/auth-context.js","components/withAuth.js","components/Navbar.js","services/subject-service.js","services/user-service.js","pages/SelectSubjects.js","components/routes/PrivateRoute.js","components/routes/AnonRoute.js","pages/Private.js","pages/Signup.js","pages/Login.js","components/DataListView.js","components/Asignatura.js","components/Header.js","components/News/List.js","components/Table.js","services/news-service.js","components/Slider.js","pages/Principal.js","pages/NewsPage.js","pages/User.js","components/elements/message/index.js","services/chat-service.js","pages/Chat.js","schemas/newsFormSchema.js","components/NewsForm.js","components/News/Details.js","components/TeacherList.js","components/AlumnList.js","pages/UsersList.js","pages/ListChats.js","components/Subjects/Details.js","pages/AddTeacher.js","pages/SubjectsList.js","pages/AddSubject.js","components/routes/AdminRoute.js","components/routes/DocumentsRoute.js","services/document-service.js","pages/DocumentsList.js","pages/AddDocument.js","pages/ShowDocument.js","pages/AddSubjectGuideRequest.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","authService","this","auth","axios","create","baseURL","withCredentials","user","username","password","post","then","data","response","get","AuthContext","React","createContext","AuthProvider","state","isLoggedIn","isLoading","userSignUp","signup","setState","userLogin","login","userLogout","logout","me","catch","Provider","value","props","children","Component","withAuth","Comp","Consumer","onClick","to","subjectService","getSubjects","service","getSubjectById","getUserSubjects","userId","err","console","log","deleteSubject","delete","userService","getOneUser","getUserList","getTeachersList","getAlumnsList","getUserChats","addSubjectsInUser","subjects","_id","addTeacher","firstName","lastName","getDocuments","list","subjectsSelected","userSubjects","redirectToHome","checkSelected","target","includes","i","indexOf","splice","push","length","className","a","CustomInput","type","name","title","onChange","label","href","component","rest","render","toHome","alert","handleFormSubmit","event","preventDefault","error","message","handleChange","UncontrolledAlert","color","Card","style","background","onSubmit","Row","Col","xs","htmlFor","required","dangerAlert","memo","withRouter","isSelect","element","news","usersList","onCheckItem","document","useState","documentPath","setDocumentPath","useEffect","path","file_name","split","xxs","width","height","fontSize","justifyContent","padding","confirmAlert","buttons","window","location","reload","moment","date","format","textAlign","require","download","Asignatura","status","lastChecked","selectedItems","loading","clickItem","item","onClickItem","activeElement","blur","AuthService","src","subject","key","activeClassName","NewsList","getNews","getNewsById","byId","searchById","updated","deleted","getNewsList","noticias","n","Slider","idToUpdate","idToDelete","toUpdate","toDelete","updateNews","handleDelete","deleteNews","res","size","placeholder","input1","input2","btn","image","content","author","update","nameAuthor","button","button2","button3","createNews","search","fade","edit","editUser","saveUser","userToUpdate","put","marginRight","logo","class","alt","cursor","owner","css","chatService","createChat","idUser","getChatsByUser","getChat","getMessages","getOtherUser","postMessage","chatId","ChatWrapper","styled","div","MessagesWrapper","io","socket","inputRef","useRef","messages","setMessages","form","setForm","setChat","paths","pathname","chatFromApi","on","old","handleSendMessage","text","emit","oldMessages","index","ref","onKeyUp","keyCode","NewsFormSchema","Yup","shape","min","max","NewsForm","redirection","handleSubmit","values","usuario","initialValues","Alert","validationSchema","setSubmitting","setTimeout","errors","touched","handleBlur","isSubmitting","FormGroup","Label","onBlur","marginTop","marginBottom","Input","textTransform","withFormik","mapPropsToValues","displayName","NewsDetail","noticia","getUser","match","params","teachers","getTeacherList","t","alumns","getAlumnList","users","selectedClassName","setList","showList","setShowList","redirectToChat","setRedirectToChat","idChat","setIdChat","userChats","setUserChats","getUserChatsAction","showUsersList","chats","ListGroup","l","ListGroupItem","tag","otherId","myId","createNewChat","textDecoration","float","chat","otherUserFilteredId","filter","SubjectDetails","getSubject","paramId","curso","creditos","toUserList","SubjectsList","toUserSubjectList","documentService","postOneDocument","formData","getAllDocuments","documents","modal","selectedDocument","docName","allDocuments","dropdownOpen","undefined","toggleModal","saveDocument","FormData","append","selectedFile","onFileChange","files","toggle","documentList","Dropdown","isOpen","DropdownToggle","caret","DropdownMenu","DropdownItem","divider","Button","Modal","ModalHeader","ModalBody","ModalFooter","AddDocument","disabledButton","handleForPDF","lines","firstLine","doc","jsPDF","font","verticalOffset","loremipsum","setDrawColor","setFont","setFontSize","splitTextToSize","save","ShowDocument","AddSubjectGuideRequest","dni","correo","tlf","AsigCurse","AsigName","AsigCod","nombre","dni_mine","telefono","curso_mine","correo_mine","Codigo_asig","Nombre_asig","Curso_asig","nombreCompleto","curse","nif","gmail","asigName","asigCurse","asigCode","movil","grado","App","exact","from","Signup","Login","Principal","NewsPage","Chat","ListChats","User","UsersList","AddTeacher","AddSubject","DocumentsRoute","DocumentsList","SelectSubjects","Boolean","hostname","ReactDOM","getElementById","body","navigator","serviceWorker","ready","registration","unregister"],"mappings":"yHAAAA,EAAOC,QAAU,IAA0B,qC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,sC,gFCA3C,IAAIC,EAAM,CACT,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,KAInC,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBN,EAAOC,QAAUE,EACjBA,EAAeE,GAAK,K,oBC3BpBL,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,sD,oBCA3CD,EAAOC,QAAU,IAA0B,kC,yRCmC5Bc,EAFK,I,WA9BlB,aAAe,oBACbC,KAAKC,KAAOC,IAAMC,OAAO,CACvBC,QAAS,iCACTC,iBAAiB,I,mDAIdC,GAAO,IACJC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAClB,OAAOR,KAAKC,KAAKQ,KAAK,eAAgB,CAACF,WAAUC,aAC9CE,KAAK,qBAAGC,S,4BAGPL,GAAO,IACHC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAClB,OAAOR,KAAKC,KAAKQ,KAAK,cAAe,CAACF,WAAUC,aAC7CE,KAAK,qBAAGC,S,+BAIX,OAAOX,KAAKC,KAAKQ,KAAK,gBACnBC,KAAK,SAAAE,GAAQ,OAAIA,EAASD,S,2BAI7B,OAAOX,KAAKC,KAAKY,IAAI,YACpBH,KAAK,SAAAE,GAAQ,OAAIA,EAASD,W,MC1BlBG,EAAcC,IAAMC,gBA0FlBC,E,2MAvFbC,MAAQ,CACNC,YAAY,EACZb,KAAM,GACNc,WAAW,G,EAGbC,WAAa,SAACf,GACZ,OAAOP,EAAYuB,OAAOhB,GACzBI,KAAK,SAACJ,GACL,EAAKiB,SAAS,CACZJ,YAAY,EACZb,Y,EAKNkB,UAAY,SAAClB,GACX,OAAOP,EAAY0B,MAAMnB,GACxBI,KAAK,SAACJ,GACL,EAAKiB,SAAS,CACZJ,YAAY,EACZb,Y,EAKNoB,WAAa,WACX,OAAO3B,EAAY4B,SAClBjB,KAAK,WACJ,EAAKa,SAAS,CACZJ,YAAY,EACZb,KAAM,Q,mFAKS,IAAD,OAClBP,EAAY6B,KACXlB,KAAK,SAAAJ,GACQ,KAATA,EACD,EAAKiB,SAAS,CACZjB,OACAa,YAAY,EACZC,WAAW,IAKb,EAAKG,SAAS,CACZJ,YAAY,EACZb,KAAM,GACNc,WAAW,MAKhBS,MAAM,WACL,EAAKN,SAAS,CACZJ,YAAY,EACZb,KAAM,GACNc,WAAW,Q,+BAKP,IAAD,EAC+BpB,KAAKkB,MAApCZ,EADA,EACAA,KAAMa,EADN,EACMA,WAAYC,EADlB,EACkBA,UACzB,OACE,oCACGA,EAAY,yCACT,kBAACN,EAAYgB,SAAb,CAAsBC,MACpB,CACEzB,OACAa,aACAM,MAAOzB,KAAKwB,UACZF,OAAQtB,KAAKqB,WACbM,OAAQ3B,KAAK0B,aAGd1B,KAAKgC,MAAMC,e,GAhFCC,aCmBZC,EArBE,SAACC,GAChB,wLACY,IAAD,OACP,OACE,kBAACtB,EAAYuB,SAAb,KACG,gBAAE/B,EAAF,EAAEA,KAAMa,EAAR,EAAQA,WAAYM,EAApB,EAAoBA,MAAOH,EAA3B,EAA2BA,OAAQK,EAAnC,EAAmCA,OAAnC,OACC,kBAACS,EAAD,eACA9B,KAAMA,EACNa,WAAYA,EACZM,MAAOA,EACPH,OAAQA,EACRK,OAAQA,GACJ,EAAKK,cAXnB,EAAM,CAAwBE,c,GCoBjBC,E,iLAlBX,OACE,6BACGnC,KAAKgC,MAAMb,WACV,oCACE,wCAAcnB,KAAKgC,MAAM1B,KAAKC,UAC9B,uBAAG+B,QAAStC,KAAKgC,MAAML,QAAvB,WAGF,oCACE,kBAAC,IAAD,CAAMY,GAAG,UAAT,SACA,kBAAC,IAAD,CAAMA,GAAG,WAAT,gB,GAZSL,c,OCwBNM,EAFQ,IAvBrB,aAAe,IAAD,gCAOdC,YAAc,kBAAM,EAAKC,QAAQ7B,IAAI,aAAaH,KAAK,qBAAEC,QAP3C,KASdgC,eAAiB,SAACtD,GAAD,OAAQ,EAAKqD,QAAQ7B,IAAb,oBAA8BxB,IAAMqB,KAAK,qBAAEC,QATtD,KAWdiC,gBAAkB,SAACC,GACjB,OAAO,EAAKH,QAAQ7B,IAAI,UAAYgC,EAAS,cACxCnC,KAAK,qBAAEC,OACPkB,MAAM,SAAAiB,GACHC,QAAQC,IAAIF,MAfR,KAoBdG,cAAgB,SAAC5D,GAAD,OAAQ,EAAKqD,QAAQQ,OAAb,oBAAiC7D,IAAMqB,KAAK,qBAAEC,QAnBpEX,KAAK0C,QAAUxC,IAAMC,OAAO,CAC1BC,QAAS,iCACTC,iBAAiB,KC6CR8C,EAFK,IA9ClB,aAAe,IAAD,gCAOdC,WAAa,SAAC/D,GACZ,OAAO,EAAKiB,KAAKO,IAAV,qBAA4BxB,IAAMqB,KAAK,qBAAEC,QARpC,KAWd0C,YAAc,WACZ,OAAO,EAAK/C,KAAKO,IAAI,WACpBH,KAAK,qBAAEC,QAbI,KAgBd2C,gBAAkB,WAChB,OAAO,EAAKhD,KAAKO,IAAI,mBAClBH,KAAK,qBAAGC,QAlBC,KAqBd4C,cAAgB,WACd,OAAO,EAAKjD,KAAKO,IAAI,iBACpBH,KAAK,qBAAGC,QAvBG,KA0Bd6C,aAAe,SAACnE,GAAD,OAAQ,EAAKiB,KAAKO,IAAV,iBAAwBxB,EAAxB,WAAoCqB,KAAK,qBAAEC,QA1BpD,KA4Bd8C,kBAAoB,SAACnD,EAAMoD,GAAc,IAC/BC,EAAQrD,EAARqD,IACFhD,EAAO,CACX+C,SAAUA,GAEZ,OAAO,EAAKpD,KAAKG,KAAV,iBAAyBkD,EAAzB,gBAA4ChD,GAClDD,KAAK,qBAAGC,QAlCG,KAqCdiD,WAAa,SAACC,EAAWC,EAAUvD,EAAUC,GAC3C,EAAKF,KAAKG,KAAV,qBAAqC,CAACoD,YAAWC,WAAUvD,WAAUC,aACpEE,KAAK,qBAAEC,QAvCI,KA0CdoD,aAAe,SAAC1E,GAAD,OAAQ,EAAKiB,KAAKO,IAAV,iBAAwBxB,EAAxB,eAAwCqB,KAAK,qBAAEC,QAzCpEX,KAAKM,KAAOJ,IAAMC,OAAO,CACvBC,QAAS,iCACTC,iBAAiB,K,SC0FR8B,I,2MApFPjB,MAAQ,CACJ8C,KAAM,GACNC,iBAAkB,GAClBC,aAAc,EAAKlC,MAAM1B,KAAKoD,SAC9BS,gBAAgB,G,EAgBxBC,cAAgB,SAACC,GAAY,IACjBJ,EAAqB,EAAK/C,MAA1B+C,iBACR,GAAGA,EAAiBK,SAASD,GAAS,CAClC,IAAIE,EAAIN,EAAiBO,QAAQH,GACjCJ,EAAiBQ,OAAOF,EAAG,QAE3BN,EAAiBS,KAAKL,GAE1BtB,QAAQC,IAAI,mBAAoBiB,I,EAGpCR,kBAAoB,WAChBN,EAAYM,kBAAkB,EAAKzB,MAAM1B,KAAM,EAAKY,MAAM+C,kBAAkBvD,KAAK,SAAAC,GAC1EA,GAAQA,EAAK+C,SAASiB,OAAS,GAC9B,EAAKpD,SAAS,CACV2C,aAAcvD,EAAK+C,c,mFA3Bd,IAAD,OAEhBlB,EAAeC,cAAc/B,KAAK,SAAAC,GAC9BoC,QAAQC,IAAI,oBAAqBrC,GACjC,EAAKY,SAAS,CACVyC,KAAMrD,EAAK+C,e,+BAiCb,IAAD,SAE4B1D,KAAKkB,MAA9B8C,EAFH,EAEGA,KAFH,EAESG,eAEd,OACI,6BACI,wBAAIS,UAAU,gBAAd,uCAECZ,GAAQA,EAAKW,OAAS,GACnB,oCACKX,EAAK9E,IAAI,SAAA2F,GACN,OAAO,yBAAKD,UAAW,QACvB,kBAACE,EAAA,EAAD,CACIC,KAAK,WACLC,KAAK,GACL3F,GAAIwF,EAAElB,IACN5B,MAAO8C,EAAEI,MACTC,SAAU,SAACzF,GAAD,OAAO,EAAK2E,cAAc3E,EAAE4E,OAAOhF,KAC7C8F,MAAON,EAAEI,WAMjB,uBAAGG,KAAM,SAAT,IAAmB,4BAAQR,UAAW,OAAQtC,QAAStC,KAAKyD,mBAAzC,gC,GAzEdvB,cCoBdC,IAvBM,SAACH,GAAW,IAExBb,EAAmDa,EAAnDb,WAAYb,EAAuC0B,EAAvC1B,KAAiB4B,EAAsBF,EAAjCqD,UAAyBC,EAFpB,YAE4BtD,EAF5B,mCAI9B,OADAe,QAAQC,IAAI1C,GAEV,oCACIa,GAAcb,EAAKoD,SAASiB,OAAS,GAAKxD,GAA4B,UAAdb,EAAKyE,KAAsB,kBAAC,IAAD,eACnFQ,OAAQ,SAACvD,GACP,OAAO,kBAACE,EAAcF,KAEpBsD,IACCnE,GAAuC,IAAzBb,EAAKoD,SAASiB,OAC3B,kBAAC,IAAD,CAAUpC,GAAG,qBAEf,kBAAC,IAAD,CAAUA,GAAG,cCIVJ,IApBG,SAACH,GAAW,IACrB1B,EAAmD0B,EAAnD1B,KAAMa,EAA6Ca,EAA7Cb,WAAuBe,EAAsBF,EAAjCqD,UAAyBC,EADvB,YAC+BtD,EAD/B,mCAG3B,OACE,oCACIb,EAMAA,GAA4B,UAAdb,EAAKyE,KACjB,kBAAC,IAAD,CAAUxC,GAAG,UACb,kBAAC,IAAD,CAAUA,GAAG,UARF,kBAAC,IAAD,eACbgD,OAAQ,SAACvD,GACP,OAAO,kBAACE,EAAcF,KAEpBsD,O,GCAGnD,E,iLARX,OACE,6BACE,oD,GAJcD,c,2CCsHPC,I,2MAjHbjB,MAAQ,CACNX,SAAU,GACVC,SAAU,GACVqD,UAAW,GACXC,SAAU,GACV0B,QAAQ,EACRC,MAAO,I,EAITC,iBAAmB,SAACC,GAClBA,EAAMC,iBACN,IAAMrF,EAAW,EAAKW,MAAMX,SACtBC,EAAW,EAAKU,MAAMV,SACtBqD,EAAY,EAAK3C,MAAM2C,UACvBC,EAAW,EAAK5C,MAAM4C,SAE5B5D,IAAMO,KAAK,oCAAqC,CAAEoD,YAAWC,WAAUvD,WAAUC,aAC9EE,KAAK,SAACJ,GAEL,EAAKiB,SAAS,CACZhB,SAAU,GACVC,SAAU,GACVqD,UAAW,GACXC,SAAU,GACV0B,QAAQ,MAKX3D,MAAM,SAAAgE,GACiB,wCAAlBA,EAAMC,SACR,EAAKvE,SAAS,CACZkE,MAAO,c,EAOjBM,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAGhB,IAAD,EAC6C/B,KAAKkB,MAAjDX,EADD,EACCA,SAAUC,EADX,EACWA,SAAUqD,EADrB,EACqBA,UAAWC,EADhC,EACgCA,SACvC,OACE,oCAEyB,WAArB9D,KAAKkB,MAAMuE,OACX,kBAACO,EAAA,EAAD,CAAmBC,MAAO,SAAUrB,UAAW,QAA/C,qEAIF,kBAACsB,EAAA,EAAD,CAAMC,MAAO,CAAEC,WAAY,WAAaxB,UAAU,oBAChD,0BAAMyB,SAAUrG,KAAK0F,kBACnB,kBAACY,EAAA,EAAD,CAAK1B,UAAW,IACd,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAOC,QAAQ,aAAf,WAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,YAAavF,GAAG,YAAYqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,YAAYjD,MAAO8B,EAAWqB,SAAUlF,KAAK+F,iBAIhI,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,cAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAO+B,EAAUoB,SAAUlF,KAAK+F,gBAG3H,kBAACQ,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,aAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAOxB,EAAU2E,SAAUlF,KAAK+F,iBAI7H,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,kBAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,WAAWC,KAAK,WAAWjD,MAAOvB,EAAU0E,SAAUlF,KAAK+F,iBAIjI,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,OAAQG,KAAK,SAAShD,MAAM,iBAMpD,uBAAG6C,UAAW,QAAd,wBACA,kBAAC,IAAD,CAAMrC,GAAI,SAAUqC,UAAW,QAA/B,oBAGD5E,KAAKkB,MAAMsE,QAEV,kBAAC,IAAD,CAAUjD,GAAG,e,GA3GFL,cC0DNC,I,2MA1DbjB,MAAQ,CACNX,SAAU,GACVC,SAAU,GACVmG,aAAa,G,EAGfjB,iBAAmB,SAACC,GAClBA,EAAMC,iBADsB,MAEG,EAAK1E,MAA5BX,EAFoB,EAEpBA,SAAUC,EAFU,EAEVA,SAElB,EAAKwB,MAAMP,MAAM,CAAElB,WAAUC,aAC1BE,KAAK,SAACJ,GACLyC,QAAQC,IAAI1C,KAEbuB,MAAM,SAAAgE,GAAK,OACV,EAAKtE,SAAS,CACZoF,aAAa,O,EAKrBZ,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAGhB,IAAD,EACwB/B,KAAKkB,MAA5BX,EADD,EACCA,SAAUC,EADX,EACWA,SAClB,OACE,oCAGIR,KAAKkB,MAAMyF,aACX,kBAACX,EAAA,EAAD,CAAmBC,MAAM,SAASrB,UAAW,QAA7C,sCAIF,kBAACsB,EAAA,EAAD,CAAMC,MAAO,CAAEC,WAAY,WAAaxB,UAAU,aAChD,0BAAMyB,SAAUrG,KAAK0F,kBACnB,2BAAOe,QAAQ,YAAf,YACA,2BAAO7B,UAAW,YAAa8B,SAAS,OAAOrH,GAAG,WAAW0F,KAAK,OAAOC,KAAK,WAAWjD,MAAOxB,EAAU2E,SAAUlF,KAAK+F,eACzH,2BAAOnB,UAAW,OAAQ6B,QAAQ,YAAlC,YACA,2BAAO7B,UAAW,YAAa8B,SAAS,OAAOrH,GAAG,WAAW0F,KAAK,WAAWC,KAAK,WAAWjD,MAAOvB,EAAU0E,SAAUlF,KAAK+F,eAC7H,2BAAOnB,UAAW,yBAA0BG,KAAK,SAAShD,MAAM,uBAGlE,uBAAG6C,UAAW,QAAd,wBACE,kBAAC,IAAD,CAAMrC,GAAI,UAAWqC,UAAW,QAAhC,yB,GAhDQ1C,c,qFCoKLnB,MAAM6F,KAAKC,YAAW1E,EA3JhB,SAAC,GAAsF,EAApF2E,SAAqF,IAA3EC,EAA0E,EAA1EA,QAASrD,EAAiE,EAAjEA,SAAUsD,EAAuD,EAAvDA,KAAMC,EAAiD,EAAjDA,UAAWC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,SAAanF,EAAY,+FAEhEoF,mBAAS,IAFuD,mBAElGC,EAFkG,KAEpFC,EAFoF,KAiC1G,OATAC,oBAAW,WACT,GAAGJ,GAAYJ,EAAQS,KAAM,CAC3B,IACMC,EADWV,EAAQS,KAAKE,MAAM,MACP,GAE7BJ,EAAgBG,MAKlB,kBAAClB,EAAA,EAAD,CAAKoB,IAAI,KAAK/C,UAAU,QACtB,kBAAC,IAAD,CAAoBvF,GAAG,UAAUsB,KAAMoG,EAAQ1H,IAC7C,kBAAC6G,EAAA,EAAD,CAAMC,MAAO,CAAEyB,MAAO,SAAUC,OAAQ,OAAQC,SAAU,OACzDC,eAAgB,SAAUC,QAAS,QAClC1F,QAAS,SAAAqD,GAAK,OAAIuB,EAAYvB,EAAOoB,EAAQ1H,MAI5CqE,GACC,oCACE,kBAAC4C,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,KACP,uBAAG5B,UAAU,mCACVmC,EAAQ9B,QAKQ,UAApBjD,EAAM1B,KAAKyE,KACZ,oCACC,kBAACwB,EAAA,EAAD,CAAKC,GAAI,KACR,kBAAC,IAAD,CAAMjE,GAAI,oBAAsBwE,EAAQpD,IAAKiB,UAAW,kBAAmBuB,MAAO,CAAC2B,SAAU,SAA7F,iBAIA,kBAACvB,EAAA,EAAD,CAAKC,GAAI,KACP,4BAAQ5B,UAAW,kBAAmBuB,MAAO,CAAC0B,OAAQ,QAASvF,QAAS,kBAxDnE,SAACyE,GACtBkB,uBAAa,CACXhD,MAAO,UAAU8B,EAAQ9B,MACzBa,QAAS,iDACToC,QAAS,CACL,CACI/C,MAAO,SACP7C,QAAS,WACPE,EAAeS,cAAc8D,EAAQpD,KACrCwE,OAAOC,SAASC,WAGtB,CACIlD,MAAO,eA2C6ElC,CAAc8D,KAA5F,YAIF,kBAACR,EAAA,EAAD,CAAKC,GAAI,KACT,kBAAC,IAAD,CAAMjE,GAAI,oBAAsBwE,EAAQpD,IAAKiB,UAAW,kBAAmBuB,MAAO,CAAC2B,SAAU,SAA7F,mBAUPd,GACC,oCACE,kBAACV,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,KACL,uBAAG5B,UAAU,mCACVmC,EAAQ9B,QAIf,kBAACsB,EAAA,EAAD,CAAKC,GAAI,KACP,uBAAG5B,UAAU,+BAEV0D,IAAOvB,EAAQwB,MAAMC,OAAO,OAIjC,kBAACjC,EAAA,EAAD,CAAKC,GAAI,IAAKL,MAAO,CAACsC,UAAW,WAC/B,kBAAC,IAAD,CAAMlG,GAAI,gBAAkBwE,EAAQpD,IAAKiB,UAAW,kBAAmBuB,MAAO,CAAC2B,SAAU,SAAzF,mBAQPb,GACC,oCACG,kBAACV,EAAA,EAAD,CAAKC,GAAI,KACR,uBAAG5B,UAAU,mCACVmC,EAAQlD,UADX,IACuBkD,EAAQjD,WAGlC,kBAACyC,EAAA,EAAD,CAAKC,GAAI,KACN,uBAAG5B,UAAU,mCACVmC,EAAQxG,YAMhB4G,GACC,oCACE,kBAACb,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,KACL,uBAAG5B,UAAU,mCACVmC,EAAQ9B,QAGf,kBAACsB,EAAA,EAAD,CAAKC,GAAI,KACL,uBAAG5B,UAAU,mCACVmC,EAAQzG,KAAKC,WAGpB,kBAACgG,EAAA,EAAD,CAAKC,GAAI,KACP,2BACG8B,IAAOvB,EAAQwB,MAAMC,OAAO,OAGjC,kBAACjC,EAAA,EAAD,CAAKC,GAAI,KACW,KAAjBa,GACC,uBAAGjC,KAAMsD,OAAQ,KAAWrB,GAAehI,GAAG,qBAC9CsJ,SAAU5B,EAAQU,WADlB,uB,kBCnBLmB,E,2MAzHX1H,MAAQ,CAEJgD,aAAc,GACdR,SAAU,GACVmF,OAAQ,KACRC,YAAa,KACbC,cAAe,KACfC,SAAS,G,EAObC,UAAY,SAACC,EAAMvD,GACfA,EAAMC,iBACN,EAAK5D,MAAMmH,YAAYD,I,EAG3BhC,YAAc,SAACvB,EAAOtG,GAuClB8H,SAASiC,cAAcC,Q,EAG3B5G,YAAc,WACVD,EAAeC,cAAc/B,KAAK,SAAAgD,GAAQ,OAAI,EAAKnC,SAAS,CAAEmC,WAAUmF,OAAQ,e,EAGpFjG,gB,qBAAkB,4BAAAiC,EAAA,qEACKyE,EAAY1H,KADjB,OACRtB,EADQ,OAGdkC,EAAeI,gBAAgBtC,EAAKqD,KAAKjD,KAAK,SAAAwD,GAAY,OAAI,EAAK3C,SAAS,CAAE2C,eAAc2E,OAAQ,eAAgBG,SAAS,MAH/G,yC,mFAtDdhJ,KAAK4C,oB,+BA8DC,IAAD,SAE4B5C,KAAKkB,MAA9BgD,EAFH,EAEGA,aAAc2E,EAFjB,EAEiBA,OACtB,OAEI,6BAASxJ,GAAG,WACR,wBAAIuF,UAAU,gBAAd,eACY,iBAAXiE,EACG,yBAAKjE,UAAW,WACZ,yBAAK2E,IAAKP,OAGd9E,GAAgBA,EAAaS,OAAS,EAClC,6BAEKT,EAAahF,IAAI,SAACsK,EAASjF,GACxB,OACI,kBAAC,EAAD,CACIkF,IAAKD,EAAQnK,GACb0H,QAASyC,EACTtC,YAAa,EAAKA,YAClBxD,UAAQ,OAOxB,wBAAIkB,UAAU,eAAd,8B,GAvGC1C,aCiEVC,G,OAAAA,E,iLAhED,IACE7B,EAASN,KAAKgC,MAAd1B,KACR,OACI,4BAAQjB,GAAG,UAEP,yBAAKuF,UAAU,UAEX,yBAAKvF,GAAG,QAEJ,0BAAMA,GAAG,SAAT,IACI,uCADJ,QAOJ,yBAAKA,GAAG,QAAR,IACI,4BACmB,UAAdiB,EAAKyE,MACF,4BACI,kBAAC,IAAD,CAASxC,GAAG,QAAQmH,gBAAgB,UAApC,WAGkB,UAAzB1J,KAAKgC,MAAM1B,KAAKyE,MACb,oCACI,4BACI,kBAAC,IAAD,CAASxC,GAAG,cAAcmH,gBAAgB,UAA1C,aAEJ,4BACI,kBAAC,IAAD,CAASnH,GAAG,iBAAiBmH,gBAAgB,UAA7C,iBAIZ,4BACI,kBAAC,IAAD,CAASnH,GAAG,QAAQmH,gBAAgB,UAApC,SAEJ,4BACI,kBAAC,IAAD,CAASnH,GAAG,QAAQmH,gBAAgB,UAApC,aAEA,4BACI,kBAAC,IAAD,CAASnH,GAAG,aAAamH,gBAAgB,UAAzC,eAER,4BACI,kBAAC,IAAD,CAASnH,GAAG,QAAQmH,gBAAgB,UAApC,aASZ,yBAAK9E,UAAU,mB,GAtDd1C,e,kBCoFNyH,GCtFKzH,YCmBA,IApBlB,aAAe,IAAD,gCAQZ0H,QAAU,WACN,EAAKlH,QAAQ7B,IAAI,KACdH,KAAK,qBAAEC,QAVF,KAcZkJ,YAAc,SAACxK,GACb,EAAKqD,QAAQ7B,IAAI,SAAWxB,GAAIqB,KAAK,qBAAEC,QAdzCX,KAAK0C,QAAUxC,IAAMC,OAAO,CAC1BC,QAAS,iCACTC,iBAAiB,K,2MFMnBa,MAAQ,CACJ8F,KAAM,GACN8C,KAAM,GACNC,YAAY,EACZC,SAAS,EACTC,SAAS,EACTpB,OAAQ,M,EASZqB,Y,qBAAc,sBAAArF,EAAA,qDAEG3E,IAAMC,OAAO,CACtBC,QAAS,6BACTC,iBAAiB,IAEhBQ,IAAI,KAAKH,KAAK,YAAa,IAAXC,EAAU,EAAVA,KACjB,EAAKY,SAAS,CACVyF,KAAMrG,EAAKwJ,SACXtB,OAAQ,cATN,yC,EAgBd3B,YAAe,SAACvB,EAAOtG,GACnB8H,SAASiC,cAAcC,Q,mFArBxBrJ,KAAKkK,gB,+BAyBE,IAAD,OAEL,OAEI,6BAAS7K,GAAG,WAEe,YAAtBW,KAAKkB,MAAM2H,OACR,yBAAKjE,UAAW,WACZ,yBAAK2E,IAAKP,QAGThJ,KAAKkB,MAAM6I,YAAc/J,KAAKkB,MAAM8F,KAAKrC,OAAS,EAE/C3E,KAAKkB,MAAM8F,KAAK9H,IAAI,SAAAkL,GAChB,OACE,kBAAC,EAAD,CACMX,IAAKW,EAAEzG,IACPoD,QAASqD,EACTpD,MAAI,EACJE,YAAa,EAAKA,gBAM1B,wBAAItC,UAAU,eAAd,wB,GA/DT1C,cGgMRmI,G,kNA3LXnJ,MAAQ,CACJoJ,WAAY,KACZC,WAAY,KACZC,UAAU,EACVC,UAAU,G,EAGdC,WAAa,SAACrL,GACV,EAAKkC,SAAS,CACV+I,WAAYjL,EACZmL,UAAU,IAGd/E,MAAM,qB,EAIVkF,aAAe,SAACtL,GACZ4I,uBAAa,CACThD,MAAO,iBACPa,QAAS,8CACToC,QAAS,CACL,CACI/C,MAAO,SACP7C,QAAS,WAEL,EAAKf,SAAS,CACVgJ,WAAYlL,EACZoL,UAAU,MAKtB,CACItF,MAAO,WACP7C,QAAS,WACL,EAAKf,SAAS,CACVkJ,UAAU,U,EAWlCG,WAAa,SAACH,GACGvK,IAAMC,OAAO,CACtBC,QAAS,yBACTC,iBAAiB,IAEhB6C,OAAO,SAAWuH,GAClB/J,KAAK,SAAAmK,GACF9H,QAAQC,IAAI,qBACZD,QAAQC,IAAI6H,EAAIlK,MAChB,EAAKY,SAAS,CACV0I,SAAS,EACTpB,OAAQ,e,wEAOd,IAAD,OAEL,OACI,oCACI,kBAAC,EAAD,MAGA,yBAAKxJ,GAAG,SAASuF,UAAW5E,KAAKgC,MAAM8I,MAAvC,IAEyB,mBAApB9K,KAAKgC,MAAM8I,MACR,yBAAKlG,UAAU,eACX,4BAAK5E,KAAKgC,MAAMiD,QAKH,kBAApBjF,KAAKgC,MAAM8I,MACR,6BACI,wBAAIlG,UAAU,uBAAuB5E,KAAKgC,MAAMiD,OAChD,2BAAOF,KAAK,OAAOC,KAAK,UAAU+F,YAAa/K,KAAKgC,MAAMgJ,SAC1D,2BAAOjG,KAAK,OAAOC,KAAK,gBAAa+F,YAAa/K,KAAKgC,MAAMiJ,SAC7D,kBAAC,IAAD,CAAM1I,GAAG,SAASvC,KAAKgC,MAAMkJ,MAIhB,mBAApBlL,KAAKgC,MAAM8I,MAA6B9K,KAAKgC,MAAMmJ,OAChD,6BACI,wBAAIvG,UAAU,gBAAgB5E,KAAKgC,MAAMiD,OAEzC,yBAAK5F,GAAG,gBACJ,yBAAKkK,IAAKvJ,KAAKgC,MAAMmJ,SAIzB,yBAAK9L,GAAG,kBACJ,2BAAIW,KAAKgC,MAAMoJ,UAGnB,yBAAK/L,GAAG,iBACJ,qCACA,4BAAKW,KAAKgC,MAAM1B,KAAKuD,UAArB,IAAiC7D,KAAKgC,MAAM1B,KAAKwD,WAGrD,yBAAKzE,GAAG,eACJ,sCAAYW,KAAKgC,MAAMuG,OAG3B,yBAAKlJ,GAAG,cACJ,4BAAQuF,UAAU,SAAStC,QAAS,kBAAM,EAAKqI,aAAa,EAAK3I,MAAM3C,MAAvE,UACA,4BAAQuF,UAAU,SAAStC,QAAS,kBAAM,EAAKoI,WAAW,EAAK1I,MAAM3C,MAArE,YAOS,mBAApBW,KAAKgC,MAAM8I,OAA8B9K,KAAKgC,MAAMmJ,OACjD,6BACKpI,QAAQC,IAAIhD,KAAKgC,MAAMqJ,QACxB,wBAAIzG,UAAU,gBAAgB5E,KAAKgC,MAAMiD,OACzC,yBAAK5F,GAAG,mBACJ,2BAAIW,KAAKgC,MAAMoJ,UAEnB,yBAAK/L,GAAG,iBACJ,qCACA,4BAAKW,KAAKgC,MAAMqJ,OAAOxH,UAAvB,IAAmC7D,KAAKgC,MAAMqJ,OAAOvH,WAEzD,yBAAKzE,GAAG,eACJ,sCAAYiJ,IAAOtI,KAAKgC,MAAMuG,MAAMC,OAAO,OAG/C,yBAAKnJ,GAAG,eACJ,4BAAQuF,UAAU,SAAStC,QAAS,kBAAM,EAAKqI,aAAa,EAAK3I,MAAM3C,MAAvE,UACA,4BAAQuF,UAAU,SAAStC,QAAS,kBAAM,EAAKoI,WAAW,EAAK1I,MAAM3C,MAArE,UACCW,KAAKkB,MAAMsJ,UACR,kBAAC,EAAD,CACIF,WAAYtK,KAAKkB,MAAMoJ,WACvBgB,OAAO,WASH,qBAApBtL,KAAKgC,MAAM8I,MACX,6BACI,4BAAK9K,KAAKgC,MAAMuJ,aAIvBvL,KAAKkB,MAAMsJ,UACR,kBAAC,EAAD,CACIF,WAAYtK,KAAKkB,MAAMoJ,WACvBgB,OAAO,SAIdtL,KAAKkB,MAAMuJ,UAAsC,OAA1BzK,KAAKkB,MAAMqJ,YAC/B,6BACKvK,KAAK4K,WAAW5K,KAAKkB,MAAMqJ,YAC5B,kBAAC,IAAD,CAAUhI,GAAG,wBAMrB,yBAAMqC,UAAU,mB,GAhLf1C,cC0BNC,I,iLArBP,OACI,6BACI,kBAAC,EAAD,MACA,kBAAC,EAAD,CACI2I,KAAK,iBACL7F,MAAM,qDACNuG,OAAO,OACPC,QAAQ,SACRC,QAAQ,QAGZ,kBAAC,EAAD,W,GAhBQxJ,cCwETC,I,2MA3EXjB,MAAQ,CACJf,QAAQ,EACR8J,SAAS,G,EAWb0B,WAAa,WACT,EAAKpK,SAAS,CACVpB,QAAS,EAAKe,MAAMf,U,mFATU,kBAA/BH,KAAKgC,MAAMoG,SAASwD,QACnB5L,KAAKuB,SAAS,CACV0I,SAAQ,M,+BAWV,IAEE3J,EAASN,KAAKgC,MAAd1B,KAER,OACI,oCACI,kBAAC,EAAD,MAEA,yBAAKsE,UAAW,iBAEe,IAAvB5E,KAAKkB,MAAM+I,SACX,kBAACjE,EAAA,EAAD,CAAmBC,MAAM,UAAU4F,MAAM,EAAO1F,MAAO,CAAE2B,SAAU,SAAnE,0CAIJ,wBAAIlD,UAAU,aAAd,YAEA,kBAAC0B,EAAA,EAAD,CAAK1B,UAAW,kBACZ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,KACL,2BAAO5B,UAAU,aAAaG,KAAK,OAAOoB,MAAO,CAAE2B,SAAU,QAAUiD,YAAY,uBAGvF,kBAACxE,EAAA,EAAD,CAAKC,GAAI,OACL,4BAAQ5B,UAAU,gBAAlB,WAEW,YAAdtE,EAAKyE,MACF,kBAACwB,EAAA,EAAD,CAAKC,GAAI,KACL,4BAAQ5B,UAAU,eAAetC,QAAStC,KAAK2L,YAA/C,mBAOZ,kBAAC,EAAD,CAAU3J,MAAOhC,KAAKgC,QACtB,yBAAK4C,UAAU,cAKlB5E,KAAKkB,MAAMf,QAER,kBAAC,IAAD,CAAUoC,GAAG,2B,GA/DVL,c,mBCmKRC,K,2MAjKXjB,MAAQ,CACJ7B,GAAI,GACJyM,MAAM,EACNvL,SAAU,GACVsD,UAAW,GACXC,SAAU,I,EAYdiI,SAAW,WACP,EAAKxK,SAAS,CACVuK,MAAO,EAAK5K,MAAM4K,Q,EAI1BE,S,qBAAW,4BAAAnH,EAAA,4DACP,EAAKkH,WAECE,EAAe,CACjBpI,UAAW,EAAK3C,MAAM2C,UACtBC,SAAU,EAAK5C,MAAM4C,SACrBvD,SAAU,EAAKW,MAAMX,UANlB,SASDL,IAAMgM,IAAI,+BAAiC,EAAKhL,MAAM7B,GAAI4M,GAC3DvL,KAAK,SAACC,GACHoC,QAAQC,IAAIrC,KAEfkB,MAAM,SAAAiB,GACHC,QAAQC,IAAIF,KAdb,yC,mFAdP9C,KAAKuB,SAAS,CACVlC,GAAIW,KAAKgC,MAAM1B,KAAKqD,IACpBpD,SAAUP,KAAKgC,MAAM1B,KAAKC,SAC1BsD,UAAW7D,KAAKgC,MAAM1B,KAAKuD,UAC3BC,SAAU9D,KAAKgC,MAAM1B,KAAKwD,a,mCA6BrB6B,GACgB,cAAtBA,EAAMtB,OAAOW,MACZhF,KAAKuB,SAAS,CACVsC,UAAW8B,EAAMtB,OAAOtC,QAIP,aAAtB4D,EAAMtB,OAAOW,MACZhF,KAAKuB,SAAS,CACVuC,SAAU6B,EAAMtB,OAAOtC,QAIN,aAAtB4D,EAAMtB,OAAOW,MACZhF,KAAKuB,SAAS,CACVhB,SAAUoF,EAAMtB,OAAOtC,U,+BAS/B,OAEI,yBAAK1C,GAAG,QACJ,kBAAC,EAAD,MAGA,wBAAIuF,UAAU,iBAAd,SAGA,kBAAC0B,EAAA,EAAD,CAAK1B,UAAW,aACZ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,IAAKL,MAAO,CAAEgG,YAAa,SAChC,yBAAK5C,IAAK6C,KAAMC,MAAM,WAAWC,IAAI,cAEzC,kBAAC/F,EAAA,EAAD,CAAKC,GAAI,KACHxG,KAAKkB,MAAM4K,KAwBL,kBAACxF,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,UACA,2BAAOA,UAAW,OAAQI,KAAK,OAAOD,KAAK,OAAOG,SAAUlF,KAAK+F,gBAErE,kBAACQ,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,aACA,2BAAOA,UAAW,OAAQI,KAAK,WAAWD,KAAK,OAAOG,SAAUlF,KAAK+F,gBAEzE,kBAACQ,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,YACA,2BAAOA,UAAW,OAAQI,KAAK,WAAWD,KAAK,OAAOG,SAAUlF,KAAK+F,gBAE9C,YAAzB/F,KAAKgC,MAAM1B,KAAKyE,MAAsB/E,KAAKgC,MAAM1B,MAC/C,kBAACiG,EAAA,EAAD,CAAKC,GAAI,MACL,wBAAI5B,UAAU,gBAAd,yCAtCZ,kBAAC0B,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,UACA,4BAAK5E,KAAKkB,MAAM2C,YAEpB,kBAAC0C,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,aACA,4BAAK5E,KAAKkB,MAAM4C,WAEpB,kBAACyC,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,QACtB,wBAAIA,UAAU,gBAAd,YACA,4BAAK5E,KAAKkB,MAAMX,WAEO,UAAzBP,KAAKgC,MAAM1B,KAAKyE,MAAoB/E,KAAKgC,MAAM1B,MAC7C,kBAACiG,EAAA,EAAD,CAAKC,GAAI,MACL,wBAAI5B,UAAU,gBAAd,yCACA,4BAAK5E,KAAKgC,MAAM1B,KAAKoD,SAASiB,WA+BlD,kBAAC4B,EAAA,EAAD,CAAKC,GAAI,IAAKL,MAAO,CAACsC,UAAW,MAAOX,SAAU,OAAQyE,OAAQ,YAC5DvM,KAAKkB,MAAM4K,KAGL,uBAAGlH,UAAW,eAAgBtC,QAAStC,KAAKgM,UAA5C,WAFJ,uBAAGpH,UAAW,eAAgBtC,QAAStC,KAAK+L,UAA5C,YAOZ,kBAACzF,EAAA,EAAD,CAAK1B,UAAW,QACZ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,aACrB,4BAAQuB,MAAO,CAAE2B,SAAU,SAA3B,0BAEJ,kBAACvB,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,QACrB,4BAAQuB,MAAO,CAAE2B,SAAU,QAAUxF,QAAStC,KAAKgC,MAAML,QAAzD,sBAMR,yBAAKiD,UAAU,kB,GAtJZ1C,c,yRCFnB,IAceC,KAdC,SAAC,GAA8B,IAA5BqK,EAA2B,EAA3BA,MAAO1G,EAAoB,EAApBA,QAASxF,EAAW,EAAXA,KACjC,OACE,oBAAKmM,IAAKA,aAAF,KAEQD,IAAUlM,EAAKqD,IAAM,sBAAwB,wBAE7C6I,IAAUlM,EAAKqD,IAAM,MAAQ,OAAc6I,IAAUlM,EAAKqD,IAAM,OAAS,QAGxFmC,KCaU4G,GAFK,IAvBlB,aAAe,IAAD,gCAOdC,WAAa,SAACC,GAAD,OAAY,EAAKlK,QAAQjC,KAAK,IAAK,CAAEmM,YAPpC,KASdC,eAAiB,kBAAM,EAAKnK,QAAQ7B,IAAI,KAAKH,KAAK,qBAAEC,QATtC,KAWdmM,QAAU,SAACzN,GAAD,OAAQ,EAAKqD,QAAQ7B,IAAb,WAAqBxB,IAAMqB,KAAK,qBAAEC,QAXtC,KAadoM,YAAc,kBAAM,EAAKrK,QAAQ7B,IAAI,gBAAgBH,KAAK,qBAAEC,QAb9C,KAedqM,aAAe,SAAC3N,GAAD,OAAQ,EAAKqD,QAAQ7B,IAAb,WAAqBxB,EAArB,eAAqCqB,KAAK,qBAAEC,QAfrD,KAiBdsM,YAAc,SAACnH,EAASoH,GACtB,EAAKxK,QAAQjC,KAAK,cAAe,CAACqF,UAASoH,WAASxM,KAAK,qBAAEC,QAjB3DX,KAAK0C,QAAUxC,IAAMC,OAAO,CAC1BC,QAAS,iCACTC,iBAAiB,K,omCCOvB,IAGM8M,GAAcC,KAAOC,IAAV,MASXC,GAAkBF,KAAOC,IAAV,MAoGNlL,KAzFF,SAAC,GAAsB,IAArB7B,EAAoB,EAApBA,KAAoB,2BACd8G,mBAASmG,KAxBlB,4BAwBDC,EADwB,oBAEzBC,EAAWC,mBAFc,EAGCtG,mBAAS,IAHV,mBAGxBuG,EAHwB,KAGdC,EAHc,OAIPxG,mBAAS,CAAEtB,QAAS,KAJb,mBAIxB+H,EAJwB,KAIlBC,EAJkB,OAKP1G,qBALO,mBAKlB2G,GALkB,WAO/BxG,oBAAU,WACN,IAAIyG,EAAQ7F,OAAOC,SAAS6F,SAASvG,MAAM,KACvCwF,EAASc,EAAMA,EAAMrJ,OAAO,GAChC+H,GAAYI,QAAQI,GAAQxM,KAAK,SAAAwN,GAC7BnL,QAAQC,IAAI,eACZD,QAAQC,IAAIkL,GACCA,EAAYP,SAEzBH,EAAOW,GAAG,kBAAmB,SAAAxN,GACzBoC,QAAQC,IAAI,QACZD,QAAQC,IAAIrC,GACZiN,EAAY,SAAAQ,GAAG,6BAAQA,GAAR,CAAazN,QAEhCoN,EAAQG,GACRN,EAAYM,EAAYP,aAE7B,IAEH,IAAMU,EAAoB,WACtB,IAAMvI,EAAU,CAAE0G,MAAOlM,EAAKqD,IAAM2K,KAAMT,EAAK/H,SAC/C0H,EAAOe,KAAK,eAAgBzI,GAC5B8H,EAAY,SAAAY,GAAW,6BAAQA,GAAR,CAAqB1I,MAC5C,IAAIkI,EAAQ7F,OAAOC,SAAS6F,SAASvG,MAAM,KACvCwF,EAASc,EAAMA,EAAMrJ,OAAO,GAChC+H,GAAYO,YAAYnH,EAASoH,GACjCY,EAAQ,CAAEhI,QAAS,MAevB,OAEQ,oBAAKlB,UAAU,QACX,aAAC,EAAD,MACA,aAACuI,GAAD,KACI,aAACG,GAAD,KACKK,GAAYA,EAASzO,IAAI,SAAC4G,EAAS2I,GAAV,OACvB,+BACE1L,QAAQC,IAAI,WACZD,QAAQC,IAAI8C,GAEb,aAAC,GAAD,CAAS2D,IAAKgF,EAAO3I,QAASA,EAAQwI,KAAM9B,MAAO1G,EAAQ0G,YAKnE,oBAAKC,IAAKA,aAAF,OACJ,sBAAOA,IAAKA,aAAF,MASVzH,KAAK,UACL0J,IAAKjB,EACL1L,MAAO8L,EAAK/H,QACZ6I,QApCC,SAAClP,GACA,KAAdA,EAAEmP,SACFP,KAmCYnJ,SA1CC,SAAAzF,GAAM,IAAD,EACEA,EAAE4E,OAAlBtC,EADc,EACdA,MAAOiD,EADO,EACPA,KACf8I,EAAQ,SAAAM,GAAG,O,uVAAA,IAASA,EAAT,eAAepJ,EAAOjD,SA0BrB,IAeI,uBAAQ6C,UAAU,kBAAkBtC,QAAS+L,GAA7C,YAKR,oBAAKzJ,UAAU,gB,4DCxGhBiK,GAbQC,OAAaC,MAAM,CACtC9J,MAAO6J,OACFE,IAAI,EAAG,cACPC,IAAI,GAAI,aACRvI,SAAS,uBACd0E,QAAS0D,OACJE,IAAI,EAAG,cACPC,IAAI,IAAK,aACTvI,SAAS,yB,UCCZwI,G,2MAEFhO,MAAQ,CACJ2B,OAAQ,GACRsM,aAAa,EACb1J,MAAO,GACPR,MAAO,GACPmG,QAAS,GACTD,MAAO,I,EAWXiE,aAAe,SAACC,GAEZA,EAAOC,QAAU,EAAKpO,MAAM2B,OAC5BE,QAAQC,IAAIqM,GACCnP,IAAMC,OAAO,CAClBC,QAAS,yBACTC,iBAAiB,IAEnBI,KAAK,SAAU4O,GAChB3O,KAAK,SAACC,GACHoC,QAAQC,IAAI,QACZD,QAAQC,IAAIrC,GACZ,EAAKY,SAAS,CACVkE,MAAO,YAEX0C,OAAOC,SAASC,WAInBxG,MAAM,SAAClB,GACJ,EAAKY,SAAS,CACVkE,MAAO,Y,mFA5BnBzF,KAAKuB,SAAS,CACVsB,OAAQ7C,KAAKgC,MAAM1B,KAAKqD,MAE5BZ,QAAQC,IAAI,uBACZD,QAAQC,IAAIhD,KAAKkB,MAAMZ,Q,+BA+BjB,IAAD,SAC6BN,KAAKkB,MACjCqO,EAAgB,CAAEtK,MAFnB,EACGA,MACuBmG,QAF1B,EACUA,QACyBD,MAFnC,EACmBA,OAGxB,OAEI,oCACI,kBAAC,EAAD,MAEA,yBAAKvG,UAAW,gBACU,YAArB5E,KAAKkB,MAAMuE,MACR,oCACI,kBAACO,EAAA,EAAD,CAAmBC,MAAM,UAAU4F,MAAM,EAAO1F,MAAO,CAAE2B,SAAU,SAAnE,iCAKoB,SAArB9H,KAAKkB,MAAMuE,OACV,kBAAC+J,GAAA,EAAD,CAAOvJ,MAAM,SAAS4F,MAAM,EAAO1F,MAAO,CAAE2B,SAAU,SAAtD,qCAKR,yBAAKzI,GAAG,cACJ,yBAAKuF,UAAU,UAEX,kBAAC,KAAD,CACI2K,cAAgBA,EAChBE,iBAAkBZ,GAClBxI,SAAU,SAACgJ,EAAD,GAAgC,IAArBK,EAAoB,EAApBA,cACjBC,WAAW,WACP5M,QAAQC,IAAI,SACZ,EAAKoM,aAAaC,GAClBK,GAAc,IACf,OAGN,gBACGL,EADH,EACGA,OACAO,EAFH,EAEGA,OACAC,EAHH,EAGGA,QACA9J,EAJH,EAIGA,aACA+J,EALH,EAKGA,WACAV,EANH,EAMGA,aANH,EAOGW,aAPH,OASO,0BAAMnL,UAAU,eAAeyB,SAAU+I,GACrC,kBAACY,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAO5D,MAAM,2BAAb,UACA,2BACIzH,UAAU,eACVG,KAAK,QACLC,KAAK,QACLE,SAAUa,EACVmK,OAAQJ,EACR/N,MAAOsN,EAAOpK,MACdkB,MAAO,CAAE2B,SAAU,UAGtB8H,EAAO3K,OAAS4K,EAAQ5K,OAAS2K,EAAO3K,OAE7C,kBAAC+K,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,CAAO5D,MAAM,2BAAb,aACA,8BACIlG,MAAO,CAAEC,WAAY,QAAS0B,SAAU,QACxC/C,KAAK,UACLC,KAAK,UACLE,SAAUa,EACVmK,OAAQJ,EACR/N,MAAOsN,EAAOjE,UAIjBwE,EAAOxE,SAAWyE,EAAQzE,SAAWwE,EAAOxE,SAEjD,kBAAC4E,GAAA,EAAD,KACI,2BAAOjL,KAAK,OAAOoB,MAAO,CAAE2B,SAAU,OAAQqI,UAAW,OAAQC,aAAc,WAEnF,kBAACJ,GAAA,EAAD,KACI,kBAAC1J,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAI,KACL,uBAAGpB,KAAK,SAAQ,kBAACiL,GAAA,EAAD,CAAOtL,KAAK,SAAShD,MAAM,QAAQoE,MAAO,CAAE2B,SAAU,YAG1E,kBAACvB,EAAA,EAAD,CAAKC,GAAI,OACL,4BAAQL,MAAO,CAAE2B,SAAU,OAAQwI,cAAe,aAAe1L,UAAU,oBAAoBkG,KAAK,KAAK7E,MAAM,aAAY,uBAAGrB,UAAW,gBAAiBQ,KAAK,SAApC,2B,GApI5JlD,aAyJRqO,gBAAW,CAEtBC,iBAAkB,iBAAO,CAAEvL,MAAO,GAAImG,QAAS,GAAID,MAAO,KAC1DsE,iBAAkBZ,GAClBO,aACI,SAACC,EAAD,IAEIK,EAF2B,EAApBA,gBAEO,GACd,GAAKN,aAAaC,IAS1BoB,YAAa,YAjBFF,CAmBZ1J,YAAW1E,EAAS+M,MCxBRwB,G,2MArJXxP,MAAQ,CACJ8F,KAAM,GACN3H,GAAI,GACJwD,OAAQ,GACRvC,KAAM,GACNuI,OAAQ,M,EAyBZgB,Y,sCAAc,WAAMxK,GAAN,eAAAwF,EAAA,4DACJnC,EAAUxC,IAAMC,OAAO,CACzBC,QAAS,yBACTC,iBAAiB,IAHX,SAKJqC,EAAQ7B,IAAI,SAAWxB,GACxBqB,KAAK,SAAAmK,GACEA,EAAIlK,KACJ,EAAKY,SAAS,CACVyF,KAAM6D,EAAIlK,KAAKgQ,QACf9N,OAAQgI,EAAIlK,KAAKgQ,QAAQrQ,KACzByJ,YAAY,EACZlB,OAAQ,YAGZ,EAAKtH,SAAS,CACVsH,OAAQ,aAhBd,OAqBN,EAAK+H,QAAQ,EAAK1P,MAAM2B,QArBlB,yC,wDAyBd+N,QAAU,SAACvR,GACSa,IAAMC,OAAO,CACzBC,QAAS,yBACTC,iBAAiB,IAEbQ,IAAI,cAAgBxB,GACvBqB,KAAM,SAAAmK,GACAA,EAAIlK,MAEH,EAAKY,SAAS,CACVjB,KAAMuK,EAAIlK,KAAK2O,YAI1BzN,MAAM,SAAAiB,GACHC,QAAQC,IAAIF,M,EAKxB4H,WAAa,SAACF,GAEVtK,IAAMgM,IAAI,8BAAgC1B,GACrC9J,KAAK,SAAAmK,GACF,EAAKtJ,SAAS,CACVyF,KAAM6D,EAAIlK,KAAKgQ,QACf3G,SAAS,EACTnB,OAAQ,e,mFAxEpB,IAAMxJ,EAAKW,KAAKgC,MAAM6O,MAAMC,OAAOzR,GAEhCA,GACCW,KAAK6J,YAAYxK,GAGK,SAAtBW,KAAKgC,MAAMsJ,QACXtL,KAAK0K,WAAW1K,KAAKgC,MAAMsI,YAGL,SAAtBtK,KAAKgC,MAAMkB,QACXlD,KAAK4K,WAAW5K,KAAKgC,MAAMuI,c,+BAuE/B,OAEI,6BAASlL,GAAG,WAEe,YAAtBW,KAAKkB,MAAM2H,QACR,6BACI,yBAAKxJ,GAAG,gBACJ,uBAAG+F,KAAK,6BAAR,WAKHpF,KAAKkB,MAAM8F,KAAKmE,MACb,6BACI,kBAAC,EAAD,CACIL,KAAK,iBACLzL,GAAIW,KAAKkB,MAAM8F,KAAKrD,IACpBsB,MAAOjF,KAAKkB,MAAM8F,KAAK/B,MACvBmG,QAASpL,KAAKkB,MAAM8F,KAAKoE,QACzBD,MAAOnL,KAAKkB,MAAM8F,KAAKmE,MACvBE,OAAQrL,KAAKkB,MAAMZ,KACnBiI,KAAMvI,KAAKkB,MAAM8F,KAAKuB,QAI1B,6BACI,kBAAC,EAAD,CACIuC,KAAK,iBACLzL,GAAIW,KAAKkB,MAAM8F,KAAKrD,IACpBsB,MAAOjF,KAAKkB,MAAM8F,KAAK/B,MACvBmG,QAASpL,KAAKkB,MAAM8F,KAAKoE,QACzBC,OAAQrL,KAAKkB,MAAMZ,KACnBiI,KAAMvI,KAAKkB,MAAM8F,KAAKuB,c,GA9HrCrG,a,SCuDVC,K,2MAnDXjB,MAAQ,CAEJ6P,SAAU,GACVlI,OAAQ,M,EAOZ3B,YAAc,SAACvB,EAAOtG,GAClB8H,SAASiC,cAAcC,Q,EAG1B2H,e,qBAAiB,sBAAAnM,EAAA,qEACR1B,EAAYG,kBACjB5C,KAAK,SAAAmK,GACF9H,QAAQC,IAAI6H,EAAIlK,MAChB,EAAKY,SAAS,CACVwP,SAAUlG,EAAIkG,SACdlI,OAAQ,cANF,yC,mFAPf7I,KAAKgR,mB,+BAkBE,IAAD,OACL,OACI,6BACKhR,KAAKkB,MAAM6P,UAAY/Q,KAAKkB,MAAM6P,SAASpM,OAAS,GAAK3E,KAAKkB,MAAM6P,SAAS7R,IAAI,SAAA+R,GAC7E,OACG,kBAAC,EAAD,CACIxH,IAAKwH,EAAE5R,GACP0H,QAASkK,EACT/J,YAAa,EAAKA,YAClBD,WAAS,MAIpBjH,KAAKkB,MAAM6P,UAA2C,IAA/B/Q,KAAKkB,MAAM6P,SAASpM,QAExC,wBAAIC,UAAU,eAAd,sC,GA1CM1C,cCoDXC,K,2MAnDXjB,MAAQ,CAEJgQ,OAAQ,GACRrI,OAAQ,M,EAOZ3B,YAAc,SAACvB,EAAOtG,GAClB8H,SAASiC,cAAcC,Q,EAG1B8H,a,qBAAe,sBAAAtM,EAAA,qEACN1B,EAAYI,gBACjB7C,KAAK,SAAAmK,GACF9H,QAAQC,IAAI6H,EAAIlK,MAChB,EAAKY,SAAS,CACV2P,OAAQrG,EAAIqG,OACZrI,OAAQ,cANJ,yC,mFAPZ7I,KAAKmR,iB,+BAkBC,IAAD,OACL,OACI,6BACKnR,KAAKkB,MAAMgQ,QAAUlR,KAAKkB,MAAMgQ,OAAOvM,OAAS,GAAK3E,KAAKkB,MAAMgQ,OAAOhS,IAAI,SAAA2F,GACvE,OACG,kBAAC,EAAD,CACI4E,IAAK5E,EAAExF,GACP0H,QAASlC,EACTqC,YAAa,EAAKA,YAClBD,WAAS,MAInBjH,KAAKkB,MAAMgQ,QAAuC,IAA7BlR,KAAKkB,MAAMgQ,OAAOvM,QAErC,wBAAIC,UAAU,eAAd,mC,GA1CI1C,cCkETC,I,OAAAA,E,2MAzDXjB,MAAQ,CACJkQ,MAAO,CAACvR,QACRgJ,OAAQ,M,EAIZ3B,YAAc,SAACvB,EAAOtG,GAClB8H,SAASiC,cAAcC,Q,wEAMvB,OACI,6BACI,kBAAC,EAAD,MAEA,yBAAKhK,GAAG,QACJ,kBAACiH,EAAA,EAAD,CAAK1B,UAAU,aACX,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,MACJ,wBAAI5B,UAAU,gBAAd,aAEJ,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,IAAI5B,UAAU,aAClB,kBAAC,IAAD,CAAMrC,GAAI,eAAgBqC,UAAW,mBAArC,wBAIR,kBAAC,KAAD,KACI,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAKyM,kBAAkB,sBAAvB,WAGA,kBAAC,KAAD,CACIA,kBAAkB,sBADtB,eAQJ,kBAAC,KAAD,KACI,kBAAC,GAAD,OAGJ,kBAAC,KAAD,KACI,kBAAC,GAAD,c,GA/CJnP,e,oBCoITC,KA3IG,SAACH,GAAU,MAEDoF,mBAAS,IAFR,gCAGHA,mBAAS,KAHN,mBAGpBpD,EAHoB,KAGdsN,EAHc,OAIKlK,oBAAS,GAJd,mBAIpBmK,EAJoB,KAIVC,EAJU,OAKiBpK,oBAAS,GAL1B,mBAKpBqK,EALoB,KAKJC,EALI,OAMCtK,mBAAS,IANV,mBAMpBuK,EANoB,KAMZC,EANY,OAOOxK,mBAAS,IAPhB,mBAOpByK,EAPoB,KAOTC,EAPS,OAQO1K,qBARP,6BAU3BG,oBAAU,WACRxE,QAAQC,IAAI,SACZD,QAAQC,IAAIhB,GACZ+P,KAEC,IAEH,IAaMC,EAAa,sCAAG,sBAAAnN,EAAA,wDAGF,UAFD7C,EAAT1B,KAECyE,KAHW,gCAIZ5B,EAAYG,kBAAkB5C,KAAK,SAAAC,GACvCoC,QAAQC,IAAIrC,EAAKoQ,UACjB/M,EAAKU,KAAK/D,EAAKoQ,UACfO,EAAO,WAAP,eAAWtN,IACXjB,QAAQC,IAAIgB,GACZwN,GAAY,KATI,6CAcZrO,EAAYI,gBAAgB7C,KAAK,SAAAC,GACrC2Q,EAAQ3Q,EAAKuQ,QACbM,GAAY,KAhBI,yCAAH,qDAuBbO,EAAkB,sCAAG,4BAAAlN,EAAA,qDACnBvE,EAAO0B,EAAM1B,KAEnB6C,EAAYK,aAAalD,EAAKqD,KAAKjD,KAAK,SAAAuR,GACtCH,EAAaG,KAJU,yCAAH,qDAuBxB,OACE,6BACE,kBAAC,EAAD,MACEV,EAmCA,yBAAK3M,UAAW,kBACZ,wCACA,kBAACsN,GAAA,EAAD,CAAW/L,MAAO,CAAE2B,SAAU,SAC3B9D,GAAQA,EAAKW,OAAS,GACrBX,EAAK9E,IAAI,SAAAiT,GACP,OAAO,kBAACC,GAAA,EAAD,CAAeC,IAAI,IAAI/P,QAAS,kBAtGjC,SAACgQ,GAAY,IAEpBC,EAASvQ,EAAM1B,KAApBqD,IACRZ,QAAQC,IAAIuP,GACZxP,QAAQC,IAAIsP,GACZ5F,GAAYC,WAAW2F,GAAS5R,KAAK,YAAe,IAAZC,EAAW,EAAXA,KACtCoC,QAAQC,IAAI,qBACZD,QAAQC,IAAIrC,GACZiR,EAAUjR,EAAKgD,KACf+N,GAAkB,KA6FuCc,CAAcL,EAAExO,MAAMwC,MAAO,CAAEF,MAAO,QAASwM,eAAgB,OAAQlG,OAAQ,YAAc4F,EAAEtO,UAArI,IAAiJsO,EAAErO,aAKhK,4BAAQxB,QApDH,WACXkP,GAAY,IAmDmBrL,MAAO,CAACuM,MAAO,UAAxC,aA5CJ,oCACC3P,QAAQC,IAAIhB,EAAM1B,MACf0B,EAAM1B,KAAK2R,OAASjQ,EAAM1B,KAAK2R,MAAMtN,OAAS,GAAKkN,EAAUlN,OAAS,EACtE,yBAAKC,UAAU,kBACb,+CACA,kBAACsN,GAAA,EAAD,CAAY/L,MAAO,CAAE2B,SAAU,SAC3B+J,EAAU3S,IAAI,SAAAyT,GACd5P,QAAQC,IAAI,QACZD,QAAQC,IAAI2P,GACN,IAAMC,EAAsBD,EAAKvB,MAAMyB,OAAO,SAACpT,GAAD,OAAOA,EAAEkE,MAAQ3B,EAAM1B,KAAKqD,MAE1E,OAAO,kBAAC,IAAD,CAAMpB,GAAE,gBAAWoQ,EAAKhP,MAC7B,kBAACyO,GAAA,EAAD,CAAeC,IAAI,IAAIlM,MAAO,CAAEF,MAAO,QAASwM,eAAgB,OAAQlG,OAAQ,YAAcqG,OAM1G,4BAAQtQ,QAAS0P,EAAe7L,MAAO,CAACuM,MAAO,UAA/C,aAKA,oCACE,wBAAI9N,UAAU,kBAAd,4BACA,4BAAQtC,QAAS0P,GAAjB,cA0BTP,GACC,kBAAC,IAAD,CAAUlP,GAAI,SAAWoP,OCoBlBmB,G,2MAzJX5R,MAAQ,CACJsI,QAAS,GACTnK,GAAI,GACJwD,OAAQ,GACRvC,KAAM,GACNuI,OAAQ,M,EAiBZkK,W,sCAAa,WAAO1T,GAAP,SAAAwF,EAAA,qEACHrC,EAAeG,eAAetD,GAAIqB,KAAK,SAAAC,GACzC,EAAKY,SAAS,CACViI,QAAS7I,EAAK6I,QACdX,OAAQ,cAJP,yC,yIAZT,IAAMmK,EAAUhT,KAAKgC,MAAM6O,MAAMC,OAAOzR,GAErC2T,IACChT,KAAKuB,SAAS,CACVlC,GAAI2T,IAERhT,KAAK+S,WAAWC,M,+BAiBd,IAEExJ,EAAYxJ,KAAKkB,MAAjBsI,QAER,OACI,oCACKzG,QAAQC,IAAI,WACZD,QAAQC,IAAIwG,GAEb,kBAAC,EAAD,MAEKA,GAEG,yBAAK5E,UAAW,aACZ,kBAAC0B,EAAA,EAAD,KACI,oCACI,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,wBAAI5B,UAAU,gBAAgB4E,EAAQvE,UAKlD,kBAACqB,EAAA,EAAD,KACG,oCACK,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,sCAAYgD,EAAQyJ,UAIhC,kBAAC3M,EAAA,EAAD,CAAK1B,UAAW,QACb,oCACK,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,4CAAegD,EAAQ0J,aAKpC,kBAAC5M,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACK,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,4CAIb,kBAACF,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACK,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,4BAAKgD,EAAQ4B,YAK1B,kBAAC9E,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACK,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,8CAIb,kBAACF,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACM4E,EAAQuH,UAAYvH,EAAQuH,SAASpM,OAAS,EAC3C6E,EAAQuH,SAAS7R,IAAI,SAAA+R,GACrB,OAAO,kBAAC1K,EAAA,EAAD,CAAKC,GAAI,MACf,4BAAKyK,EAAEpN,UAAWoN,EAAEnN,aAIzB,kBAACyC,EAAA,EAAD,CAAKC,GAAI,MACL,iFAOb,kBAACF,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACK,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,0CAIb,kBAACF,EAAA,EAAD,CAAK1B,UAAW,QACZ,oCACM4E,EAAQ0H,QAAU1H,EAAQ0H,OAAOvM,OAAS,EACvC6E,EAAQ0H,OAAOhS,IAAI,SAAA2F,GACnB,OAAO,kBAAC0B,EAAA,EAAD,CAAKC,GAAI,MACf,4BAAK3B,EAAEhB,UAAWgB,EAAEf,aAIrB,kBAACyC,EAAA,EAAD,CAAKC,GAAI,MACL,0E,GAhIftE,aCoIdC,K,2MAjIbjB,MAAQ,CACNX,SAAU,GACVC,SAAU,GACVqD,UAAW,GACXC,SAAU,GACVqP,YAAY,EACZ1N,MAAO,I,EAITC,iBAAmB,SAACC,GAClBA,EAAMC,iBACN,IAAMrF,EAAW,EAAKW,MAAMX,SACtBC,EAAW,EAAKU,MAAMV,SACtBqD,EAAY,EAAK3C,MAAM2C,UACvBC,EAAW,EAAK5C,MAAM4C,SAET5D,IAAMC,OAAO,CAC5BC,QAAS,yBACTC,iBAAiB,IAEVI,KAAK,qBAAsB,CAACF,WAAUC,WAAUqD,YAAWC,aACnEpD,KAAK,SAAAC,GACJoC,QAAQC,IAAIrC,GACZ,EAAKY,SAAS,CACZhB,SAAU,GACVC,SAAU,GACVqD,UAAW,GACXC,SAAU,GACVqP,YAAY,MAKftR,MAAM,SAAAgE,GACiB,wCAAlBA,EAAMC,SACR,EAAKvE,SAAS,CACZkE,MAAO,c,EAOjBM,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAGhB,IAAD,EAC6C/B,KAAKkB,MAAjDX,EADD,EACCA,SAAUC,EADX,EACWA,SAAUqD,EADrB,EACqBA,UAAWC,EADhC,EACgCA,SACvC,OACE,oCAEyB,WAArB9D,KAAKkB,MAAMuE,OACX,kBAACO,EAAA,EAAD,CAAmBC,MAAO,SAAUrB,UAAW,QAA/C,iEAIF,kBAACsB,EAAA,EAAD,CAAMC,MAAO,CAAEC,WAAY,WAAaxB,UAAU,oBAC9C,0BAAMyB,SAAUrG,KAAK0F,kBAErB,kBAACY,EAAA,EAAD,CAAK1B,UAAW,IAEZ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,wBAAI5B,UAAW,oBAAf,oBAIJ,kBAAC0B,EAAA,EAAD,CAAK1B,UAAW,IAChB,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAOC,QAAQ,YAAY7B,UAAW,QAAtC,WAEJ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,YAAYqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,YAAYjD,MAAO8B,EAAWqB,SAAUlF,KAAK+F,iBAIhI,kBAACO,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,cAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAO+B,EAAUoB,SAAUlF,KAAK+F,gBAG7H,kBAACQ,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,aAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAOxB,EAAU2E,SAAUlF,KAAK+F,iBAI7H,kBAACO,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,kBAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,WAAWC,KAAK,WAAWjD,MAAOvB,EAAU0E,SAAUlF,KAAK+F,iBAIjI,kBAACO,EAAA,EAAD,CAAK1B,UAAW,eAChB,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,iCAErB,uBAAGQ,KAAK,6BAAR,WAKJ,kBAACmB,EAAA,EAAD,CAAKC,GAAI,KACL,2BAAO5B,UAAW,OAAQG,KAAK,SAAShD,MAAM,kBAOzD/B,KAAKkB,MAAMiS,YAEV,kBAAC,IAAD,CAAU5Q,GAAG,qB,GA3HEL,cC0FVkR,G,2MApFXlS,MAAQ,CACJwC,SAAU,GACVmF,OAAQ,KACRC,YAAa,KACbC,cAAe,KACfC,SAAS,G,EAObC,UAAY,SAACC,EAAMvD,GACfA,EAAMC,iBACN,EAAK5D,MAAMmH,YAAYD,I,EAG3BhC,YAAc,SAACvB,EAAOtG,GAClB8H,SAASiC,cAAcC,Q,EAG3B5G,Y,qBAAc,sBAAAoC,EAAA,qEACJrC,EAAeC,cAAc/B,KAAK,YAAgB,IAAdgD,EAAa,EAAbA,SAAeX,QAAQC,IAAIU,GAAW,EAAKnC,SAAS,CAAEmC,WAAUmF,OAAQ,cADxG,yC,mFAZV7I,KAAKyC,gB,+BAiBC,IAAD,SAEwBzC,KAAKkB,MAA1BwC,EAFH,EAEGA,SAAUmF,EAFb,EAEaA,OAClB,OACI,oCACA,kBAAC,EAAD,MACA,6BAASxJ,GAAG,WACR,kBAACiH,EAAA,EAAD,CAAK1B,UAAU,aACP,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,MACJ,wBAAI5B,UAAU,gBAAd,gBAGJ,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,IAAI5B,UAAU,aAClB,kBAAC,IAAD,CAAMrC,GAAI,eAAgBqC,UAAW,mBAArC,0BAIA,YAAXiE,EACG,yBAAKjE,UAAW,WACZ,yBAAK2E,IAAKP,OAGdtF,GAAYA,EAASiB,OAAS,EAC1B,6BACK5B,QAAQC,IAAI,YACZD,QAAQC,IAAIU,GACZA,EAASxE,IAAI,SAACsK,EAASjF,GACpB,OACI,kBAAC,EAAD,CACIkF,IAAKD,EAAQnK,GACb0H,QAASyC,EACTtC,YAAa,EAAKA,YAClBxD,UAAQ,OAOxB,wBAAIkB,UAAU,eAAd,4B,GAnEG1C,aC4IZC,K,2MA7IbjB,MAAQ,CACN+D,MAAO,GACPmG,QAAS,GACT8H,SAAU,GACVD,MAAO,GACPI,mBAAmB,EACnB5N,MAAO,I,EAITC,iBAAmB,SAACC,GAClBA,EAAMC,iBACN,IAAMX,EAAQ,EAAK/D,MAAM+D,MACnBmG,EAAU,EAAKlK,MAAMkK,QACrB8H,EAAW,EAAKhS,MAAMgS,SACtBD,EAAQ,EAAK/R,MAAM+R,MAEN/S,IAAMC,OAAO,CAC5BC,QAAS,yBACTC,iBAAiB,IAEVI,KAAK,aAAc,CAACwE,QAAOmG,UAAS8H,WAAUD,UACtDvS,KAAK,SAAAC,GACJoC,QAAQC,IAAIrC,GACZ,EAAKY,SAAS,CACZ0D,MAAO,GACPmG,QAAS,GACT8H,SAAU,GACVD,MAAO,GACPI,mBAAmB,MAKtBxR,MAAM,SAAAgE,GACiB,wCAAlBA,EAAMC,SACR,EAAKvE,SAAS,CACZkE,MAAO,c,EAOjBM,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAGhB,IAAD,EACqC/B,KAAKkB,MAAzC+D,EADD,EACCA,MAAOmG,EADR,EACQA,QAAS8H,EADjB,EACiBA,SAAUD,EAD3B,EAC2BA,MAClC,OACE,oCAEyB,WAArBjT,KAAKkB,MAAMuE,OACX,kBAACO,EAAA,EAAD,CAAmBC,MAAO,SAAUrB,UAAW,QAA/C,iEAIF,kBAACsB,EAAA,EAAD,CAAMC,MAAO,CAAEC,WAAY,WAAaxB,UAAU,oBAC9C,0BAAMyB,SAAUrG,KAAK0F,kBAErB,kBAACY,EAAA,EAAD,CAAK1B,UAAW,IAEZ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,wBAAI5B,UAAW,oBAAf,sBAIJ,kBAAC0B,EAAA,EAAD,CAAK1B,UAAW,IAChB,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAOC,QAAQ,QAAQ7B,UAAW,QAAlC,cAEJ,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,QAAQqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,QAAQjD,MAAOkD,EAAOC,SAAUlF,KAAK+F,iBAIpH,kBAACO,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,WAAlC,cAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,8BAAU5B,UAAW,YAAa8B,SAAS,OAAO1B,KAAK,UAAUjD,MAAOqJ,EAASlG,SAAUlF,KAAK+F,gBAGpG,kBAACQ,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,YAAlC,aAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACT,4BAAQzE,MAAOmR,EAAUnI,YAAa,uBAAwB7F,SAAUlF,KAAK+F,aAAcf,KAAK,YAC1F,4BAAQjD,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,KACA,4BAAQA,MAAM,KAAd,QAKN,kBAACuE,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,SAAlC,UAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,4BAAQzE,MAAOkR,EAAOlI,YAAa,oBAAqB7F,SAAUlF,KAAK+F,aAAcf,KAAK,SACxF,4BAAQjD,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,YAKN,kBAACuE,EAAA,EAAD,CAAK1B,UAAW,0BAChB,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MAAO5B,UAAW,iCAEvB,uBAAGQ,KAAK,6BAAR,WAKJ,kBAACmB,EAAA,EAAD,CAAKC,GAAI,KACL,2BAAO5B,UAAW,OAAQG,KAAK,SAAShD,MAAM,kBAOzD/B,KAAKkB,MAAMmS,mBAEV,kBAAC,IAAD,CAAU9Q,GAAG,wB,GAvIEL,cCmBVC,KArBI,SAACH,GAAW,IAEtBb,EAAmDa,EAAnDb,WAAYb,EAAuC0B,EAAvC1B,KAAiB4B,EAAsBF,EAAjCqD,UAAyBC,EAFtB,YAE8BtD,EAF9B,mCAG5B,OACE,oCACGb,GAA4B,UAAdb,EAAKyE,KAAqB,kBAAC,IAAD,eACvCQ,OAAQ,SAACvD,GACP,OAAO,kBAACE,EAAcF,KAEpBsD,IAGA,kBAAC,IAAD,CAAU/C,GAAG,aCSVJ,KArBI,SAACH,GAAW,IAEtBb,EAAmDa,EAAnDb,WAA6Be,GAAsBF,EAAvC1B,KAAuC0B,EAAjCqD,WAAyBC,EAFtB,YAE8BtD,EAF9B,mCAG5B,OACE,oCACGb,EAAe,kBAAC,IAAD,eACdoE,OAAQ,SAACvD,GACP,OAAO,kBAACE,EAAcF,KAEpBsD,IAGA,kBAAC,IAAD,CAAU/C,GAAG,a,0FCKV+Q,GAFS,IAlBtB,aAAe,IAAD,gCAOdC,gBAAkB,SAACC,GAIjB,OADEzQ,QAAQC,IAAI,WAAYwQ,GACnB,EAAK9Q,QAAQjC,KAAb,cAAiC+S,GAAU9S,KAAK,qBAAEC,QAX7C,KAcd8S,gBAAkB,kBAAM,EAAK/Q,QAAQ7B,IAAb,kBAAmCH,KAAK,qBAAEC,QAbhEX,KAAK0C,QAAUxC,IAAMC,OAAO,CAC1BC,QAAS,iCACTC,iBAAiB,KC+QR8B,K,2MAnQXjB,MAAQ,CACJwS,UAAW,GACX7K,OAAQ,KACRC,YAAa,KACbC,cAAe,KACfC,SAAS,EACT2K,OAAO,EACPC,iBAAkB,KAClBC,QAAS,GACTC,aAAc,GACdC,cAAc,G,EASlBN,gB,qBAAkB,sBAAA5O,EAAA,qEACRyO,GAAgBG,kBAAkB/S,KAAK,YAAiB,IAAfgT,EAAc,EAAdA,UAC3C3Q,QAAQC,IAAI,UAAW0Q,QACNM,IAAdN,GACC,EAAKnS,SAAS,CAAEuS,aAAcJ,EAAW7K,OAAQ,cAJ3C,yC,EAUlBoL,YAAc,WACV,EAAK1S,SAAS,CACZoS,OAAQ,EAAKzS,MAAMyS,S,EAIzB1K,UAAY,SAACC,EAAMvD,GACfA,EAAMC,iBACN,EAAK5D,MAAMmH,YAAYD,I,EAG3BhC,YAAc,SAACvB,EAAOtG,GAClB8H,SAASiC,cAAcC,Q,EAG3BtF,a,qBAAe,4BAAAc,EAAA,4DACLvE,EAAO,EAAK0B,MAAM1B,KACxByC,QAAQC,IAAI1C,GAFD,SAGL6C,EAAYY,aAAazD,EAAKqD,KAAKjD,KAAK,YAAiB,IAAfgT,EAAc,EAAdA,UAC5C3Q,QAAQC,IAAI0Q,QACKM,IAAdN,GACC,EAAKnS,SAAS,CAAEmS,YAAW7K,OAAQ,cANhC,yC,EAWfqL,a,qBAAe,gCAAArP,EAAA,8DAC2B,EAAK3D,MADhC,EACH2S,QAASD,EADN,EACMA,iBACjB7Q,QAAQC,IAAI,WAAY4Q,IAGlBJ,EAAW,IAAIW,UAGZC,OACL,QACA,EAAKlT,MAAMmT,cAGfb,EAASY,OACL,QACA,EAAKlT,MAAM2S,SAGf,EAAKI,cAlBM,SAmBEX,GAAgBC,gBAAgBC,GAnBlC,iF,EAuBfzN,aAAe,SAACJ,GAAW,IAAD,EACEA,EAAMtB,OAAtBW,EADc,EACdA,KAAMjD,EADQ,EACRA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,EAG5BuS,aAAe,SAAA3O,GAGX,EAAKpE,SAAS,CAAE8S,aAAc1O,EAAMtB,OAAOkQ,MAAM,M,EAIrDC,OAAS,WACL,EAAKjT,SAAS,CACVwS,cAAe,EAAK7S,MAAM6S,gB,mFA9EF,UAAzB/T,KAAKgC,MAAM1B,KAAKyE,MACf/E,KAAKyT,oB,+BAkFH,IAAD,OACGnT,EAASN,KAAKgC,MAAd1B,KADH,EAEqDN,KAAKkB,MAApC4S,GAFtB,EAEGJ,UAFH,EAEc7K,OAFd,EAEsBiL,cAAcC,EAFpC,EAEoCA,aACnCU,EAAenU,EAAKoT,UAE1B,OACI,oCACA,kBAAC,EAAD,MACA,6BAASrU,GAAG,WACJ,kBAACiH,EAAA,EAAD,CAAK1B,UAAU,aACX,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,MACW,UAAdlG,EAAKyE,KACF,wBAAIH,UAAU,gBAAd,kBAEA,wBAAIA,UAAU,gBAAd,eAGR,kBAAC2B,EAAA,EAAD,CAAKC,GAAG,IAAI5B,UAAU,aAClB,kBAAC8P,GAAA,EAAD,CAAUC,OAAQZ,EAAcS,OAAQxU,KAAKwU,QACzC,kBAACI,GAAA,EAAD,CAAgBC,OAAK,GAArB,eAGA,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAAC,IAAD,CAAMxS,GAAI,mCAAV,6CAEJ,kBAACwS,GAAA,EAAD,CAAcC,SAAO,IACrB,kBAACD,GAAA,EAAD,KACI,kBAAC,IAAD,CAAMxS,GAAI,iBAAV,+BAKhB,kBAACgE,EAAA,EAAD,CAAKC,GAAG,IAAI5B,UAAU,aAClB,kBAACqQ,GAAA,EAAD,CAAQhP,MAAM,UAAU3D,QAAStC,KAAKiU,aAAtC,wBAGG,UAAd3T,EAAKyE,MACF,oCAEC0P,GAAgBA,EAAa9P,OAAS,EACtC,6BACK8P,EAAavV,IAAI,SAACiI,GACf,OACI,kBAAC,EAAD,CACIsC,IAAKtC,EAASxD,IACdoD,QAASI,EACTD,YAAa,EAAKA,YAClBC,UAAU,OAOvB,wBAAIvC,UAAU,oBAAd,sBAOO,UAAdtE,EAAKyE,MACF,oCACI,kBAAC,KAAD,KACI,kBAAC,KAAD,KACI,kBAAC,KAAD,CAAKsM,kBAAkB,sBAAvB,cAGA,kBAAC,KAAD,CACIA,kBAAkB,sBADtB,mBAOJ,kBAAC,KAAD,KACKyC,GAAgBA,EAAanP,OAAS,EACvC,6BACKmP,EAAa5U,IAAI,SAACiI,GACf,OACI,kBAAC,EAAD,CACIsC,IAAKtC,EAASxD,IACdoD,QAASI,EACTD,YAAa,EAAKA,YAClBC,UAAU,OAOtB,wBAAIvC,UAAU,eAAd,sBAIR,kBAAC,KAAD,KACC6P,GAAgBA,EAAa9P,OAAS,EACnC,6BACK8P,EAAavV,IAAI,SAACiI,GACf,OACI,kBAAC,EAAD,CACIsC,IAAKtC,EAASxD,IACdoD,QAASI,EACTD,YAAa,EAAKA,YAClBC,UAAU,OAOtB,wBAAIvC,UAAU,eAAd,wBAQnB5E,KAAKkB,MAAMyS,OACR,6BACI,kBAACuB,GAAA,EAAD,CAAOP,OAAQ3U,KAAKkB,MAAMyS,MAAOa,OAAQxU,KAAKiU,aAC9C,kBAACkB,GAAA,EAAD,0BACA,kBAACC,GAAA,EAAD,KACI,kBAAC9O,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,QAAlC,2CAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAavF,GAAG,OAAOqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,UAAUjD,MAAO/B,KAAKkB,MAAM2S,QAAS3O,SAAUlF,KAAK+F,iBAGlI,kBAACO,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,OAAQ6B,QAAQ,QAAlC,gBAEJ,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACL,2BAAO5B,UAAW,YAAa8B,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAO/B,KAAKkB,MAAM0S,iBAAkB1O,SAAUlF,KAAKsU,kBAItI,kBAACe,GAAA,EAAD,KACI,kBAACJ,GAAA,EAAD,CAAQhP,MAAM,UAAU3D,QAAStC,KAAKkU,cAAtC,WAAqE,IACrE,kBAACe,GAAA,EAAD,CAAQhP,MAAM,YAAY3D,QAAStC,KAAKiU,aAAxC,qB,GAnPA/R,c,UCoGboT,G,2MA5GXpU,MAAQ,CACN+D,MAAO,GACPqJ,KAAM,GACNiH,gBAAgB,EAChBpO,SAAU,GACVwM,OAAO,EACPE,QAAS,I,EAGX2B,aAAe,SAAC7P,GAChBA,EAAMC,iBACN,IAAMX,EAAQ,EAAK/D,MAAM+D,MACnBqJ,EAAO,EAAKpN,MAAMoN,KAExB,GAAa,KAAVrJ,GAAyB,KAATqJ,EAAY,CAE7B,EAAK/M,SAAS,CACZgU,gBAAgB,IAEpB,IAGYE,EAAOC,EAHfC,EAAM,IAAIC,KAAM,IAAI,KAAM,UAAU,GAExCC,EAAO,CAAC,QAAS,SAGjBC,EADS,GAETC,EAAazH,EAGbqH,EAAIK,aAAa,EAAG,IAAK,GAGzBN,EAAYC,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IAC3BK,YAAY,IACZC,gBAAgBlR,EAAO,IAGlCwQ,EAAQE,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACvBK,YAjBJ,IAkBIC,gBAAgBJ,EAAY,KAGvCJ,EAAIrH,KAAK,IAAKwH,EAAiB,IAASJ,GACxCI,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAxBP,GAwB+B,GAAIL,GAE1CK,GA1BO,IA0BYL,EAAM9Q,OAAS,IAAc,GAEhDgR,EAAIS,KAAK,iBACT,EAAK7U,SAAS,CACZ4F,SAAUwO,SAIVlQ,MAAM,gE,EAKVM,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAIf,IAAD,EAEe/B,KAAKkB,MAArB+D,EAFC,EAEDA,MAAOqJ,EAFN,EAEMA,KAEhB,OACE,oCACE,kBAAC,EAAD,MACA,6BAASjP,GAAG,WACV,yBAAKuF,UAAU,aACb,wBAAIA,UAAU,gBAAd,oBAEF,0BAAwCyB,SAAUrG,KAAKwV,cACnD,kBAAClP,EAAA,EAAD,CAAK1B,UAAW,IACd,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAOC,QAAQ,SAAf,cAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,YAAavF,GAAG,QAAQqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,QAAQjD,MAAOkD,EAAOC,SAAUlF,KAAK+F,iBAIpH,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,MACP,2BAAO5B,UAAW,OAAQ6B,QAAQ,QAAlC,UAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,MACP,8BAAU5B,UAAW,YAAavF,GAAG,OAAOqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,OAAOjD,MAAOuM,EAAMpJ,SAAUlF,KAAK+F,iBAIpH,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAK3B,UAAW,eACd,2BAAOA,UAAW,OAAQG,KAAK,SAAShD,MAAM,yB,GApGpCG,aCwCXmU,I,wLAhCP,OACI,yBAAKzR,UAAU,aACX,kBAAC0B,EAAA,EAAD,KACA,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACJ,kBAACF,EAAA,EAAD,OAQJ,kBAACC,EAAA,EAAD,CAAKC,GAAG,MACJ,kBAACF,EAAA,EAAD,a,GAfOpE,cCuPZoU,G,2MA1PXpV,MAAQ,CACN8D,KAAM,GACNuR,IAAK,GACLC,OAAQ,GACRvD,MAAO,GACPwD,IAAK,GACLC,UAAW,GACXC,SAAU,GACVC,QAAS,GACTzP,SAAU,GACVwM,OAAO,EACPE,QAAS,I,EAGX2B,aAAe,SAAC7P,GAChBA,EAAMC,iBADoB,MAE8C,EAAK1E,MAArE8D,EAFkB,EAElBA,KAAMuR,EAFY,EAEZA,IAAKtD,EAFO,EAEPA,MAAOuD,EAFA,EAEAA,OAAQC,EAFR,EAEQA,IAAKG,EAFb,EAEaA,QAASD,EAFtB,EAEsBA,SAAUD,EAFhC,EAEgCA,UAI1D,GAAuE,KAAXF,GAA6B,KAAZI,GAChE,KAAbD,GAAiC,KAAdD,EAAkB,CAEjC,IAAMG,EAAS,WAAa7R,EACtB8R,EAAW,QAAUP,EACrBQ,EAAW,gBAAeN,EAC1BO,EAAa,iBAAmB/D,EAChCgE,EAAc,WAAaT,EAC3BU,EAAc,+BAA8BN,EAC5CO,EAAc,4BAA8BR,EAC5CS,EAAa,2BAA6BV,EAElD,EAAKnV,SAAS,CACZgU,gBAAgB,IAEhB,IAGY8B,EAAgB3B,EAAW4B,EAAOC,EAAKC,EAAOC,EAAUC,EAAWC,EAAUC,EAHrFjC,EAAM,IAAIC,KAAM,IAAI,KAAM,UAAU,GAExCC,EAAO,CAAC,QAAS,SAGjBC,EADS,GAITH,EAAIK,aAAa,EAAG,IAAK,GAGzBN,EAAYC,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IAC7BK,YAAY,IACZC,gBA9BC,2CA8BsB,IAGhCkB,EAAiB1B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IAClCK,YAhBF,IAiBEC,gBAAgBU,EAAQ,KAEjCU,EAAM5B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IAC/BK,YApBM,IAqBNC,gBAAgBW,EAAU,KAE3BU,EAAQ7B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACjCK,YAxBM,IAyBNC,gBAAgBc,EAAa,KAE9BK,EAAQ3B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACjCK,YA5BM,IA6BNC,gBAAgBa,EAAY,KAE7BW,EAAWhC,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACpCK,YAhCM,IAiCNC,gBAAgBe,EAAa,KAE9BO,EAAW9B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACpCK,YApCM,IAqCNC,gBAAgBgB,EAAa,KAE9BO,EAAY/B,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACrCK,YAxCM,IAyCNC,gBAAgBiB,EAAY,KAE7BQ,EAAQjC,EAAIM,QAAQJ,EAAK,GAAIA,EAAK,IACjCK,YA5CM,IA6CNC,gBAAgBY,EAAU,KAE3BpB,EAAIrH,KAAK,IAAKwH,EAAiB,IAASJ,GACxCI,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAlDP,GAkD+B,GAAI,sBAE1CA,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAtDP,GAsD+B,GAAIuB,GAE1CvB,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EA1DP,GA0D+B,GAAIyB,GAE1CzB,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EA9DP,GA8D+B,GAAI0B,GAE1C1B,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAlEP,GAkE+B,GAAIwB,GAE1CxB,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAtEP,GAsE+B,GAAI8B,GAE1C9B,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EA1EP,GA0E+B,GAAI,0BAE1CA,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EA9EP,GA8E+B,GAAI6B,GAE1C7B,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAlFP,GAkF+B,GAAI2B,GAE1C3B,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIrH,KAAK,GAAKwH,EAtFP,GAsF+B,GAAI4B,GAE1C5B,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDmR,GAA6C,IAA1BJ,EAAU/Q,OAAS,IAAY,GAElDgR,EAAIS,KAAK,6BACT,EAAK7U,SAAS,CACd4F,SAAUwO,SAIZlQ,MAAM,gE,EAKVM,aAAe,SAACJ,GAAW,IAAD,EACAA,EAAMtB,OAAtBW,EADgB,EAChBA,KAAMjD,EADU,EACVA,MACd,EAAKR,SAAL,eAAiByD,EAAOjD,K,wEAIf,IAAD,EAEgF/B,KAAKkB,MAArF8D,EAFA,EAEAA,KAAMuR,EAFN,EAEMA,IAAKtD,EAFX,EAEWA,MAAOwD,EAFlB,EAEkBA,IAAYD,GAF9B,EAEuBqB,MAFvB,EAE8BrB,QAAkBI,GAFhD,EAEsCG,SAFtC,EAEgDH,SAASD,EAFzD,EAEyDA,SAAUD,EAFnE,EAEmEA,UAG7E,OACE,oCACE,kBAAC,EAAD,MACA,6BAASrX,GAAG,WACV,yBAAKuF,UAAU,aACb,wBAAIA,UAAU,gBAAd,6CAEF,0BAAwCyB,SAAUrG,KAAKwV,cAEnD,kBAAClP,EAAA,EAAD,CAAK1B,UAAW,IACd,kBAAC2B,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAO6B,QAAQ,QAAf,oBAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,aACvB,2BAAOA,UAAW,YAAavF,GAAG,OAAOqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,OAAOjD,MAAOiD,EAAME,SAAUlF,KAAK+F,iBAIjH,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,QAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,MAAMqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,MAAMjD,MAAOwU,EAAKrR,SAAUlF,KAAK+F,iBAI9G,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,gBAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,MAAMqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,MAAMjD,MAAO0U,EAAKvR,SAAUlF,KAAK+F,iBAI9G,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,WAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,SAASqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,SAASjD,MAAOyU,EAAQtR,SAAUlF,KAAK+F,iBAIvH,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,+BAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,QAAQqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,QAAQjD,MAAOkR,EAAO/N,SAAUlF,KAAK+F,iBAIpH,kBAACO,EAAA,EAAD,KACI,kBAACC,EAAA,EAAD,CAAKC,GAAI,KAAM5B,UAAW,yBACtB,2DAIR,kBAAC0B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,4BAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,WAAWqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,WAAWjD,MAAO4U,EAAUzR,SAAUlF,KAAK+F,iBAI7H,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,+BAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,UAAUqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,UAAUjD,MAAO6U,EAAS1R,SAAUlF,KAAK+F,iBAI1H,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAKC,GAAI,IAAK5B,UAAW,cACvB,2BAAOA,UAAW,OAAQ6B,QAAQ,QAAlC,2BAEF,kBAACF,EAAA,EAAD,CAAKC,GAAI,KACP,2BAAO5B,UAAW,YAAavF,GAAG,YAAYqH,SAAS,OAAO3B,KAAK,OAAOC,KAAK,YAAYjD,MAAO2U,EAAWxR,SAAUlF,KAAK+F,iBAIhI,kBAACO,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAK3B,UAAW,eACd,2BAAOA,UAAW,OAAQG,KAAK,SAAShD,MAAM,yB,GAlPzBG,aCyEtB4V,G,iLAvCX,OACE,kBAAC,IAAD,KAEE,kBAAC,EAAD,KACC/U,QAAQC,IAAI,iBAEVD,QAAQC,IAAIhD,KAAKgC,OAClB,yBAAK4C,UAAU,aACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOmT,OAAK,EAACvQ,KAAK,IAAIjC,OAAQ,kBAAM,kBAAC,IAAD,CAAUyS,KAAK,IAAIzV,GAAG,cAE1D,kBAAC,EAAD,CAAWiF,KAAK,UAAUnC,UAAW4S,IACrC,kBAAC,EAAD,CAAWzQ,KAAK,SAASnC,UAAW6S,IACpC,kBAAC,EAAD,CAAc1Q,KAAK,QAAQnC,UAAW8S,IACtC,kBAAC,EAAD,CAAcJ,OAAK,EAACvQ,KAAK,QAAQnC,UAAW+S,IAC5C,kBAAC,EAAD,CAAcL,OAAK,EAACvQ,KAAK,oBAAoBnC,UAAW6J,KACxD,kBAAC,EAAD,CAAc6I,OAAK,EAACvQ,KAAK,mBAAmBnC,UAAWqL,KACvD,kBAAC,EAAD,CAAclJ,KAAK,YAAYnC,UAAWgT,KAC1C,kBAAC,EAAD,CAAc7Q,KAAK,QAAQnC,UAAWiT,KACtC,kBAAC,EAAD,CAAc9Q,KAAK,QAAQnC,UAAWkT,KACtC,kBAAC,EAAD,CAAc/Q,KAAK,uBAAuBnC,UAAWyN,KACrD,kBAAC,GAAD,CAAYtL,KAAK,cAAcnC,UAAWmT,KAC1C,kBAAC,GAAD,CAAYhR,KAAK,eAAenC,UAAWoT,KAC3C,kBAAC,GAAD,CAAYjR,KAAK,iBAAiBnC,UAAW+N,KAC7C,kBAAC,GAAD,CAAY5L,KAAK,eAAenC,UAAWqT,KAC3C,kBAACC,GAAD,CAAgBnR,KAAK,aAAanC,UAAWuT,KAC7C,kBAACD,GAAD,CAAgBZ,OAAK,EAACvQ,KAAK,gBAAgBnC,UAAWiQ,KACtD,kBAACqD,GAAD,CAAgBZ,OAAK,EAACvQ,KAAK,kCAAkCnC,UAAWiR,KACxE,kBAACqC,GAAD,CAAgBZ,OAAK,EAACvQ,KAAK,OAAOnC,UAAWgR,KAC7C,kBAAC,IAAD,CAAO0B,OAAK,EAACvQ,KAAK,mBAAmBnC,UAAWwT,Y,GAhC5C3W,aCxBE4W,QACW,cAA7B3Q,OAAOC,SAAS2Q,UAEe,UAA7B5Q,OAAOC,SAAS2Q,UAEhB5Q,OAAOC,SAAS2Q,SAASlI,MACvB,2D,OCXNmI,IAASzT,OAAO,kBAAC,GAAD,MAAS4B,SAAS8R,eAAe,SACjD9R,SAAS+R,KAAK/S,MAAQ,yBDyHhB,kBAAmBgT,WACrBA,UAAUC,cAAcC,MAAM3Y,KAAK,SAAA4Y,GACjCA,EAAaC,iB","file":"static/js/main.e6e7a997.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.41360347.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ojoVerNoticia.73c6000e.png\";","module.exports = __webpack_public_path__ + \"static/media/logoetsi.6273d90a.png\";","var map = {\n\t\"./0k0QGSW4qSi9NcS9e87oaByH.pdf\": 397,\n\t\"./1TohQvpO_0MrmsE4Nu6jv68w.pdf\": 398,\n\t\"./85Sn8WDc9Wtqp4TS2uF96pCS.pdf\": 399,\n\t\"./gZfMoFeoewVNAkqmhG1lJD71.pdf\": 400,\n\t\"./hs4UzdXyNqFYvFSSGrtD7fwA.pdf\": 401,\n\t\"./ifvEaC5c1bv5eXYgpILJq50X.pdf\": 402\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 396;","module.exports = __webpack_public_path__ + \"static/media/0k0QGSW4qSi9NcS9e87oaByH.82546be1.pdf\";","module.exports = __webpack_public_path__ + \"static/media/1TohQvpO_0MrmsE4Nu6jv68w.aa2a3048.pdf\";","module.exports = __webpack_public_path__ + \"static/media/85Sn8WDc9Wtqp4TS2uF96pCS.b1316275.pdf\";","module.exports = __webpack_public_path__ + \"static/media/gZfMoFeoewVNAkqmhG1lJD71.8b36be62.pdf\";","module.exports = __webpack_public_path__ + \"static/media/hs4UzdXyNqFYvFSSGrtD7fwA.11d71a74.pdf\";","module.exports = __webpack_public_path__ + \"static/media/ifvEaC5c1bv5eXYgpILJq50X.2b433712.pdf\";","module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","import axios from 'axios';\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true,\r\n    })\r\n  }\r\n\r\n  signup(user) {\r\n    const { username, password } = user;\r\n    return this.auth.post('/auth/signup', {username, password})\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  login(user) {\r\n    const { username, password } = user;\r\n    return this.auth.post('/auth/login', {username, password})\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  logout() {\r\n    return this.auth.post('/auth/logout')\r\n      .then(response => response.data)\r\n  }\r\n\r\n  me() {\r\n    return this.auth.get('/auth/me')\r\n    .then(response => response.data)\r\n  }\r\n}\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;","import React, { Component } from 'react';\r\nimport authService from '../services/auth-service.js';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nclass AuthProvider extends Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    user: {},\r\n    isLoading: true,\r\n  }\r\n\r\n  userSignUp = (user) => {\r\n    return authService.signup(user)\r\n    .then((user) => {\r\n      this.setState({\r\n        isLoggedIn: true,\r\n        user\r\n      })\r\n    })\r\n  }\r\n\r\n  userLogin = (user) => {\r\n    return authService.login(user)\r\n    .then((user) => {\r\n      this.setState({\r\n        isLoggedIn: true,\r\n        user\r\n      })\r\n    }) \r\n  }\r\n\r\n  userLogout = () => {\r\n    return authService.logout()\r\n    .then(() => {\r\n      this.setState({\r\n        isLoggedIn: false,\r\n        user: {}\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    authService.me()\r\n    .then(user => {\r\n      if(user !== \"\"){\r\n        this.setState({\r\n          user,\r\n          isLoggedIn: true,\r\n          isLoading: false,\r\n        })\r\n      \r\n      }\r\n      else{\r\n        this.setState({\r\n          isLoggedIn: false,\r\n          user: {},\r\n          isLoading: false,\r\n        })\r\n      }\r\n     \r\n    })\r\n    .catch(() => {\r\n      this.setState({\r\n        isLoggedIn: false,\r\n        user: {},\r\n        isLoading: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {user, isLoggedIn, isLoading} = this.state;\r\n    return (\r\n      <>\r\n        {isLoading ? <p>Loading...</p> : (\r\n            <AuthContext.Provider value={ \r\n              {\r\n                user,\r\n                isLoggedIn,\r\n                login: this.userLogin,\r\n                signup: this.userSignUp,\r\n                logout: this.userLogout\r\n              }\r\n            }>\r\n              {this.props.children}\r\n            </AuthContext.Provider>\r\n          )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AuthProvider;\r\n","import React, {Component} from 'react'\r\nimport {AuthContext} from 'contexts/auth-context.js';\r\n\r\nconst withAuth = (Comp) => {\r\n  return class WithAuth extends Component {\r\n    render() {\r\n      return(\r\n        <AuthContext.Consumer>\r\n          {({user, isLoggedIn, login, signup, logout}) => (\r\n            <Comp  \r\n            user={user} \r\n            isLoggedIn={isLoggedIn} \r\n            login={login}\r\n            signup={signup}\r\n            logout={logout}\r\n            {...this.props}\r\n            />\r\n          )}\r\n        </AuthContext.Consumer>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default withAuth;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport withAuth from './withAuth.js';\r\n\r\nclass Navbar extends Component {\r\n  render() {  \r\n    return (\r\n      <div>\r\n        {this.props.isLoggedIn ? (\r\n          <>\r\n            <p>username: {this.props.user.username}</p>\r\n            <p onClick={this.props.logout}>Logout</p>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to='/login'>Login</Link>\r\n            <Link to='/signup'>Signup</Link>\r\n          </>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(Navbar);","import axios from 'axios';\r\n\r\nclass SubjectService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n    })\r\n  }\r\n\r\n  getSubjects = () => this.service.get('/subjects').then(({data}) => data);\r\n\r\n  getSubjectById = (id) => this.service.get(`/subjects/${id}`).then(({data}) => data);\r\n\r\n  getUserSubjects = (userId) => {\r\n    return this.service.get(\"/users/\" + userId + \"/subjects/\") \r\n        .then(({data}) => data)\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n      \r\n  }\r\n\r\n  deleteSubject = (id) => this.service.delete(`/subjects/${id}`).then(({data}) => data);\r\n}\r\n\r\nconst subjectService = new SubjectService();\r\n\r\nexport default subjectService;","import axios from 'axios';\r\n\r\nclass UserService {\r\n  constructor() {\r\n    this.user = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true,\r\n    })\r\n  }\r\n\r\n  getOneUser = (id) => {\r\n    return this.user.get(`/users/one/${id}`).then(({data}) => data);\r\n  }\r\n\r\n  getUserList = () => {\r\n    return this.user.get('/users/')\r\n    .then(({data}) => data);\r\n  }\r\n\r\n  getTeachersList = () => {\r\n    return this.user.get('/users/teachers')\r\n      .then(({ data }) => data);\r\n  }\r\n\r\n  getAlumnsList = () => {\r\n    return this.user.get('/users/alumns')\r\n    .then(({ data }) => data);\r\n  }\r\n\r\n  getUserChats = (id) => this.user.get(`/users/${id}/chats`).then(({data}) => data);\r\n\r\n  addSubjectsInUser = (user, subjects) => {\r\n    const { _id } = user;\r\n    const data = {\r\n      subjects: subjects\r\n    }\r\n    return this.user.post(`/users/${_id}/addSubjects`, data)\r\n    .then(({ data }) => data);\r\n  }\r\n\r\n  addTeacher = (firstName, lastName, username, password) => {\r\n    this.user.post(`/users/add-teacher`, {firstName, lastName, username, password})\r\n    .then(({data}) => data);\r\n  }\r\n\r\n  getDocuments = (id) => this.user.get(`/users/${id}/documents`).then(({data}) => data);\r\n\r\n}\r\n\r\nconst userService = new UserService();\r\n\r\nexport default userService;","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport subjectService from '../services/subject-service';\r\nimport userService from '../services/user-service';\r\n\r\nimport withAuth from 'components/withAuth';\r\nimport { CustomInput } from 'reactstrap';\r\n\r\nclass SelectSubjects extends Component {\r\n\r\n    \r\n        state = {\r\n            list: [],\r\n            subjectsSelected: [],\r\n            userSubjects: this.props.user.subjects,\r\n            redirectToHome: false,\r\n        }\r\n    \r\n  \r\n    componentDidMount() {\r\n        \r\n        subjectService.getSubjects().then(data => {\r\n            console.log('data list subject', data)\r\n            this.setState({\r\n                list: data.subjects\r\n            })\r\n        })\r\n        \r\n    }\r\n\r\n\r\n    checkSelected = (target) => {\r\n        const { subjectsSelected } = this.state;\r\n        if(subjectsSelected.includes(target)) {\r\n            let i = subjectsSelected.indexOf(target);\r\n            subjectsSelected.splice(i, 1);\r\n        } else{\r\n            subjectsSelected.push(target)\r\n        }\r\n        console.log('subjectsSelected', subjectsSelected)\r\n    }\r\n\r\n    addSubjectsInUser = () => {\r\n        userService.addSubjectsInUser(this.props.user, this.state.subjectsSelected).then(data => {\r\n            if(data && data.subjects.length > 0){\r\n                this.setState({\r\n                    userSubjects: data.subjects,\r\n                })\r\n            }\r\n\r\n           \r\n        });\r\n        \r\n    }\r\n\r\n    \r\n\r\n    render() {\r\n\r\n        const { list, redirectToHome } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"subheaderdos\">Listado de asignaturas para escoger</h2>\r\n\r\n                {list && list.length > 0 && \r\n                    <>\r\n                       { list.map(a => {\r\n                            return <div className={\"mt-4\"}>\r\n                            <CustomInput\r\n                                type=\"checkbox\"\r\n                                name=\"\"\r\n                                id={a._id}\r\n                                value={a.title}\r\n                                onChange={(e) => this.checkSelected(e.target.id)}\r\n                                label={a.title}\r\n                            />\r\n                            </div>\r\n                        })\r\n                        }\r\n\r\n                        <a href={'/home'}> <button className={\"mt-5\"} onClick={this.addSubjectsInUser}> Guardar asignaturas </button></a>\r\n                    </>    \r\n                }\r\n                       \r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n   \r\n\r\n}\r\n\r\nexport default withAuth(SelectSubjects);","import React, { useEffect, useState } from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport withAuth from 'components/withAuth';\r\nimport SelectSubjects from 'pages/SelectSubjects';\r\nimport subjectService from 'services/subject-service';\r\n\r\nconst PrivateRoute = (props) => {\r\n\r\n  const {isLoggedIn, user, component: Component, ...rest} = props;\r\n  console.log(user)\r\n  return (\r\n    <>\r\n      {(isLoggedIn && user.subjects.length > 0 || isLoggedIn && user.type === 'admin') ? ( <Route \r\n        render={(props) => {\r\n          return <Component {...props}/>\r\n        }}\r\n        {...rest}\r\n      /> ) : isLoggedIn && user.subjects.length === 0  ? (\r\n              <Redirect to='/select-subjects' />  \r\n      ) : ( \r\n            <Redirect to='/login' />\r\n        ) \r\n      }\r\n    </>\r\n\r\n   \r\n  );\r\n}\r\n\r\nexport default withAuth(PrivateRoute);\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport withAuth from '../withAuth';\r\n\r\nconst AnonRoute = (props) => {\r\n  const {user, isLoggedIn, component: Component, ...rest} = props;\r\n\r\n  return (\r\n    <>\r\n      {!isLoggedIn ? <Route \r\n        render={(props) => {\r\n          return <Component {...props}/>\r\n        }}\r\n        {...rest}\r\n      />\r\n      : isLoggedIn && user.type === 'admin' ? (\r\n          <Redirect to='/user'/>\r\n      ) : <Redirect to='/home' />}\r\n    </>\r\n\r\n     \r\n  );\r\n}\r\n\r\nexport default withAuth(AnonRoute);\r\n","import React, { Component } from 'react'\r\nimport withAuth from '../components/withAuth.js';\r\n\r\nclass Private extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Welcome Paquito</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(Private);","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport withAuth from '../components/withAuth.js';\r\nimport axios from 'axios';\r\nimport { Card, Col, Row, Alert, UncontrolledAlert } from 'reactstrap';\r\n\r\nclass Signup extends Component {\r\n\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    toHome: false,\r\n    alert: '',\r\n  };\r\n\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const username = this.state.username;\r\n    const password = this.state.password;\r\n    const firstName = this.state.firstName;\r\n    const lastName = this.state.lastName;\r\n\r\n    axios.post(\"http://localhost:3800/auth/signup\", { firstName, lastName, username, password })\r\n      .then((user) => {\r\n\r\n        this.setState({\r\n          username: '',\r\n          password: '',\r\n          firstName: '',\r\n          lastName: '',\r\n          toHome: true,\r\n        });\r\n\r\n\r\n      })\r\n      .catch(error => {\r\n        if (error.message === 'Request failed with status code 422') {\r\n          this.setState({\r\n            alert: 'danger'\r\n          })\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  render() {\r\n    const { username, password, firstName, lastName } = this.state;\r\n    return (\r\n      <>\r\n        {\r\n          this.state.alert === 'danger' &&\r\n          <UncontrolledAlert color={'danger'} className={'font'}>\r\n            No se ha podido registrar. Ya existe un usuario con ese username.\r\n          </UncontrolledAlert>\r\n        }\r\n        <Card style={{ background: '#fffdfd' }} className=\"auth-card-signup\">\r\n          <form onSubmit={this.handleFormSubmit}>\r\n            <Row className={''}>\r\n              <Col xs={'12'}>\r\n                <label htmlFor='firstName'>Nombre</label>\r\n              </Col>\r\n              <Col xs={'12'} >\r\n                <input className={'mt-2 font'} id='firstName' required='true' type='text' name='firstName' value={firstName} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'12'}>\r\n                <label className={'mt-2'} htmlFor='lastName'>Apellidos</label>\r\n              </Col>\r\n              <Col xs={'12'}>\r\n                <input className={'mt-2 font'} id='lastName' required='true' type='text' name='lastName' value={lastName} onChange={this.handleChange} />\r\n              </Col>\r\n\r\n              <Col xs={'12'}>\r\n                <label className={'mt-2'} htmlFor='username'>Username</label>\r\n              </Col>\r\n              <Col xs={'12'}>\r\n                <input className={'mt-2 font'} id='username' required='true' type='text' name='username' value={username} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'12'}>\r\n                <label className={'mt-2'} htmlFor='password'>Contraseña</label>\r\n              </Col>\r\n              <Col xs={'12'}>\r\n                <input className={'mt-2 font'} id='password' required='true' type='password' name='password' value={password} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'12'}>\r\n                <input className={'mt-4'} type='submit' value='Registrar' />\r\n              </Col>\r\n            </Row>\r\n\r\n          </form>\r\n\r\n          <p className={'font'}>¿Ya tienes cuenta?\r\n          <Link to={'/login'} className={'link'}> Entra aquí</Link>\r\n          </p>\r\n        </Card>\r\n        {this.state.toHome &&\r\n\r\n          <Redirect to='/home' />\r\n\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(Signup);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport withAuth from '../components/withAuth';\r\nimport { Card, UncontrolledAlert } from 'reactstrap';\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    dangerAlert: false,\r\n  }\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state\r\n\r\n    this.props.login({ username, password })\r\n      .then((user) => {\r\n        console.log(user)\r\n      })\r\n      .catch(error =>\r\n        this.setState({\r\n          dangerAlert: true,\r\n        })\r\n      )\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  render() {\r\n    const { username, password } = this.state;\r\n    return (\r\n      <>\r\n\r\n        {\r\n          this.state.dangerAlert &&\r\n          <UncontrolledAlert color=\"danger\" className={'font'}>\r\n            Usuario o contraseña incorrecta\r\n          </UncontrolledAlert>\r\n        }\r\n        <Card style={{ background: '#fffdfd' }} className=\"auth-card\">\r\n          <form onSubmit={this.handleFormSubmit}>\r\n            <label htmlFor='username' >Username</label>\r\n            <input className={'mt-2 font'} required='true' id='username' type='text' name='username' value={username} onChange={this.handleChange} />\r\n            <label className={'mt-2'} htmlFor='password'>Password</label>\r\n            <input className={'mt-2 font'} required='true' id='password' type='password' name='password' value={password} onChange={this.handleChange} />\r\n            <input className={'mt-4 button-color font'} type='submit' value='Iniciar sesión' />\r\n          </form>\r\n\r\n          <p className={'font'}>¿No tienes cuenta?\r\n            <Link to={'/signup'} className={'link'}> Regístrate</Link>\r\n          </p>\r\n\r\n        </Card>\r\n\r\n\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);","import React, {useState, useEffect} from \"react\";\r\nimport { Card, CustomInput, Badge } from \"reactstrap\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { ContextMenuTrigger } from \"react-contextmenu\";\r\nimport classnames from \"classnames\";\r\nimport withAuth from 'components/withAuth';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\nimport {Col, Row} from \"reactstrap\";\r\nimport { Link } from 'react-router-dom';\r\nimport subjectService from \"services/subject-service\";\r\nimport { confirmAlert } from 'react-confirm-alert';\r\n\r\n\r\nconst DataListView = ({ isSelect, element, subjects, news, usersList, onCheckItem, document, ...props }) => {\r\n\r\n  const [ documentPath, setDocumentPath ] = useState('');\r\n\r\n  const deleteSubject  = (element) => {\r\n    confirmAlert({\r\n      title: 'Borrar '+element.title,\r\n      message: '¿Estás seguro de borrar esta asignatura?',\r\n      buttons: [\r\n          {\r\n              label: 'Borrar',\r\n              onClick: () => {\r\n                subjectService.deleteSubject(element._id);\r\n                window.location.reload();\r\n              }\r\n          },\r\n          {\r\n              label: 'Cancelar',\r\n          }\r\n      ]\r\n  })\r\n      \r\n  }\r\n\r\n  useEffect (() => {\r\n    if(document && element.path) {\r\n      var file_split = element.path.split('\\\\');\r\n      const file_name = file_split[6];\r\n\r\n      setDocumentPath(file_name);\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Col xxs=\"12\" className=\"mb-5\">\r\n      <ContextMenuTrigger id=\"menu_id\" data={element.id}>\r\n        <Card style={{ width: '1000px', height: '90px', fontSize: '16px',\r\n         justifyContent: 'center', padding: '20px' }}\r\n          onClick={event => onCheckItem(event, element.id)}\r\n\r\n        >\r\n\r\n          {subjects &&\r\n            <>\r\n              <Row>\r\n                <Col xs={\"8\"}>\r\n                  <p className=\"list-item-heading mb-1 truncate\">\r\n                    {element.title}\r\n                  </p>\r\n                </Col>\r\n\r\n                \r\n                {props.user.type === 'admin' ?\r\n                <>\r\n                 <Col xs={\"2\"}>\r\n                  <Link to={'/subject/details/' + element._id} className={'btn btn-primary'} style={{fontSize: '15px'}} >\r\n                    Ver detalles\r\n                  </Link>\r\n                </Col>\r\n                  <Col xs={'2'}>\r\n                    <button className={'btn-danger mt-1'} style={{height: '30px'}} onClick={() => deleteSubject(element)}>Borrar</button>\r\n                  </Col>\r\n                </>\r\n                :(\r\n                  <Col xs={\"4\"}>\r\n                  <Link to={'/subject/details/' + element._id} className={'btn btn-primary'} style={{fontSize: '15px'}} >\r\n                    Ver detalles\r\n                  </Link>\r\n                </Col>\r\n                  )\r\n                } \r\n              </Row>\r\n            </>\r\n          }\r\n\r\n          {news &&\r\n            <>\r\n              <Row>\r\n                <Col xs={\"4\"}>\r\n                    <p className=\"list-item-heading mb-1 truncate\">\r\n                      {element.title}\r\n                    </p>\r\n                </Col>\r\n\r\n                <Col xs={\"4\"}>\r\n                  <p className=\"mb-1 text-muted text-small \">\r\n\r\n                    {moment(element.date).format('L')}\r\n                  </p>\r\n                </Col>\r\n\r\n                <Col xs={\"4\"} style={{textAlign: 'center'}}>\r\n                  <Link to={'/news/detail/' + element._id} className={'btn btn-primary'} style={{fontSize: '14px'}} >Ver detalles</Link>\r\n                </Col>\r\n                \r\n              </Row>\r\n\r\n            </>\r\n          }\r\n\r\n          {usersList &&\r\n            <>\r\n               <Col xs={\"4\"}>\r\n                <p className=\"list-item-heading mb-1 truncate\">\r\n                  {element.firstName} {element.lastName}\r\n                </p>\r\n             </Col>\r\n             <Col xs={\"4\"}>\r\n                <p className=\"list-item-heading mb-1 truncate\">\r\n                  {element.username}\r\n                </p>\r\n            </Col>\r\n            </>\r\n          }\r\n\r\n          {document && \r\n            <>\r\n              <Row>\r\n                <Col xs={\"6\"}>\r\n                    <p className=\"list-item-heading mb-1 truncate\">\r\n                      {element.title}\r\n                    </p>\r\n                </Col>\r\n                <Col xs={\"2\"}>\r\n                    <p className=\"list-item-heading mb-1 truncate\">\r\n                      {element.user.username}\r\n                    </p>\r\n                </Col>\r\n                <Col xs={'2'}>\r\n                  <p>\r\n                    {moment(element.date).format('L')}\r\n                  </p>\r\n                </Col>\r\n                <Col xs={\"2\"}>            \r\n                  {documentPath !== '' &&\r\n                    <a href={require('../docs/'+documentPath)} id=\"enlaceDescargarPdf\"\r\n                    download={element.file_name}>\r\n                        Descargar\r\n                  </a>\r\n                  }\r\n                  \r\n                </Col>\r\n               \r\n              </Row>    \r\n            </>      \r\n          }\r\n\r\n\r\n        </Card>\r\n      </ContextMenuTrigger>\r\n    </Col>\r\n  );\r\n};\r\n\r\n/* React.memo detail : https://reactjs.org/docs/react-api.html#reactpurecomponent  */\r\nexport default React.memo(withRouter(withAuth(DataListView)));","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DataListView from 'components/DataListView';\r\nimport AuthService from 'services/auth-service';\r\nimport subjectService from 'services/subject-service';\r\nimport loading from 'assets/images/loading.jpg';\r\n\r\nclass Asignatura extends Component {\r\n\r\n    state = {\r\n\r\n        userSubjects: {},\r\n        subjects: {},\r\n        status: null,\r\n        lastChecked: null,\r\n        selectedItems: null,\r\n        loading: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUserSubjects();\r\n    }\r\n\r\n    clickItem = (item, event) => {\r\n        event.preventDefault();\r\n        this.props.onClickItem(item);\r\n    };\r\n\r\n    onCheckItem = (event, id) => {\r\n        /* if (\r\n             event.target.tagName === 'A' ||\r\n             (event.target.parentElement &&\r\n                 event.target.parentElement.tagName === 'A')\r\n         ) {\r\n             return true;\r\n         }\r\n         if (this.state.lastChecked === null) {\r\n             this.setState({\r\n                 lastChecked: id,\r\n             });\r\n         }\r\n \r\n         let selectedItems = this.state.selectedItems;\r\n         if (selectedItems.includes(id)) {\r\n             selectedItems = selectedItems.filter((x) => x !== id);\r\n         } else {\r\n             selectedItems.push(id);\r\n         }\r\n         this.setState({\r\n             selectedItems,\r\n         });\r\n \r\n         if (event.shiftKey) {\r\n             var items = this.state.items;\r\n             var start = this.getIndex(id, items, 'id');\r\n             var end = this.getIndex(this.state.lastChecked, items, 'id');\r\n             items = items.slice(Math.min(start, end), Math.max(start, end) + 1);\r\n             selectedItems.push(\r\n                 ...items.map((item) => {\r\n                     return item.id;\r\n                 })\r\n             );\r\n             selectedItems = Array.from(new Set(selectedItems));\r\n             this.setState({\r\n                 selectedItems,\r\n             });\r\n         }*/\r\n        document.activeElement.blur();\r\n    };\r\n\r\n    getSubjects = () => {\r\n        subjectService.getSubjects().then(subjects => this.setState({ subjects, status: 'success' }))\r\n    }\r\n\r\n    getUserSubjects = async () => {\r\n        const user = await AuthService.me();\r\n\r\n        subjectService.getUserSubjects(user._id).then(userSubjects => this.setState({ userSubjects, status: 'usersubjects', loading: false }))\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { userSubjects, status } = this.state;\r\n        return (\r\n\r\n            <section id=\"content\" >\r\n                <h2 className=\"subheaderdos\">Asignaturas</h2>\r\n                {status !== 'usersubjects' ? (\r\n                    <div className={'loading'}>\r\n                        <img src={loading} />\r\n                    </div>\r\n                ) : (\r\n                    userSubjects && userSubjects.length > 0 ? (\r\n                        <div>\r\n                  \r\n                            {userSubjects.map((subject, i) => {\r\n                                return (\r\n                                    <DataListView\r\n                                        key={subject.id}\r\n                                        element={subject}\r\n                                        onCheckItem={this.onCheckItem}\r\n                                        subjects\r\n                                    />\r\n                                );\r\n                            })\r\n                            }\r\n                        </div>\r\n                    ) : (\r\n                        <h2 className=\"text-center\">No tienes asignaturas</h2>\r\n\r\n                    )\r\n                )\r\n\r\n                }\r\n              \r\n\r\n            </section>\r\n\r\n\r\n        );\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default Asignatura;","import React, {Component} from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from 'assets/images/logo.svg';\r\n\r\nimport withAuth from './withAuth';\r\n\r\nclass Header extends Component{\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n        return (\r\n            <header id=\"header\">\r\n                {/* <!-- creamos una etiqueta para centrar el contenido -->*/}\r\n                <div className=\"center\">\r\n                    {/*<!-- LOGO -->*/}\r\n                    <div id=\"logo\">\r\n                       {/*} <img src={logo} className=\"app-logo\" alt=\"Logotipo\" />*/}\r\n                        <span id=\"brand\"> {/*<!-- span es una etiqueta generica y brand es como la marca del sitio -->*/}\r\n                            <strong>UHU</strong>Web\r\n                     </span>\r\n                    </div>\r\n\r\n\r\n                    {/*-- MENU DE NAVEGACIÓN -->*/}\r\n                    <nav id=\"menu\"> {/*<!-- La etiqueta nav representa la parte de los links que llevan a otras paginas--> */}\r\n                        <ul>\r\n                            {user.type !== 'admin' && \r\n                                <li>\r\n                                    <NavLink to=\"/home\" activeClassName=\"active\">Inicio</NavLink>\r\n                                </li>\r\n                            }\r\n                            {this.props.user.type === 'admin' &&\r\n                                <>\r\n                                    <li>\r\n                                        <NavLink to=\"/users-list\" activeClassName=\"active\">Usuarios</NavLink>\r\n                                    </li>\r\n                                    <li>\r\n                                        <NavLink to=\"/subjects-list\" activeClassName=\"active\">Asignaturas</NavLink>\r\n                                    </li>\r\n                                </>\r\n                            }\r\n                            <li>\r\n                                <NavLink to=\"/chat\" activeClassName=\"active\">Chat</NavLink>\r\n                            </li>\r\n                            <li>\r\n                                <NavLink to=\"/news\" activeClassName=\"active\">Noticias</NavLink>\r\n                            </li>\r\n                                <li>\r\n                                    <NavLink to=\"/documents\" activeClassName=\"active\">Documentos</NavLink>\r\n                                </li>\r\n                            <li>\r\n                                <NavLink to=\"/user\" activeClassName=\"active\">Perfil</NavLink>\r\n                            </li>\r\n                            \r\n                            \r\n\r\n                        </ul>\r\n                    </nav>\r\n\r\n                    {/* <!--LIMPIAR FLOTADOS (PARA QUE EL TEXTO QUE PONGAMOS ABAJO NO SE SUBA HACIA ARRIBA-->*/}\r\n                    <div className=\"clearfix\"></div>\r\n                </div>\r\n\r\n            </header>\r\n        );\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default withAuth(Header);","import React, { Component } from 'react';\r\n\r\nimport Table from 'components/Table';\r\nimport axios from 'axios';\r\nimport Slider from 'components/Slider';\r\nimport DataListView from '../DataListView';\r\nimport newsService from 'services/news-service';\r\nimport loading from 'assets/images/loading.jpg';\r\n\r\n\r\nclass NewsList extends Component {\r\n\r\n    state = {\r\n        news: [],\r\n        byId: {},\r\n        searchById: false,\r\n        updated: false,\r\n        deleted: false,\r\n        status: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n       this.getNewsList();\r\n       \r\n    }\r\n\r\n    getNewsList = async() => {\r\n     \r\n        const news = axios.create({\r\n            baseURL: 'http://localhost:3800/news',\r\n            withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n          })\r\n        news.get(\"/\").then(({data}) => {\r\n            this.setState({\r\n                news: data.noticias,\r\n                status: 'success'\r\n            })\r\n        })\r\n           \r\n    }\r\n\r\n   \r\n    onCheckItem  = (event, id) => {\r\n        document.activeElement.blur();\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n          \r\n            <section id=\"content\" >\r\n\r\n                {this.state.status !== 'success' ? (\r\n                    <div className={'loading'}>\r\n                        <img src={loading} />\r\n                    </div>\r\n                ) : (\r\n                        !this.state.searchById && this.state.news.length > 0 ?\r\n\r\n                            this.state.news.map(n => {\r\n                                return (\r\n                                  <DataListView\r\n                                        key={n._id}\r\n                                        element={n}\r\n                                        news\r\n                                        onCheckItem={this.onCheckItem}\r\n                                    />\r\n                                );\r\n                            })\r\n\r\n                            : (\r\n                                <h2 className=\"text-center\">No hay noticias</h2>\r\n                            )\r\n                        \r\n                        \r\n                )\r\n\r\n                }\r\n             \r\n\r\n            </section>\r\n\r\n        );\r\n\r\n    } \r\n\r\n}\r\n\r\nexport default NewsList;","import React, { Component } from 'react';\r\nimport ojoVerNoticia from 'assets/images/ojoVerNoticia.png';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Table extends Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <table className=\"tableNews\">\r\n                    {/* <tbody>\r\n                        <tr>\r\n                            <th>Titulo</th>\r\n                            <th>Fecha de creación</th>\r\n                            <th>Autor</th>\r\n                            <th></th>\r\n        </tr>*/}\r\n                    <tr>\r\n                        <td className=\"columnTable\">\r\n                            {this.props.title}\r\n                        </td>\r\n                        <td className=\"columnTable\">\r\n                            {this.props.date}\r\n                        </td>\r\n                        <td className=\"columnTable\">\r\n                            {this.props.author}\r\n                        </td>\r\n                        <td className=\"lastColumnTable\">\r\n                            <Link className=\"seeNews\" to={this.props.linktonews}>\r\n                                <img className=\"seeNews\" src={ojoVerNoticia}></img>\r\n                            </Link>\r\n                        </td>\r\n                    </tr>\r\n                    { /* </tbody>*/}\r\n                </table>\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\nexport default Table;","import axios from 'axios';\r\n\r\nclass NewsService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n    })\r\n  }\r\n\r\n    /*Peticion para traer todas las noticias */\r\n    getNews = () => {\r\n        this.service.get(\"/\")\r\n          .then(({data}) => data)\r\n    }\r\n\r\n    /*Peticion para traer una noticia */\r\n    getNewsById = (id) => {\r\n      this.service.get(\"/news/\" + id).then(({data}) => data)\r\n    }\r\n  \r\n}\r\n\r\nconst newsService = new NewsService();\r\n\r\nexport default newsService;\r\n\r\n\r\n\r\n ","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n/*import logomoodle from '../assets/images/logomoodle.png';\r\nimport logoetsi from '../assets/images/logoetsi.png';\r\nimport logouhu from '../assets/images/logouhu.jpg';*/\r\nimport News from 'components/News/List';\r\nimport Header from 'components/Header';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'\r\nimport moment from 'moment';\r\nimport axios from 'axios';\r\n\r\nclass Slider extends Component {\r\n\r\n    state = {\r\n        idToUpdate: null,\r\n        idToDelete: null,\r\n        toUpdate: false,\r\n        toDelete: false\r\n    }\r\n\r\n    updateNews = (id) => {\r\n        this.setState({\r\n            idToUpdate: id,\r\n            toUpdate: true\r\n        })\r\n\r\n        alert(\"Noticia editada!\");\r\n\r\n    }\r\n\r\n    handleDelete = (id) => {\r\n        confirmAlert({\r\n            title: 'Borrar noticia',\r\n            message: '¿Estás seguro de borrar esta noticia?',\r\n            buttons: [\r\n                {\r\n                    label: 'Borrar',\r\n                    onClick: () => {\r\n\r\n                        this.setState({\r\n                            idToDelete: id,\r\n                            toDelete: true\r\n                        });\r\n\r\n                    }\r\n                },\r\n                {\r\n                    label: 'Cancelar',\r\n                    onClick: () => {\r\n                        this.setState({\r\n                            toDelete: false\r\n                        })\r\n                    }\r\n                }\r\n            ]\r\n        })\r\n\r\n\r\n    };\r\n\r\n    /*Peticion para eliminar una noticia*/\r\n    deleteNews = (toDelete) => {\r\n        const news = axios.create({\r\n            baseURL: 'http://localhost:3800/',\r\n            withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n          })\r\n        news.delete(\"/news/\" + toDelete)\r\n            .then(res => {\r\n                console.log(\"NOTICIA BORRADA: \");\r\n                console.log(res.data);\r\n                this.setState({\r\n                    deleted: true,\r\n                    status: 'success'\r\n                })\r\n            })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <>\r\n                <Header />\r\n\r\n            \r\n                <div id=\"slider\" className={this.props.size} > {/*<!--le podemos poner varias clases para usarlas dependiendo de que pagina estemos-->*/}\r\n\r\n                    {this.props.size === 'slider-initial' &&\r\n                        <div className=\"slider-data\">\r\n                            <h1>{this.props.title}</h1>\r\n                            \r\n                        </div>\r\n                    }\r\n\r\n                    {this.props.size === 'slider-sesion' &&\r\n                        <div>\r\n                            <h1 className=\"titulo-inicioSesion\">{this.props.title}</h1>\r\n                            <input type=\"text\" name=\"usuario\" placeholder={this.props.input1} />\r\n                            <input type=\"text\" name=\"contraseña\" placeholder={this.props.input2} />\r\n                            <Link to=\"/home\">{this.props.btn}</Link>\r\n                        </div>\r\n                    }\r\n\r\n                    {this.props.size === 'slider-noticia' && this.props.image &&\r\n                        <div>\r\n                            <h1 className=\"subheaderdos\">{this.props.title}</h1>\r\n\r\n                            <div id=\"newsDivImage\">\r\n                                <img src={this.props.image}></img>\r\n                            </div>\r\n\r\n\r\n                            <div id=\"newsDivContent\">\r\n                                <p>{this.props.content}</p>\r\n                            </div>\r\n\r\n                            <div id=\"newsDivAuthor\">\r\n                                <h2>Autor</h2>\r\n                                <h3>{this.props.user.firstName} {this.props.user.lastName}</h3>\r\n\r\n                            </div>\r\n                            <div id=\"newsDivDate\">\r\n                                <h2>Fecha: {this.props.date}</h2>\r\n                            </div>\r\n\r\n                            <div id=\"newsButton\">\r\n                                <button className=\"delete\" onClick={() => this.handleDelete(this.props.id)}>Borrar</button>\r\n                                <button className=\"update\" onClick={() => this.updateNews(this.props.id)}>Editar</button>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    }\r\n\r\n                    {this.props.size === 'slider-noticia' && !this.props.image &&\r\n                        <div>\r\n                            {console.log(this.props.author)}\r\n                            <h1 className=\"subheaderdos\">{this.props.title}</h1>\r\n                            <div id=\"newsDivContent2\">\r\n                                <p>{this.props.content}</p>\r\n                            </div>\r\n                            <div id=\"newsDivAuthor\">\r\n                                <h3>Autor</h3>\r\n                                <h4>{this.props.author.firstName} {this.props.author.lastName}</h4>\r\n                            </div>\r\n                            <div id=\"newsDivDate\">\r\n                                <h2>Fecha: {moment(this.props.date).format('L')}</h2>\r\n                            </div>\r\n\r\n                            <div id=\"newsButton2\">\r\n                                <button className=\"delete\" onClick={() => this.handleDelete(this.props.id)}>Borrar</button>\r\n                                <button className=\"update\" onClick={() => this.updateNews(this.props.id)}>Editar</button>\r\n                                {this.state.toUpdate &&\r\n                                    <News\r\n                                        idToUpdate={this.state.idToUpdate}\r\n                                        update=\"true\"\r\n                                    />\r\n                                }\r\n\r\n                            </div>\r\n                        </div>\r\n                    }\r\n\r\n                    {\r\n                        this.props.size === 'slider-smallInfo' &&\r\n                        <div>\r\n                            <h1>{this.props.nameAuthor}</h1>\r\n                        </div>\r\n                    }\r\n\r\n                    {this.state.toUpdate &&\r\n                        <News\r\n                            idToUpdate={this.state.idToUpdate}\r\n                            update=\"true\"\r\n                        />\r\n                    }\r\n\r\n                    {this.state.toDelete && this.state.idToDelete !== null &&\r\n                        <div>\r\n                            {this.deleteNews(this.state.idToDelete)}\r\n                            <Redirect to=\"/news?deleted=true\"></Redirect>\r\n                        </div>\r\n                    }\r\n\r\n\r\n\r\n                    < div className=\"clearfix\"></div>\r\n                </div >\r\n\r\n            </>\r\n\r\n        );\r\n\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default Slider;","import React, { Component } from 'react';\r\n\r\n\r\n//import Asignatura from './Asignatura';\r\n\r\n/*import Slider from './Slider';\r\nimport Header from './Header';*/\r\n\r\nimport withAuth from 'components/withAuth';\r\nimport Asignatura from 'components/Asignatura';\r\nimport Header from 'components/Header';\r\nimport Slider from 'components/Slider';\r\n\r\nclass Principal extends Component {\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Header />\r\n                <Slider\r\n                    size=\"slider-initial\"\r\n                    title=\"Departamento de Tecnología de la Información\"\r\n                    button=\"etsi\"\r\n                    button2=\"moodle\"\r\n                    button3=\"uhu\"\r\n                />\r\n               \r\n                <Asignatura />\r\n\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withAuth(Principal);","import React, { Component } from 'react';\r\nimport NewsList from '../components/News/List';\r\nimport withAuth from 'components/withAuth';\r\nimport Header from 'components/Header';\r\nimport { Col, Row, UncontrolledAlert } from 'reactstrap';\r\nimport { Link, Redirect } from 'react-router-dom';\r\n\r\n\r\nclass NewsPage extends Component {\r\n\r\n    state = {\r\n        create: false,\r\n        deleted: false,\r\n    }\r\n\r\n    componentDidMount () {\r\n        if(this.props.location.search === '?deleted=true'){\r\n            this.setState({\r\n                deleted:true,\r\n            })\r\n        }\r\n    }\r\n\r\n    createNews = () => {\r\n        this.setState({\r\n            create: !this.state.create\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        const { user } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <Header />\r\n\r\n                <div className={'items-center'}>\r\n                    {\r\n                        this.state.deleted === true &&\r\n                        <UncontrolledAlert color=\"success\" fade={false} style={{ fontSize: '20px' }}>\r\n                            La noticia se ha borrado correctamente\r\n                        </UncontrolledAlert>\r\n                    }\r\n                    <h2 className=\"subheader\">Noticias</h2>\r\n\r\n                    <Row className={'pt-4 mb-5 ml-1'}>\r\n                        <Col xs={'9'}>\r\n                            <input className=\"searchNews\" type=\"text\" style={{ fontSize: '12px' }} placeholder=\"Buscar noticia...\" />\r\n                        </Col>\r\n\r\n                        <Col xs={'0.5'}>\r\n                            <button className=\"buttonSearch\" >Buscar</button>\r\n                        </Col>\r\n                        {user.type === 'teacher' &&\r\n                            <Col xs={'1'}>\r\n                                <button className=\"buttonSearch\" onClick={this.createNews}>\r\n                                    Crear noticia\r\n                                </button>\r\n                            </Col>\r\n                        }\r\n                        \r\n                    </Row>\r\n                    <NewsList props={this.props} />\r\n                    <div className=\"clearfix\"></div>\r\n\r\n\r\n                </div>\r\n\r\n                {this.state.create &&\r\n\r\n                    <Redirect to='/news/create-news' />\r\n\r\n                }\r\n\r\n            </>\r\n\r\n\r\n\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default withAuth(NewsPage);","import React, { Component } from 'react';\r\nimport logo from 'assets/images/logoetsi.png'\r\n\r\nimport Header from 'components/Header';\r\nimport withAuth from 'components/withAuth';\r\nimport { Col, Row } from 'reactstrap';\r\nimport axios from 'axios';\r\n\r\nclass User extends Component {\r\n\r\n    state = {\r\n        id: '',\r\n        edit: false,\r\n        username: '',\r\n        firstName: '',\r\n        lastName: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            id: this.props.user._id,\r\n            username: this.props.user.username,\r\n            firstName: this.props.user.firstName,\r\n            lastName: this.props.user.lastName,\r\n        })\r\n    }\r\n\r\n    editUser = () => {\r\n        this.setState({\r\n            edit: !this.state.edit,\r\n        });\r\n    }\r\n\r\n    saveUser = async () => {\r\n        this.editUser();\r\n\r\n        const userToUpdate = {\r\n            firstName: this.state.firstName,\r\n            lastName: this.state.lastName,\r\n            username: this.state.username\r\n        }\r\n\r\n        await axios.put('http://localhost:3800/users/' + this.state.id, userToUpdate)\r\n            .then((data) => {\r\n                console.log(data)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            });\r\n\r\n    }\r\n\r\n    handleChange(event) {\r\n        if(event.target.name === 'firstName'){\r\n            this.setState({\r\n                firstName: event.target.value\r\n            });\r\n        }\r\n\r\n        if(event.target.name === 'lastName') {\r\n            this.setState({\r\n                lastName: event.target.value\r\n            });\r\n        }\r\n\r\n        if(event.target.name === 'username') {\r\n            this.setState({\r\n                username: event.target.value\r\n            });\r\n\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <div id=\"user\">\r\n                <Header />\r\n\r\n\r\n                <h2 className=\"subheaderUser\">Datos</h2>\r\n\r\n\r\n                <Row className={'mb-5 pb-5'}>\r\n                    <Col xs={'3'} style={{ marginRight: '20px' }}>\r\n                        <img src={logo} class=\"app-logo\" alt=\"Logotipo\" />\r\n                    </Col>\r\n                    <Col xs={'7'}>\r\n                        {!this.state.edit ? (\r\n                            <Row>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Nombre</h3>\r\n                                    <h3>{this.state.firstName}</h3>\r\n                                </Col>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Apellidos</h3>\r\n                                    <h3>{this.state.lastName}</h3>\r\n                                </Col>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Username</h3>\r\n                                    <h3>{this.state.username}</h3>\r\n                                </Col>\r\n                                {(this.props.user.type === 'alumn' && this.props.user) &&\r\n                                    <Col xs={'12'}>\r\n                                        <h3 className='profile-text'>Número de asignaturas matriculadas</h3>\r\n                                        <h3>{this.props.user.subjects.length}</h3>\r\n                                    </Col>\r\n                                }\r\n\r\n                            </Row>\r\n                        )\r\n                            : (\r\n                                <Row>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Nombre</h3>\r\n                                    <input className={'font'} name='name' type=\"text\" onChange={this.handleChange}></input>\r\n                                </Col>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Apellidos</h3>\r\n                                    <input className={'font'} name='lastName' type=\"text\" onChange={this.handleChange}></input>\r\n                                </Col>\r\n                                <Col xs={'12'} className={'pb-3'}>\r\n                                    <h3 className='profile-text'>Username</h3>\r\n                                    <input className={'font'} name='username' type=\"text\" onChange={this.handleChange}></input>\r\n                                </Col>\r\n                                {(this.props.user.type === 'teacher' && this.props.user) &&\r\n                                    <Col xs={'12'}>\r\n                                        <h3 className='profile-text'>Número de asignaturas impartidas</h3>\r\n                                       {/*} <h3>{this.props.user.subjects.length}</h3>*/}\r\n                                    </Col>\r\n                                }\r\n\r\n                            </Row>  \r\n                            )\r\n                        }\r\n                    </Col>\r\n                    <Col xs={'1'} style={{textAlign: 'end', fontSize: '14px', cursor: 'pointer'}}>\r\n                        {!this.state.edit ?\r\n                            <a className={'profile-edit'} onClick={this.editUser}>Editar</a>\r\n                            : (\r\n                                <a className={'profile-edit'} onClick={this.saveUser}>Guardar</a>\r\n                            )}\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Row className={'mt-5'}>\r\n                    <Col xs={'2'} className={'mt-5 mr-3'}>\r\n                        <button style={{ fontSize: '12px' }} >Cambiar contraseña</button>\r\n                    </Col>\r\n                    <Col xs={'2'} className={'mt-5'}>\r\n                        <button style={{ fontSize: '12px' }} onClick={this.props.logout}>Cerrar sesión</button>\r\n\r\n                    </Col>\r\n                </Row>\r\n\r\n\r\n                <div className=\"clearfix\"></div>\r\n\r\n\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default withAuth(User);","/**@jsx jsx */\r\nimport React from 'react';\r\nimport { css, jsx } from '@emotion/core';\r\n\r\nimport withAuth from 'components/withAuth';\r\n\r\nconst Message = ({ owner, message, user }) => {\r\n  return (\r\n    <div css={css`\r\n      border-radius: 5px;\r\n      background: ${owner === user._id ? 'rgba(97,166,51, .5)' : 'rgba(121,177,236, .5)'};\r\n      display: flex;\r\n      margin: 5px ${owner === user._id ? '5px' : '55px'} 5px ${owner === user._id ? '55px' : '5px'};\r\n      padding: 10px;\r\n    `}>\r\n    {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withAuth(Message);","import axios from 'axios';\r\n\r\nclass ChatService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n    })\r\n  }\r\n\r\n  createChat = (idUser) => this.service.post('/', { idUser });\r\n\r\n  getChatsByUser = () => this.service.get('/').then(({data}) => data);\r\n\r\n  getChat = (id) => this.service.get(`/${id}`).then(({data}) => data)\r\n\r\n  getMessages = () => this.service.get('/id/messages').then(({data}) => data)\r\n\r\n  getOtherUser = (id) => this.service.get(`/${id}/otherUser`).then(({data}) => data);\r\n\r\n  postMessage = (message, chatId) => {\r\n    this.service.post('/addMessage', {message, chatId}).then(({data}) => data)\r\n   }\r\n\r\n}\r\n\r\nconst chatService = new ChatService();\r\n\r\nexport default chatService;","/** @jsx jsx */\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport io from 'socket.io-client';\r\nimport { css, jsx } from '@emotion/core';\r\nimport styled from '@emotion/styled';\r\n\r\nimport Header from 'components/Header';\r\nimport Message from 'components/elements/message';\r\nimport withAuth from 'components/withAuth';\r\n\r\nimport chatService from 'services/chat-service'\r\n\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nconst URL = 'http://localhost:3800/';\r\n\r\n/*css con emotion/styled NO SE USA EL JSX DE LA 1 LINEA */\r\nconst ChatWrapper = styled.div`\r\nwidth: 100%;\r\nheight: 100vh;\r\ndisplay: flex;\r\njustify-content: space-between;\r\nflex-direction: column;\r\npadding-top: 100px;\r\nfont-size: 16px;\r\n`\r\nconst MessagesWrapper = styled.div`\r\nwidth: 100%;\r\nheight: 90%;\r\ndisplay: flex;\r\noverflow-y: scroll;\r\nbackground: white;\r\nflex-direction: column;\r\njustify-content: flex-end;\r\nbox-sizing: border-box;\r\n`\r\n\r\nconst Chat = ({user, ...props}) => {\r\n    const [socket] = useState(io(URL))\r\n    const inputRef = useRef();\r\n    const [messages, setMessages] = useState([]);\r\n    const [form, setForm] = useState({ message: ''})\r\n    const [chat, setChat] = useState();\r\n\r\n    useEffect(() => {\r\n        let paths = window.location.pathname.split('/');\r\n        let chatId = paths[paths.length-1];\r\n        chatService.getChat(chatId).then(chatFromApi => {\r\n            console.log('chatFromApi')\r\n            console.log(chatFromApi)\r\n            const data = chatFromApi.messages;\r\n          \r\n            socket.on(\"message_receive\", data  => {\r\n                console.log('data')\r\n                console.log(data)\r\n                setMessages(old => [...old, data])\r\n            });\r\n            setChat(chatFromApi);\r\n            setMessages(chatFromApi.messages)\r\n        })\r\n    }, [])\r\n\r\n    const handleSendMessage = () => {\r\n        const message = { owner: user._id , text: form.message }\r\n        socket.emit('message_send', message);\r\n        setMessages(oldMessages => [...oldMessages, message]);\r\n        let paths = window.location.pathname.split('/');\r\n        let chatId = paths[paths.length-1];\r\n        chatService.postMessage(message, chatId);\r\n        setForm({ message: ''})\r\n    }\r\n\r\n    const handleChange = e => {\r\n        const { value, name } = e.target;\r\n        setForm(old => ({...old, [name]: value}))\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        if (e.keyCode === 13) {\r\n            handleSendMessage()\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        \r\n            <div className=\"chat\">\r\n                <Header/>\r\n                <ChatWrapper>\r\n                    <MessagesWrapper>\r\n                        {messages && messages.map((message, index) => (\r\n                           <>\r\n                            {console.log('message')}\r\n                            {console.log(message)}\r\n\r\n                            <Message key={index} message={message.text} owner={message.owner} />\r\n                            </>\r\n                        ))}\r\n                    </MessagesWrapper>\r\n\r\n                    <div css={css`display: flex; width: 100%; align-items: center`}>\r\n                        <input css={css`\r\n                        padding: 20px; \r\n                        margin: 10px;\r\n                        width: 100%;\r\n                        &:hover{\r\n                            border: 2px solid #ff0;\r\n                        }\r\n                        `\r\n                        }\r\n                        name=\"message\"\r\n                        ref={inputRef}\r\n                        value={form.message}\r\n                        onKeyUp={handleSubmit}\r\n                        onChange={handleChange} /> {/*css con emotion/core hayque usar JSX de la 1 linea */}\r\n                        <button className=\"btn btn-primary\" onClick={handleSendMessage}>Enviar</button>\r\n                    </div>\r\n\r\n                </ChatWrapper>\r\n\r\n                <div className=\"clearfix\"></div>\r\n            </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default withAuth(Chat);","import * as Yup from 'yup';\r\n\r\nconst NewsFormSchema = Yup.object().shape({\r\n    title: Yup.string()\r\n        .min(2, 'Too Short!')\r\n        .max(50, 'Too Long!')\r\n        .required('Completa este campo'), \r\n    content: Yup.string()\r\n        .min(6, 'Too short!')\r\n        .max(255, 'Too Long!')\r\n        .required('Completa este campo'),\r\n    /*image: Yup.image()\r\n        .image('Invalid image')*/\r\n});\r\n\r\nexport default NewsFormSchema;","import React, { Component, Redirect } from 'react';\r\nimport { Formik, withFormik } from 'formik';\r\nimport Header from './Header';\r\nimport { FormGroup, Input, Label, Card, CardTitle, CardBody, Button, Row, Col, Alert, UncontrolledAlert } from 'reactstrap';\r\nimport NewsFormSchema from '../schemas/newsFormSchema';\r\nimport axios from 'axios';\r\nimport withAuth from 'components/withAuth';\r\nimport NewsList from './News/List';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\n\r\nclass NewsForm extends Component {\r\n\r\n    state = {\r\n        userId: '',\r\n        redirection: false,\r\n        alert: '',\r\n        title: '',\r\n        content: '',\r\n        image: '',\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            userId: this.props.user._id\r\n        })\r\n        console.log('user dep del estado')\r\n        console.log(this.state.user);\r\n    }\r\n\r\n    handleSubmit = (values) => {\r\n\r\n        values.usuario = this.state.userId;\r\n        console.log(values);\r\n        const news = axios.create({\r\n                baseURL: 'http://localhost:3800/',\r\n                withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n        })\r\n         news.post(\"/news/\", values)\r\n            .then((data) => {\r\n                console.log('data')\r\n                console.log(data)\r\n                this.setState({\r\n                    alert: 'success',\r\n                })\r\n                window.location.reload();\r\n                \r\n            })\r\n            /* 404 */\r\n            .catch((data) => {\r\n                this.setState({\r\n                    alert: 'fail'\r\n                })\r\n            });\r\n\r\n    };\r\n\r\n\r\n    render() {\r\n        const { title, content, image } = this.state;\r\n        const initialValues = { title, content, image }\r\n\r\n        return (\r\n\r\n            <>\r\n                <Header />\r\n\r\n                <div className={'items-center'}>\r\n                    {this.state.alert === 'success' ?\r\n                        <>\r\n                            <UncontrolledAlert color=\"success\" fade={false} style={{ fontSize: '20px' }}>\r\n                                Noticia creada correctamente\r\n                        </UncontrolledAlert>\r\n\r\n                        </>\r\n                        : (this.state.alert === 'fail' &&\r\n                            <Alert color=\"danger\" fade={false} style={{ fontSize: '20px' }}>\r\n                                Error. No se ha creado la noticia\r\n                        </Alert>\r\n                        )\r\n                    }\r\n                    <div id=\"formulario\">\r\n                        <div className=\"center\">\r\n\r\n                            <Formik\r\n                                initialValues={ initialValues}\r\n                                validationSchema={NewsFormSchema}\r\n                                onSubmit={(values, { setSubmitting }) => {\r\n                                    setTimeout(() => {\r\n                                        console.log('entra');\r\n                                        this.handleSubmit(values);\r\n                                        setSubmitting(true);\r\n                                    }, 400);\r\n                                }}\r\n                            >\r\n                                {({\r\n                                    values,\r\n                                    errors,\r\n                                    touched,\r\n                                    handleChange,\r\n                                    handleBlur,\r\n                                    handleSubmit,\r\n                                    isSubmitting,\r\n                                }) => (\r\n                                        <form className=\"formCompleto\" onSubmit={handleSubmit}>\r\n                                            <FormGroup>\r\n                                                <Label class=\"col-sm-2 col-form-label\">Titulo</Label>\r\n                                                <input\r\n                                                    className=\"form-control\"\r\n                                                    type=\"title\"\r\n                                                    name=\"title\"\r\n                                                    onChange={handleChange}\r\n                                                    onBlur={handleBlur}\r\n                                                    value={values.title}\r\n                                                    style={{ fontSize: '14px' }}\r\n                                                />\r\n\r\n                                                {errors.title && touched.title && errors.title}\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <Label class=\"col-sm-2 col-form-label\">Contenido</Label>\r\n                                                <textarea\r\n                                                    style={{ background: 'white', fontSize: '14px' }}\r\n                                                    type=\"content\"\r\n                                                    name=\"content\"\r\n                                                    onChange={handleChange}\r\n                                                    onBlur={handleBlur}\r\n                                                    value={values.content}\r\n\r\n                                                />\r\n\r\n                                                {errors.content && touched.content && errors.content}\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <input type=\"file\" style={{ fontSize: '14px', marginTop: '10px', marginBottom: '10px' }} />\r\n                                            </FormGroup>\r\n                                            <FormGroup>\r\n                                                <Row>\r\n                                                    <Col xs={'2'}>\r\n                                                        <a href='/news'><Input type=\"submit\" value='Crear' style={{ fontSize: '14px' }}></Input></a>\r\n                                                    </Col>\r\n\r\n                                                    <Col xs={'0.1'}>\r\n                                                        <button style={{ fontSize: '14px', textTransform: 'uppercase' }} className=\"btn btn-secondary\" size='lg' color=\"secondary\"><a className={'link-to-pages'} href=\"/news\">Cancelar</a></button>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                            </FormGroup>\r\n                                        </form>\r\n                                    )}\r\n                            </Formik>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default withFormik({\r\n\r\n    mapPropsToValues: () => ({ title: '', content: '', image: '' }),\r\n    validationSchema: NewsFormSchema,\r\n    handleSubmit:\r\n        (values, { setSubmitting }) => {\r\n\r\n            setSubmitting(true);\r\n            this.handleSubmit(values);\r\n\r\n            /*  setTimeout(() => {\r\n                  {this.handleSubmit};\r\n                  console.log('entra');\r\n                  //alert(JSON.stringify(values, null, 2));\r\n                  setSubmitting(true);\r\n              }, 1000);*/\r\n        },\r\n    displayName: 'NewsForm'\r\n\r\n})(withRouter(withAuth(NewsForm)));","import React, { Component } from 'react';\r\n\r\nimport Table from 'components/Table';\r\nimport axios from 'axios';\r\nimport Slider from 'components/Slider';\r\nimport DataListView from '../DataListView';\r\nimport newsService from 'services/news-service';\r\n\r\nclass NewsDetail extends Component {\r\n\r\n    state = {\r\n        news: {},\r\n        id: '',\r\n        userId: '',\r\n        user: {},\r\n        status: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        const id = this.props.match.params.id;\r\n\r\n        if(id){\r\n            this.getNewsById(id);\r\n        }\r\n\r\n        if (this.props.update === 'true') {\r\n            this.updateNews(this.props.idToUpdate);\r\n        }\r\n\r\n        if (this.props.delete === 'true') {\r\n            this.deleteNews(this.props.idToDelete);\r\n        }\r\n\r\n    \r\n    }\r\n\r\n\r\n\r\n    /*Peticion para traer una noticia por id */\r\n    getNewsById = async(id) => {\r\n        const service = axios.create({\r\n            baseURL: 'http://localhost:3800/',\r\n            withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n          })    \r\n        await service.get('/news/' + id) \r\n            .then(res => {\r\n                if (res.data) {\r\n                    this.setState({\r\n                        news: res.data.noticia,\r\n                        userId: res.data.noticia.user,\r\n                        searchById: true,\r\n                        status: 'success'\r\n                    });\r\n                } else {\r\n                    this.setState({\r\n                        status: 'failed'\r\n                    });\r\n                }\r\n            });\r\n            \r\n            this.getUser(this.state.userId);\r\n    \r\n    }\r\n\r\n    getUser = (id) => {\r\n        const service = axios.create({\r\n            baseURL: 'http://localhost:3800/',\r\n            withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n          }) \r\n        service.get(\"/users/one/\" + id)\r\n            .then( res => {\r\n                if(res.data){\r\n                 \r\n                    this.setState({\r\n                        user: res.data.usuario\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    /*Peticion para editar una noticia */\r\n    updateNews = (toUpdate) => {\r\n\r\n        axios.put(\"http://localhost:3800/news/\" + toUpdate) //url a la que le vamos a hacer una peticion por get a la API REST\r\n            .then(res => {\r\n                this.setState({\r\n                    news: res.data.noticia,\r\n                    updated: true,\r\n                    status: 'success'\r\n                });\r\n            });\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <section id=\"content\" >\r\n\r\n                {this.state.status === 'success' &&\r\n                    <div>\r\n                        <div id=\"goBackButton\" >\r\n                            <a href=\"javascript:history.back()\">\r\n                                Volver\r\n                            </a>\r\n                        </div>\r\n                       \r\n                        {this.state.news.image ? (\r\n                            <div>\r\n                                <Slider\r\n                                    size=\"slider-noticia\"\r\n                                    id={this.state.news._id}\r\n                                    title={this.state.news.title}\r\n                                    content={this.state.news.content}\r\n                                    image={this.state.news.image}\r\n                                    author={this.state.user}\r\n                                    date={this.state.news.date}\r\n                                ></Slider>\r\n                            </div>\r\n                        ) : (\r\n                                <div>\r\n                                    <Slider\r\n                                        size=\"slider-noticia\"\r\n                                        id={this.state.news._id}\r\n                                        title={this.state.news.title}\r\n                                        content={this.state.news.content}\r\n                                        author={this.state.user}\r\n                                        date={this.state.news.date}\r\n                                    ></Slider>\r\n                                </div>\r\n                            )\r\n                        }\r\n\r\n\r\n                    </div>\r\n\r\n                }\r\n\r\n\r\n                \r\n            </section>\r\n\r\n\r\n        );\r\n\r\n\r\n    } \r\n\r\n\r\n\r\n}\r\n\r\nexport default NewsDetail;","import React, { Component } from 'react';\r\n\r\nimport withAuth from 'components/withAuth';\r\n\r\nimport Header from 'components/Header';\r\nimport DataListView from 'components/DataListView';\r\nimport {Row, Col} from 'reactstrap';\r\nimport userService from 'services/user-service';\r\n\r\n\r\nclass TeacherList extends Component {\r\n\r\n    state = {\r\n\r\n        teachers: [],\r\n        status: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n       this.getTeacherList();\r\n    }\r\n\r\n    onCheckItem = (event, id) => {     \r\n        document.activeElement.blur();\r\n     };\r\n\r\n     getTeacherList = async() => {\r\n        await userService.getTeachersList()\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState({\r\n                teachers: res.teachers,\r\n                status: 'success'\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>  \r\n                {this.state.teachers && this.state.teachers.length > 0 && this.state.teachers.map(t => {\r\n                     return (\r\n                        <DataListView\r\n                            key={t.id}\r\n                            element={t}\r\n                            onCheckItem={this.onCheckItem}\r\n                            usersList   \r\n                        />\r\n                     )\r\n                })}\r\n                {this.state.teachers && this.state.teachers.length === 0 &&\r\n\r\n                    <h2 className=\"text-center\">No hay profesores registrados</h2>\r\n\r\n                }\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withAuth(TeacherList);","import React, { Component } from 'react';\r\n\r\nimport withAuth from 'components/withAuth';\r\n\r\nimport DataListView from 'components/DataListView';\r\nimport {Row, Col} from 'reactstrap';\r\nimport userService from 'services/user-service';\r\n\r\n\r\nclass AlumnList extends Component {\r\n\r\n    state = {\r\n\r\n        alumns: [],\r\n        status: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAlumnList();\r\n    }\r\n\r\n    onCheckItem = (event, id) => {     \r\n        document.activeElement.blur();\r\n     };\r\n\r\n     getAlumnList = async() => {\r\n        await userService.getAlumnsList()\r\n        .then(res => {\r\n            console.log(res.data);\r\n            this.setState({\r\n                alumns: res.alumns,\r\n                status: 'success'\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>  \r\n                {this.state.alumns && this.state.alumns.length > 0 && this.state.alumns.map(a => {\r\n                     return (\r\n                        <DataListView\r\n                            key={a.id}\r\n                            element={a}\r\n                            onCheckItem={this.onCheckItem}\r\n                            usersList   \r\n                        />\r\n                     )\r\n                })}\r\n                 {this.state.alumns && this.state.alumns.length === 0 &&\r\n\r\n                    <h2 className=\"text-center\">No hay alumnos registrados</h2>\r\n\r\n                }\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withAuth(AlumnList);","import React, { Component } from 'react';\r\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport withAuth from 'components/withAuth';\r\nimport Asignatura from 'components/Asignatura';\r\nimport Header from 'components/Header';\r\nimport DataListView from 'components/DataListView';\r\nimport axios from 'axios';\r\nimport {Row, Col} from 'reactstrap';\r\nimport userService from 'services/user-service';\r\nimport TeacherList from 'components/TeacherList';\r\nimport AlumnList from 'components/AlumnList';\r\n\r\nimport \"react-tabs/style/react-tabs.css\";\r\n\r\nclass UsersList extends Component {\r\n\r\n    state = {\r\n        users: [Object],\r\n        status: null,\r\n    }\r\n\r\n  \r\n    onCheckItem = (event, id) => {     \r\n        document.activeElement.blur();\r\n    };\r\n\r\n   \r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Header />\r\n                           \r\n                <div id=\"user\">\r\n                    <Row className=\"pt-5 mt-5\">\r\n                        <Col xs='10'>\r\n                            <h2 className=\"subheaderdos\">Usuarios</h2>\r\n                        </Col>\r\n                        <Col xs='2' className=\"pt-5 mt-5\">\r\n                            <Link to={'/add-teacher'} className={'btn btn-primary'} >Añadir profesor</Link>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Tabs>\r\n                        <TabList>\r\n                            <Tab selectedClassName=\"selected-tab-style\">\r\n                                Alumnos\r\n                            </Tab>\r\n                            <Tab\r\n                                selectedClassName=\"selected-tab-style\"\r\n                            >\r\n                                Profesores\r\n                            </Tab>\r\n                        </TabList>\r\n                 \r\n\r\n                        <TabPanel>\r\n                            <AlumnList/>\r\n                        </TabPanel>\r\n                    \r\n                        <TabPanel>\r\n                            <TeacherList/>\r\n                        </TabPanel>\r\n                  </Tabs>\r\n</div>\r\n            </div>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default withAuth(UsersList);","import React, { useEffect, useState } from 'react';\r\nimport { ListGroup, ListGroupItem } from 'reactstrap';\r\n\r\nimport chatService from 'services/chat-service';\r\nimport userService from 'services/user-service';\r\nimport Header from 'components/Header';\r\nimport withAuth from 'components/withAuth';\r\nimport { Redirect, Link } from 'react-router-dom';\r\n\r\nconst ListChats = (props) => {\r\n  // fetch a chatService.getChatsByUser, pintar la lista que devuelva\r\n  const [chats, setChats] = useState([]);\r\n  const [list, setList] = useState([]);\r\n  const [showList, setShowList] = useState(false);\r\n  const [redirectToChat, setRedirectToChat] = useState(false);\r\n  const [idChat, setIdChat] = useState('');\r\n  const [userChats, setUserChats] = useState([]);\r\n  const [otherUser, setOtherUser] = useState();\r\n\r\n  useEffect(() => {\r\n    console.log('props');\r\n    console.log(props)\r\n    getUserChatsAction();\r\n   \r\n  }, []);\r\n\r\n  const createNewChat = (otherId) => {\r\n    //coger mi id desde las props y el otherId es del usuario que pincho en la lista para crear un nuevo chat.\r\n    const { _id: myId } = props.user;\r\n    console.log(myId)\r\n    console.log(otherId)\r\n    chatService.createChat(otherId).then(({ data }) => {\r\n      console.log('ha creado el chat')\r\n      console.log(data)\r\n      setIdChat(data._id);\r\n      setRedirectToChat(true);\r\n    })\r\n  }\r\n\r\n  const showUsersList = async () => {\r\n    const { user } = props;\r\n\r\n    if (user.type === 'alumn') {\r\n      await userService.getTeachersList().then(data => {\r\n        console.log(data.teachers)\r\n        list.push(data.teachers);\r\n        setList(...list);\r\n        console.log(list)\r\n        setShowList(true);\r\n      })\r\n    }\r\n\r\n    else {\r\n      await userService.getAlumnsList().then(data => {\r\n        setList(data.alumns);\r\n        setShowList(true);\r\n      })\r\n    }\r\n\r\n\r\n  }\r\n\r\n  const getUserChatsAction = async () => {\r\n    const user = props.user;\r\n\r\n    userService.getUserChats(user._id).then(chats => {\r\n      setUserChats(chats);\r\n    });\r\n     \r\n\r\n  }\r\n\r\n\r\n  const getOtherUserAction = (id) => {  // POR SI NO SE PUEDE USAR FILTER EN EL RENDER COGER EL OTRO ID DEL OTRO USUARIO QUE NO SOY YO\r\n    \r\n      chatService.getOtherUser(id).then((data) => {\r\n        setOtherUser(data.username)\r\n      })\r\n\r\n  }\r\n\r\n  const goBack = () => {\r\n      setShowList(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      {!showList ? (\r\n        <>\r\n        {console.log(props.user)}\r\n          { props.user.chats && props.user.chats.length > 0 && userChats.length > 0 ? (\r\n            <div className=\"subheaderSpace\">\r\n              <h2>Chats recientes</h2>\r\n              <ListGroup  style={{ fontSize: '25px' }}>\r\n                { userChats.map(chat => {\r\n                  console.log('chat')\r\n                  console.log(chat)\r\n                        const otherUserFilteredId = chat.users.filter((e) => e._id !== props.user._id)\r\n                    \r\n                        return <Link to={`/chat/${chat._id}`}>\r\n                          <ListGroupItem tag=\"a\" style={{ color: 'black', textDecoration: 'none', cursor: 'pointer' }}>{otherUserFilteredId}</ListGroupItem>\r\n                        </Link>\r\n                      })\r\n                }\r\n      \r\n              </ListGroup>\r\n              <button onClick={showUsersList} style={{float: 'right'}}>\r\n                  Crea uno\r\n              </button>\r\n            </div>\r\n          ) : (\r\n              <>\r\n                <h1 className=\"subheaderSpace\">No tienes ningún chat</h1>\r\n                <button onClick={showUsersList}>\r\n                  Crea uno\r\n              </button>\r\n              </>\r\n            )\r\n          }\r\n        </>\r\n\r\n      ) : (\r\n        <div className={'subheaderSpace'}>\r\n            <h2>Usuarios</h2>\r\n            <ListGroup style={{ fontSize: '25px' }}>\r\n              {list && list.length > 0 &&\r\n                list.map(l => {\r\n                  return <ListGroupItem tag=\"a\" onClick={() => createNewChat(l._id)} style={{ color: 'black', textDecoration: 'none', cursor: 'pointer' }}>{l.firstName} {l.lastName}</ListGroupItem>\r\n                })\r\n              }\r\n\r\n            </ListGroup>\r\n            <button onClick={goBack} style={{float: 'right'}}>\r\n                Atrás\r\n            </button>\r\n          </div>\r\n        )\r\n\r\n      }\r\n      {redirectToChat &&\r\n        <Redirect to={'/chat/' + idChat} />\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withAuth(ListChats);","import React, { Component } from 'react';\r\nimport {Col, Row} from \"reactstrap\";\r\n\r\nimport subjectService from 'services/subject-service';\r\nimport Header from 'components/Header';\r\n\r\nclass SubjectDetails extends Component {\r\n\r\n    state = {\r\n        subject: {},\r\n        id: '',\r\n        userId: '',\r\n        user: {},\r\n        status: null,\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        const paramId = this.props.match.params.id;\r\n\r\n        if(paramId){\r\n            this.setState({\r\n                id: paramId\r\n            })\r\n            this.getSubject(paramId);\r\n        \r\n        }\r\n\r\n    }\r\n\r\n    getSubject = async (id) => {\r\n        await subjectService.getSubjectById(id).then(data => {\r\n            this.setState({\r\n                subject: data.subject,\r\n                status: 'success',\r\n            })\r\n\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { subject } = this.state;\r\n\r\n        return (\r\n            <>\r\n                {console.log('subject')}\r\n                {console.log(subject)}\r\n\r\n                <Header />\r\n            \r\n                    {subject &&\r\n                    \r\n                        <div className={'mt-5 pt-5'}>\r\n                            <Row>\r\n                                <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2 className=\"subheaderdos\">{subject.title}</h2>\r\n                                    </Col>\r\n                                </>\r\n                            </Row>\r\n                           \r\n                            <Row>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2>Curso: {subject.curso}</h2>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n                            <Row className={'mt-5'}>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2>Créditos: {subject.creditos}</h2>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n                           \r\n                           <Row className={'mt-5'}>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2>Contenido</h2>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n                           <Row className={'mt-3'}>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h4>{subject.content}</h4>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n\r\n                           <Row className={'mt-5'}>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2>Profesor/es</h2>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n                           <Row className={'mt-3'}>\r\n                               <>\r\n                                    {subject.teachers && subject.teachers.length > 0 ?\r\n                                        subject.teachers.map(t => {\r\n                                        return <Col xs={'12'}>\r\n                                         <h4>{t.firstName}{t.lastName}</h4>\r\n                                        </Col>\r\n                                    })\r\n                                : (\r\n                                    <Col xs={'12'}>\r\n                                        <h4>No hay profesores que impartan esta asignatura</h4>\r\n                                    </Col>\r\n                                )}\r\n                                   \r\n                               </>\r\n                           </Row>\r\n\r\n                           <Row className={'mt-5'}>\r\n                               <>\r\n                                    <Col xs={'12'}>\r\n                                        <h2>Alumnos</h2>\r\n                                    </Col>\r\n                               </>\r\n                           </Row>\r\n                           <Row className={'mt-3'}>\r\n                               <>\r\n                                    {subject.alumns && subject.alumns.length > 0 ?\r\n                                        subject.alumns.map(a => {\r\n                                        return <Col xs={'12'}>\r\n                                         <h4>{a.firstName}{a.lastName}</h4>\r\n                                        </Col>\r\n                                    })\r\n                                    : (\r\n                                        <Col xs={'12'}>\r\n                                            <h4>No hay alumnos en esta asignatura</h4>\r\n                                        </Col>\r\n                                    )}\r\n                                   \r\n                               </>\r\n                           </Row>\r\n\r\n\r\n                            \r\n\r\n                        </div>\r\n\r\n                    }\r\n\r\n\r\n                    \r\n            </>\r\n\r\n        );\r\n\r\n\r\n    } \r\n\r\n\r\n\r\n}\r\n\r\nexport default SubjectDetails;","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport withAuth from '../components/withAuth.js';\r\nimport axios from 'axios';\r\nimport { Card, Col, Row, Alert, UncontrolledAlert } from 'reactstrap';\r\nimport userService from 'services/user-service.js';\r\n\r\nclass AddTeacher extends Component {\r\n\r\n  state = {\r\n    username: '',\r\n    password: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    toUserList: false,\r\n    alert: '',\r\n  };\r\n\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const username = this.state.username;\r\n    const password = this.state.password;\r\n    const firstName = this.state.firstName;\r\n    const lastName = this.state.lastName;\r\n\r\n    const newTeacher = axios.create({\r\n        baseURL: 'http://localhost:3800/',\r\n        withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n    })\r\n    newTeacher.post(\"/users/add-teacher\", {username, password, firstName, lastName})\r\n      .then(data => {\r\n        console.log(data)\r\n        this.setState({\r\n          username: '',\r\n          password: '',\r\n          firstName: '',\r\n          lastName: '',\r\n          toUserList: true,\r\n        });\r\n\r\n\r\n      })\r\n      .catch(error => {\r\n        if (error.message === 'Request failed with status code 422') {\r\n          this.setState({\r\n            alert: 'danger'\r\n          })\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  render() {\r\n    const { username, password, firstName, lastName } = this.state;\r\n    return (\r\n      <>\r\n        {\r\n          this.state.alert === 'danger' &&\r\n          <UncontrolledAlert color={'danger'} className={'font'}>\r\n            No se ha podido crear. Ya existe un usuario con ese username.\r\n          </UncontrolledAlert>\r\n        }\r\n        <Card style={{ background: '#fffdfd' }} className=\"auth-card-signup\">\r\n            <form onSubmit={this.handleFormSubmit}>\r\n            \r\n            <Row className={''}>\r\n            \r\n                <Col xs={'12'}>\r\n                    <h2 className={'text-center mt-5'}>Nuevo profesor</h2>\r\n                </Col>\r\n            \r\n                </Row>\r\n                <Row className={''}>\r\n                <Col xs={'12'}>\r\n                    <label htmlFor='firstName' className={'mt-4'}>Nombre</label>\r\n                </Col>\r\n                <Col xs={'12'} >\r\n                    <input className={'mt-2 font'} id='firstName' required='true' type='text' name='firstName' value={firstName} onChange={this.handleChange} />\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='lastName'>Apellidos</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                    <input className={'mt-2 font'} id='lastName' required='true' type='text' name='lastName' value={lastName} onChange={this.handleChange} />\r\n                </Col>\r\n\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='username'>Username</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                    <input className={'mt-2 font'} id='username' required='true' type='text' name='username' value={username} onChange={this.handleChange} />\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='password'>Contraseña</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                    <input className={'mt-2 font'} id='password' required='true' type='password' name='password' value={password} onChange={this.handleChange} />\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row className={'text-center'}>\r\n                <Col xs={'2'} className={'mt-5 pt-3 goBackButtonTeacher'} >\r\n                    \r\n                    <a href=\"javascript:history.back()\">\r\n                        Volver\r\n                    </a>\r\n                \r\n                    </Col>\r\n                <Col xs={'1'} >\r\n                    <input className={'mt-5'} type='submit' value='Añadir' />\r\n                </Col>\r\n                </Row>\r\n\r\n            </form>\r\n\r\n        </Card>\r\n        {this.state.toUserList &&\r\n\r\n          <Redirect to='/users-list' />\r\n\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(AddTeacher);","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DataListView from 'components/DataListView';\r\nimport AuthService from 'services/auth-service';\r\nimport subjectService from 'services/subject-service';\r\nimport loading from 'assets/images/loading.jpg';\r\nimport Header from 'components/Header.js';\r\nimport {Row, Col} from 'reactstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass SubjectsList extends Component {\r\n\r\n    state = {\r\n        subjects: {},\r\n        status: null,\r\n        lastChecked: null,\r\n        selectedItems: null,\r\n        loading: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getSubjects();\r\n    }\r\n\r\n    clickItem = (item, event) => {\r\n        event.preventDefault();\r\n        this.props.onClickItem(item);\r\n    };\r\n\r\n    onCheckItem = (event, id) => {\r\n        document.activeElement.blur();\r\n    };\r\n\r\n    getSubjects = async () => {\r\n        await subjectService.getSubjects().then(({subjects}) =>{ console.log(subjects); this.setState({ subjects, status: 'success' })})\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        const { subjects, status } = this.state;\r\n        return (\r\n            <>\r\n            <Header/>\r\n            <section id=\"content\" >\r\n                <Row className=\"pt-5 mt-5\">\r\n                        <Col xs='10'>\r\n                            <h2 className=\"subheaderdos\">Asignaturas</h2>\r\n                           \r\n                        </Col>\r\n                        <Col xs='2' className=\"pt-5 mt-5\">\r\n                            <Link to={'/add-subject'} className={'btn btn-primary'} >Añadir asignatura</Link>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                {status !== 'success' ? (\r\n                    <div className={'loading'}>\r\n                        <img src={loading} />\r\n                    </div>\r\n                ) : (\r\n                    subjects && subjects.length > 0 ? (\r\n                        <div>\r\n                            {console.log('subjects')}\r\n                            {console.log(subjects)}\r\n                            {subjects.map((subject, i) => {\r\n                                return (\r\n                                    <DataListView\r\n                                        key={subject.id}\r\n                                        element={subject}\r\n                                        onCheckItem={this.onCheckItem}\r\n                                        subjects\r\n                                    />\r\n                                );\r\n                            })\r\n                            }\r\n                        </div>\r\n                    ) : (\r\n                        <h2 className=\"text-center\">No hay asignaturas</h2>\r\n                    )\r\n                )\r\n\r\n                }\r\n              \r\n\r\n            </section>\r\n\r\n            </>\r\n        );\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default SubjectsList;","import React, { Component } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport withAuth from '../components/withAuth.js';\r\nimport axios from 'axios';\r\nimport { Card, Col, Row, Alert, UncontrolledAlert } from 'reactstrap';\r\nimport Select from 'react-select';\r\nimport { Field } from 'formik';\r\n\r\nclass AddSubject extends Component {\r\n\r\n  state = {\r\n    title: '',\r\n    content: '',\r\n    creditos: '',\r\n    curso: '',\r\n    toUserSubjectList: false,\r\n    alert: '',\r\n  };\r\n\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n    const title = this.state.title;\r\n    const content = this.state.content;\r\n    const creditos = this.state.creditos;\r\n    const curso = this.state.curso;\r\n\r\n    const newSubject = axios.create({\r\n        baseURL: 'http://localhost:3800/',\r\n        withCredentials: true, //poner siempre, es el que controla la cookie del header en una petición y es lo que lee el back para saber si tiene current user\r\n    })\r\n    newSubject.post(\"/subjects/\", {title, content, creditos, curso})\r\n      .then(data => {\r\n        console.log(data)\r\n        this.setState({\r\n          title: '',\r\n          content: '',\r\n          creditos: '',\r\n          curso: '',\r\n          toUserSubjectList: true,\r\n        });\r\n\r\n\r\n      })\r\n      .catch(error => {\r\n        if (error.message === 'Request failed with status code 422') {\r\n          this.setState({\r\n            alert: 'danger'\r\n          })\r\n        }\r\n      }\r\n      )\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n  render() {\r\n    const { title, content, creditos, curso } = this.state;\r\n    return (\r\n      <>\r\n        {\r\n          this.state.alert === 'danger' &&\r\n          <UncontrolledAlert color={'danger'} className={'font'}>\r\n            No se ha podido crear. Ya existe un usuario con ese username.\r\n          </UncontrolledAlert>\r\n        }\r\n        <Card style={{ background: '#fffdfd' }} className=\"auth-card-signup\">\r\n            <form onSubmit={this.handleFormSubmit}>\r\n            \r\n            <Row className={''}>\r\n            \r\n                <Col xs={'12'}>\r\n                    <h2 className={'text-center mt-5'}>Nueva asignatura</h2>\r\n                </Col>\r\n            \r\n                </Row>\r\n                <Row className={''}>\r\n                <Col xs={'12'}>\r\n                    <label htmlFor='title' className={'mt-4'}>Título</label>\r\n                </Col>\r\n                <Col xs={'12'} >\r\n                    <input className={'mt-2 font'} id='title' required='true' type='text' name='title' value={title} onChange={this.handleChange} />\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='content'>Contenido</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                    <textarea className={'mt-2 font'} required='true' name='content' value={content} onChange={this.handleChange} />\r\n                </Col>\r\n\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='creditos'>Creditos</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                <select value={creditos} placeholder={'Seleccionar creditos'} onChange={this.handleChange} name='creditos'>\r\n                      <option value=\"1\">1</option>\r\n                      <option value=\"2\">2</option>\r\n                      <option value=\"3\">3</option>\r\n                      <option value=\"4\">4</option>\r\n                      <option value=\"5\">5</option>\r\n                      <option value=\"6\">6</option>\r\n                    </select>\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row>\r\n                <Col xs={'12'}>\r\n                    <label className={'mt-2'} htmlFor='curso'>Curso</label>\r\n                </Col>\r\n                <Col xs={'12'}>\r\n                    <select value={curso} placeholder={'Seleccionar curso'} onChange={this.handleChange} name='curso'>\r\n                      <option value=\"1º\">1º</option>\r\n                      <option value=\"2º\">2º</option>\r\n                      <option value=\"3º\">3º</option>\r\n                      <option value=\"4º\">4º</option>\r\n                    </select>\r\n                </Col>\r\n                </Row>\r\n\r\n                <Row className={'justify-content-center'}>\r\n                <Col xs={'1.5'} className={'mt-5 pt-3 goBackButtonTeacher'} >\r\n                    \r\n                    <a href=\"javascript:history.back()\">\r\n                        Volver\r\n                    </a>\r\n                \r\n                    </Col>\r\n                <Col xs={'1'} >\r\n                    <input className={'mt-5'} type='submit' value='Añadir' />\r\n                </Col>\r\n                </Row>\r\n\r\n            </form>\r\n\r\n        </Card>\r\n        {this.state.toUserSubjectList &&\r\n\r\n          <Redirect to='/subjects-list' />\r\n\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withAuth(AddSubject);","import React, { useEffect, useState } from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport withAuth from 'components/withAuth';\r\nimport SelectSubjects from 'pages/SelectSubjects';\r\nimport subjectService from 'services/subject-service';\r\n\r\nconst AdminRoute = (props) => {\r\n\r\n  const {isLoggedIn, user, component: Component, ...rest} = props;\r\n  return (\r\n    <>\r\n      {isLoggedIn && user.type === 'admin' ? ( <Route \r\n        render={(props) => {\r\n          return <Component {...props}/>\r\n        }}\r\n        {...rest}\r\n      />\r\n      ) : ( \r\n            <Redirect to='/home' />\r\n        ) \r\n      }\r\n    </>\r\n\r\n   \r\n  );\r\n}\r\n\r\nexport default withAuth(AdminRoute);\r\n","import React, { useEffect, useState } from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport withAuth from 'components/withAuth';\r\nimport SelectSubjects from 'pages/SelectSubjects';\r\nimport subjectService from 'services/subject-service';\r\n\r\nconst AlumnRoute = (props) => {\r\n\r\n  const {isLoggedIn, user, component: Component, ...rest} = props;\r\n  return (\r\n    <>\r\n      {isLoggedIn ? ( <Route \r\n        render={(props) => {\r\n          return <Component {...props}/>\r\n        }}\r\n        {...rest}\r\n      />\r\n      ) : ( \r\n            <Redirect to='/home' />\r\n        ) \r\n      }\r\n    </>\r\n\r\n   \r\n  );\r\n}\r\n\r\nexport default withAuth(AlumnRoute);\r\n","import axios from 'axios';\r\n\r\nclass DocumentService {\r\n  constructor() {\r\n    this.service = axios.create({\r\n      baseURL: 'https://uhu-back.herokuapp.com',\r\n      withCredentials: true,\r\n    })\r\n  }\r\n\r\n  postOneDocument = (formData) => {\r\n      \r\n\r\n      console.log('formData', formData)\r\n    return this.service.post(`/documents/`, formData).then(({data}) => data);\r\n  }\r\n\r\n  getAllDocuments = () => this.service.get(`/documents/all`).then(({data}) => data)\r\n\r\n}\r\n\r\nconst documentService = new DocumentService();\r\n\r\nexport default documentService;","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport DataListView from 'components/DataListView';\r\nimport AuthService from 'services/auth-service';\r\nimport subjectService from 'services/subject-service';\r\nimport loading from 'assets/images/loading.jpg';\r\nimport Header from 'components/Header.js';\r\nimport { Row, Col, Button, Modal, ModalHeader, ModalBody, ModalFooter, Dropdown,\r\n    DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\r\nimport documentService from 'services/document-service';\r\nimport { Link } from 'react-router-dom';\r\nimport userService from 'services/user-service';\r\nimport withAuth from 'components/withAuth';\r\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\r\n\r\n\r\nclass DocumentsList extends Component {\r\n\r\n    state = {\r\n        documents: {},\r\n        status: null,\r\n        lastChecked: null,\r\n        selectedItems: null,\r\n        loading: true,\r\n        modal: false,\r\n        selectedDocument: null,\r\n        docName: '',\r\n        allDocuments: [],\r\n        dropdownOpen: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.user.type === 'admin'){\r\n            this.getAllDocuments();\r\n        }\r\n    }\r\n\r\n    getAllDocuments = async () => {\r\n        await documentService.getAllDocuments().then(({documents}) =>{ \r\n            console.log('allDocs', documents)\r\n            if(documents !== undefined){\r\n                this.setState({ allDocuments: documents, status: 'success' })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    toggleModal = () => {\r\n        this.setState({\r\n          modal: !this.state.modal\r\n        })\r\n    }\r\n\r\n    clickItem = (item, event) => {\r\n        event.preventDefault();\r\n        this.props.onClickItem(item);\r\n    };\r\n\r\n    onCheckItem = (event, id) => {\r\n        document.activeElement.blur();\r\n    };\r\n\r\n    getDocuments = async () => {\r\n        const user = this.props.user;\r\n        console.log(user)\r\n        await userService.getDocuments(user._id).then(({documents}) =>{ \r\n            console.log(documents); \r\n            if(documents !== undefined){\r\n                this.setState({ documents, status: 'success' })\r\n            }\r\n        })\r\n    }\r\n\r\n    saveDocument = async () => {\r\n        const { docName, selectedDocument } = this.state;\r\n        console.log('document', selectedDocument)\r\n\r\n        // Create an object of formData \r\n        const formData = new FormData(); \r\n        \r\n        // Update the formData object \r\n        formData.append( \r\n            \"file0\", \r\n            this.state.selectedFile, \r\n        ); \r\n\r\n        formData.append( \r\n            \"title\", \r\n            this.state.docName, \r\n        ); \r\n      \r\n        this.toggleModal();\r\n        return await documentService.postOneDocument(formData);\r\n    \r\n    }\r\n\r\n    handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        this.setState({ [name]: value });\r\n    }\r\n    \r\n    onFileChange = event => { \r\n     \r\n        // Update the state \r\n        this.setState({ selectedFile: event.target.files[0] }); \r\n       \r\n    }; \r\n\r\n    toggle = () => {\r\n        this.setState({\r\n            dropdownOpen: !this.state.dropdownOpen\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { user } = this.props;\r\n        const { documents, status, allDocuments, dropdownOpen } = this.state;\r\n        const documentList = user.documents;\r\n\r\n        return (\r\n            <>\r\n            <Header/>\r\n            <section id=\"content\" >\r\n                    <Row className=\"pt-5 mt-5\">\r\n                        <Col xs='10'>\r\n                            {user.type !== 'admin' ? (\r\n                                <h2 className=\"subheaderdos\">Mis documentos</h2>\r\n                            ) : (\r\n                                <h2 className=\"subheaderdos\">Documentos</h2>\r\n                            )}\r\n                        </Col>\r\n                        <Col xs='1' className=\"pt-5 mt-5\">\r\n                            <Dropdown isOpen={dropdownOpen} toggle={this.toggle}>\r\n                                <DropdownToggle caret>\r\n                                    Generar PDF    \r\n                                </DropdownToggle>\r\n                                <DropdownMenu>\r\n                                    <DropdownItem>\r\n                                        <Link to={'/generate-subject-guide-request'}>Petición de guía de una asignatura</Link>\r\n                                    </DropdownItem>\r\n                                    <DropdownItem divider />\r\n                                    <DropdownItem>\r\n                                        <Link to={'/generate-pdf'}>Generar documento libre</Link>\r\n                                    </DropdownItem>                                \r\n                            </DropdownMenu>\r\n                            </Dropdown>\r\n                        </Col>\r\n                        <Col xs='1' className=\"pt-5 mt-5\">\r\n                            <Button color=\"primary\" onClick={this.toggleModal} >Subir un documento</Button>\r\n                        </Col>\r\n                    </Row>\r\n                {user.type !== 'admin' && (\r\n                    <>\r\n                    \r\n                    {documentList && documentList.length > 0 ? (\r\n                     <div>\r\n                         {documentList.map((document) => {\r\n                             return (\r\n                                 <DataListView\r\n                                     key={document._id}\r\n                                     element={document}\r\n                                     onCheckItem={this.onCheckItem}\r\n                                     document={true}\r\n                                 />\r\n                             );\r\n                         })\r\n                         }\r\n                     </div>\r\n                    ) : (\r\n                        <h2 className=\"text-center mt-3\">No hay documentos</h2>\r\n                    )}\r\n                \r\n                </>\r\n             \r\n                )}\r\n\r\n                {user.type === 'admin' && (\r\n                    <>\r\n                        <Tabs>\r\n                            <TabList>\r\n                                <Tab selectedClassName=\"selected-tab-style\">\r\n                                    Documentos\r\n                                </Tab>\r\n                                <Tab\r\n                                    selectedClassName=\"selected-tab-style\"\r\n                                >\r\n                                    Mis documentos\r\n                                </Tab>\r\n                            </TabList>\r\n                    \r\n                            <TabPanel>\r\n                                {allDocuments && allDocuments.length > 0 ? (\r\n                                <div>\r\n                                    {allDocuments.map((document) => {\r\n                                        return (\r\n                                            <DataListView\r\n                                                key={document._id}\r\n                                                element={document}\r\n                                                onCheckItem={this.onCheckItem}\r\n                                                document={true}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                                ) : (\r\n                                    <h2 className=\"text-center\">No hay documentos</h2>\r\n                                )}\r\n                            </TabPanel>\r\n                        \r\n                            <TabPanel>\r\n                            {documentList && documentList.length > 0 ? (\r\n                                <div>\r\n                                    {documentList.map((document) => {\r\n                                        return (\r\n                                            <DataListView\r\n                                                key={document._id}\r\n                                                element={document}\r\n                                                onCheckItem={this.onCheckItem}\r\n                                                document={true}\r\n                                            />\r\n                                        );\r\n                                    })\r\n                                    }\r\n                                </div>\r\n                                ) : (\r\n                                    <h2 className=\"text-center\">No hay documentos</h2>\r\n                                )}\r\n                            </TabPanel>\r\n                        </Tabs>\r\n                    </>\r\n                )}\r\n               \r\n              \r\n                {this.state.modal &&\r\n                    <div>\r\n                        <Modal isOpen={this.state.modal} toggle={this.toggleModal} >\r\n                        <ModalHeader>Guardar documento</ModalHeader>\r\n                        <ModalBody>\r\n                            <Row>\r\n                            <Col xs={'12'}>\r\n                                <label className={'mt-2'} htmlFor='text'>Introduzca un nombre para el documento</label>\r\n                            </Col>\r\n                            <Col xs={'12'}>\r\n                                <input className={'mt-2 font'} id='text' required='true' type='text' name='docName' value={this.state.docName} onChange={this.handleChange} />\r\n                            </Col>\r\n                            </Row>\r\n                            <Row>\r\n                            <Col xs={'12'}>\r\n                                <label className={'mt-2'} htmlFor='text'>Suba un pdf</label>\r\n                            </Col>\r\n                            <Col xs={'12'}>\r\n                                <input className={'mt-2 font'} required='true' type='file' name='document' value={this.state.selectedDocument} onChange={this.onFileChange} />\r\n                            </Col>\r\n                            </Row>\r\n                        </ModalBody>\r\n                        <ModalFooter>\r\n                            <Button color=\"primary\" onClick={this.saveDocument}>Guardar</Button>{' '}\r\n                            <Button color=\"secondary\" onClick={this.toggleModal}>Cancelar</Button>\r\n                        </ModalFooter>\r\n                        </Modal>\r\n                    </div>\r\n                }\r\n\r\n            </section>\r\n\r\n            </>\r\n        );\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default withAuth(DocumentsList);","import React, { Component } from 'react';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { jsPDF } from \"jspdf\";\r\nimport Header from 'components/Header';\r\n\r\nclass AddDocument extends Component {\r\n\r\n  \r\n    state = {\r\n      title: '',\r\n      text: '',\r\n      disabledButton: true,\r\n      document: {},\r\n      modal: false,\r\n      docName: '',\r\n    }\r\n  \r\n    handleForPDF = (event) => {\r\n    event.preventDefault();\r\n    const title = this.state.title;\r\n    const text = this.state.text;\r\n\r\n    if(title !== '' && text !== ''){\r\n   \r\n      this.setState({\r\n        disabledButton: false,\r\n      })\r\n    var doc = new jsPDF('p','in', 'letter', true),\r\n    size = 12,\r\n    font = ['Times', 'Roman'],\r\n    font, size, lines, firstLine,\r\n    margin = 0.5, // inches on a 8.5 x 11 inch sheet.\r\n    verticalOffset = margin,\r\n    loremipsum = text;\r\n\r\n    // Margins:\r\n    doc.setDrawColor(0, 255, 0)\r\n\r\n\r\n    firstLine = doc.setFont(font[0], font[1])\r\n              .setFontSize(18)\r\n              .splitTextToSize(title, 18);\r\n    \r\n\r\n    lines = doc.setFont(font[0], font[1])\r\n              .setFontSize(size)\r\n              .splitTextToSize(loremipsum, 7.5);\r\n              \r\n\r\n    doc.text(3.2, verticalOffset + 18 / 72, firstLine)\r\n    verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n    \r\n    doc.text(0.5, verticalOffset + size / 72, lines)\r\n\r\n    verticalOffset += (lines.length + 0.5) * size / 72;\r\n    \r\n    doc.save(\"documento.pdf\");\r\n    this.setState({\r\n      document: doc\r\n    });\r\n          \r\n    }else{\r\n      alert('Debes escribir un titulo y texto para generar tu documento.')\r\n    }\r\n   \r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n\r\n  render () {\r\n\r\n   const { title, text } = this.state;\r\n\r\n  return (\r\n    <>\r\n      <Header/>\r\n      <section id=\"content\" >\r\n        <div className=\"pt-5 mt-5\">\r\n          <h2 className=\"subheaderdos\">Nuevo documento</h2>\r\n        </div>\r\n        <form /*encType=\"multipart/form-data\"*/ onSubmit={this.handleForPDF}>\r\n            <Row className={''}>\r\n              <Col xs={'12'}>\r\n                <label htmlFor='title'>Título</label>\r\n              </Col>\r\n              <Col xs={'12'} >\r\n                <input className={'mt-2 font'} id='title' required='true' type='text' name='title' value={title} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'12'}>\r\n                <label className={'mt-2'} htmlFor='text'>Texto</label>\r\n              </Col>\r\n              <Col xs={'12'}>\r\n                <textarea className={'mt-2 font'} id='text' required='true' type='text' name='text' value={text} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col className={'text-center'}>\r\n                <input className={'mt-4'} type='submit' value='Generar PDF' />\r\n              </Col>\r\n            </Row>\r\n\r\n          </form>\r\n          \r\n      </section>\r\n    </>\r\n  );\r\n  }\r\n}\r\nexport default AddDocument;","import React, { Component } from 'react';\r\nimport {Col, Row} from \"reactstrap\";\r\n\r\n\r\nimport Header from 'components/Header';\r\n\r\nimport ReactDOM from 'react-dom';\r\nimport { PDFViewer } from '@react-pdf/renderer';\r\nimport { AddDocument } from './AddDocument';\r\n\r\n\r\nclass ShowDocument extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"mt-5 pt-5\">\r\n                <Row>\r\n                <Col xs=\"12\">\r\n                    <Row>\r\n                        {/*<a href={require('../docs/documento.pdf')} id=\"enlaceDescargarPdf\"\r\n                            download=\"documento.pdf\"\r\n                        >\r\n                            Tu dispositivo no puede visualizar los PDF, da click aquí para descargarlo\r\n        </a>*/}\r\n                    </Row>\r\n                </Col>\r\n                <Col xs=\"12\">\r\n                    <Row>\r\n                        {/*<object\r\n                            data={require('../docs/documento.pdf')}\r\n                            type=\"application/pdf\"\r\n                            width=\"100%\"\r\n                            height=\"100%\"\r\n                            >\r\n                            \r\n    </object>*/}\r\n                    </Row> \r\n                </Col>\r\n                </Row>\r\n   \r\n                    \r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nexport default ShowDocument;","import React, { Component } from 'react';\r\nimport { Col, Row } from 'reactstrap';\r\nimport { jsPDF } from \"jspdf\";\r\nimport Header from 'components/Header';\r\n\r\nclass AddSubjectGuideRequest extends Component {\r\n\r\n  \r\n    state = {\r\n      name: '',\r\n      dni: '',\r\n      correo: '',\r\n      curso: '',\r\n      tlf: '',\r\n      AsigCurse: '',\r\n      AsigName: '',\r\n      AsigCod: '',\r\n      document: {},\r\n      modal: false,\r\n      docName: '',\r\n    }\r\n  \r\n    handleForPDF = (event) => {\r\n    event.preventDefault();\r\n    const { name, dni, curso, correo, tlf, AsigCod, AsigName, AsigCurse } = this.state;\r\n \r\n    const title = 'Petición de guía de una asignatura';\r\n\r\n    if(name !== '' && dni !== '' && tlf !== '' && curso !== '', correo !== '' && AsigCod !== '' &&\r\n    AsigName !== '' && AsigCurse !== '' ){\r\n   \r\n        const nombre = 'Nombre: ' + name;\r\n        const dni_mine = 'DNI: ' + dni;\r\n        const telefono = 'Teléfono: ' + tlf;\r\n        const curso_mine = 'Curso actual: ' + curso;\r\n        const correo_mine = 'Correo: ' + correo;\r\n        const Codigo_asig = 'Código de la asignatura: ' + AsigCod;\r\n        const Nombre_asig = 'Nombre de la asignatura: ' + AsigName;\r\n        const Curso_asig = 'Curso de la asignatura: ' + AsigCurse;\r\n\r\n      this.setState({\r\n        disabledButton: false,\r\n      })\r\n        var doc = new jsPDF('p','in', 'letter', true),\r\n        size = 12,\r\n        font = ['Times', 'Roman'],\r\n        font, size, nombreCompleto, firstLine, curse, nif, gmail, asigName, asigCurse, asigCode, movil, \r\n        margin = 0.5, // inches on a 8.5 x 11 inch sheet.\r\n        verticalOffset = margin;\r\n\r\n        // Margins:\r\n        doc.setDrawColor(0, 255, 0)\r\n\r\n\r\n        firstLine = doc.setFont(font[0], font[1])\r\n                .setFontSize(18)\r\n                .splitTextToSize(title, 18);\r\n        \r\n\r\n        nombreCompleto = doc.setFont(font[0], font[1])\r\n                .setFontSize(size)\r\n                .splitTextToSize(nombre, 7.5);\r\n\r\n        nif = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(dni_mine, 7.5);\r\n\r\n        gmail = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(correo_mine, 7.5);\r\n                \r\n        curse = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(curso_mine, 7.5);\r\n\r\n        asigCode = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(Codigo_asig, 7.5);\r\n\r\n        asigName = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(Nombre_asig, 7.5);\r\n\r\n        asigCurse = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(Curso_asig, 7.5);\r\n\r\n        movil = doc.setFont(font[0], font[1])\r\n        .setFontSize(size)\r\n        .splitTextToSize(telefono, 7.5);\r\n                \r\n        doc.text(3.2, verticalOffset + 18 / 72, firstLine)\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, 'Datos del alumno/a')\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n        \r\n        doc.text(0.5, verticalOffset + size / 72, nombreCompleto)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, nif)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, gmail)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, curse)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, movil)\r\n        \r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, 'Datos de la asignatura')\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, asigCode)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, asigName)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        doc.text(0.5, verticalOffset + size / 72, asigCurse)\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n\r\n        verticalOffset += (firstLine.length + 0.5) * 30 / 72\r\n        \r\n        doc.save(\"subject-guide-request.pdf\");\r\n        this.setState({\r\n        document: doc\r\n        });\r\n          \r\n    }else{\r\n      alert('Debes completar todos los campos para generar tu documento.')\r\n    }\r\n   \r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  }\r\n\r\n\r\n  render () {\r\n\r\n    const { name, dni, curso, tlf, grado, correo, telefono, AsigCod, AsigName, AsigCurse} = this.state;\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header/>\r\n      <section id=\"content\" >\r\n        <div className=\"pt-5 mt-5\">\r\n          <h2 className=\"subheaderdos\">Petición de guía de una asignatura</h2>\r\n        </div>\r\n        <form /*encType=\"multipart/form-data\"*/ onSubmit={this.handleForPDF}>\r\n           \r\n            <Row className={''}>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label htmlFor='name'>Nombre completo</label>\r\n              </Col>\r\n              <Col xs={'8'} className={'text-left'} >\r\n                <input className={'mt-2 font'} id='name' required='true' type='text' name='name' value={name} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>DNI</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='dni' required='true' type='text' name='dni' value={dni} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Teléfono</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='tlf' required='true' type='text' name='tlf' value={tlf} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Correo</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='correo' required='true' type='text' name='correo' value={correo} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Curso que está cursando</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='curso' required='true' type='text' name='curso' value={curso} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n                <Col xs={'12'} className={'text-center mt-5 mb-5'}>\r\n                    <label>Datos de la asignatura</label>\r\n                </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Nombre de la Asignatura</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='AsigName' required='true' type='text' name='AsigName' value={AsigName} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Código de la Asignatura</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='AsigCod' required='true' type='text' name='AsigCod' value={AsigCod} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col xs={'4'} className={'text-right'}>\r\n                <label className={'mt-2'} htmlFor='text'>Curso de la Asignatura</label>\r\n              </Col>\r\n              <Col xs={'8'}>\r\n                <input className={'mt-2 font'} id='AsigCurse' required='true' type='text' name='AsigCurse' value={AsigCurse} onChange={this.handleChange} />\r\n              </Col>\r\n            </Row>\r\n\r\n            <Row>\r\n              <Col className={'text-center'}>\r\n                <input className={'mt-4'} type='submit' value='Generar PDF' />\r\n              </Col>\r\n            </Row>\r\n\r\n          </form>\r\n          \r\n      </section>\r\n    </>\r\n  );\r\n  }\r\n}\r\nexport default AddSubjectGuideRequest;","import React, {Component} from 'react';\r\nimport {BrowserRouter as Router, Switch, Redirect} from 'react-router-dom';\r\n\r\nimport Navbar from './components/Navbar.js';\r\nimport PrivateRoute from './components/routes/PrivateRoute.js';\r\nimport AnonRoute from './components/routes/AnonRoute.js';\r\nimport Private from './pages/Private';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\n\r\nimport AuthProvider from './contexts/auth-context.js';\r\nimport Principal from 'pages/Principal.js';\r\nimport NewsPage from 'pages/NewsPage.js';\r\nimport User from 'pages/User';\r\nimport {Route} from 'react-router';\r\n\r\nimport 'assets/css/App.css';\r\nimport 'milligram';\r\nimport Chat from 'pages/Chat.js';\r\nimport NewsForm from 'components/NewsForm.js';\r\nimport NewsDetail from 'components/News/Details.js';\r\nimport UsersList from 'pages/UsersList.js';\r\nimport ListChats from 'pages/ListChats';\r\nimport SelectSubjects from 'pages/SelectSubjects';\r\nimport SubjectDetails from 'components/Subjects/Details.js';\r\nimport AddTeacher from 'pages/AddTeacher.js';\r\nimport SubjectsList from 'pages/SubjectsList.js';\r\nimport AddSubject from 'pages/AddSubject.js';\r\nimport withAuth from 'components/withAuth';\r\nimport AdminRoute from 'components/routes/AdminRoute.js';\r\nimport DocumentsRoute from 'components/routes/DocumentsRoute.js';\r\nimport DocumentsList from 'pages/DocumentsList.js';\r\nimport AddDocument from 'pages/AddDocument.js';\r\nimport ShowDocument from 'pages/ShowDocument.js';\r\nimport AddSubjectGuideRequest from 'pages/AddSubjectGuideRequest.js';\r\n\r\nclass App extends Component {\r\n  render() {\r\n    \r\n    return (\r\n      <Router>\r\n     \r\n        <AuthProvider>\r\n        {console.log('props dep app')}\r\n\r\n          {console.log(this.props)}\r\n          <div className=\"container\">\r\n            <Switch>\r\n              <Route exact path=\"/\" render={() => <Redirect from=\"/\" to=\"/login\"/> } />\r\n              \r\n              <AnonRoute path=\"/signup\" component={Signup} />\r\n              <AnonRoute path=\"/login\" component={Login} />\r\n              <PrivateRoute path=\"/home\" component={Principal} />\r\n              <PrivateRoute exact path=\"/news\" component={NewsPage} />\r\n              <PrivateRoute exact path=\"/news/create-news\" component={NewsForm} />\r\n              <PrivateRoute exact path=\"/news/detail/:id\" component={NewsDetail} />\r\n              <PrivateRoute path=\"/chat/:id\" component={Chat} />\r\n              <PrivateRoute path=\"/chat\" component={ListChats} />\r\n              <PrivateRoute path=\"/user\" component={User} />\r\n              <PrivateRoute path=\"/subject/details/:id\" component={SubjectDetails} />\r\n              <AdminRoute path=\"/users-list\" component={UsersList} />\r\n              <AdminRoute path=\"/add-teacher\" component={AddTeacher} />\r\n              <AdminRoute path=\"/subjects-list\" component={SubjectsList} />\r\n              <AdminRoute path=\"/add-subject\" component={AddSubject} />\r\n              <DocumentsRoute path=\"/documents\" component={DocumentsList} />\r\n              <DocumentsRoute exact path=\"/generate-pdf\" component={AddDocument} />\r\n              <DocumentsRoute exact path=\"/generate-subject-guide-request\" component={AddSubjectGuideRequest} />\r\n              <DocumentsRoute exact path=\"/pdf\" component={ShowDocument} />\r\n              <Route exact path=\"/select-subjects\" component={SelectSubjects} />\r\n\r\n            </Switch>\r\n          </div>\r\n        </AuthProvider>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\ndocument.body.style = \"background: #f7f7f7d7;\";\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}