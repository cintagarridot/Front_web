(window["webpackJsonpbasic-frontend-auth"]=window["webpackJsonpbasic-frontend-auth"]||[]).push([[0],{116:function(e,t,a){e.exports=a.p+"static/media/loading.41360347.jpg"},339:function(e,t,a){e.exports=a.p+"static/media/ojoVerNoticia.73c6000e.png"},340:function(e,t,a){e.exports=a.p+"static/media/logoetsi.6273d90a.png"},361:function(e,t,a){e.exports=a(622)},366:function(e,t,a){},396:function(e,t,a){var n={"./0k0QGSW4qSi9NcS9e87oaByH.pdf":397,"./1TohQvpO_0MrmsE4Nu6jv68w.pdf":398,"./85Sn8WDc9Wtqp4TS2uF96pCS.pdf":399,"./gZfMoFeoewVNAkqmhG1lJD71.pdf":400,"./hs4UzdXyNqFYvFSSGrtD7fwA.pdf":401,"./ifvEaC5c1bv5eXYgpILJq50X.pdf":402};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=396},397:function(e,t,a){e.exports=a.p+"static/media/0k0QGSW4qSi9NcS9e87oaByH.82546be1.pdf"},398:function(e,t,a){e.exports=a.p+"static/media/1TohQvpO_0MrmsE4Nu6jv68w.aa2a3048.pdf"},399:function(e,t,a){e.exports=a.p+"static/media/85Sn8WDc9Wtqp4TS2uF96pCS.b1316275.pdf"},400:function(e,t,a){e.exports=a.p+"static/media/gZfMoFeoewVNAkqmhG1lJD71.8b36be62.pdf"},401:function(e,t,a){e.exports=a.p+"static/media/hs4UzdXyNqFYvFSSGrtD7fwA.11d71a74.pdf"},402:function(e,t,a){e.exports=a.p+"static/media/ifvEaC5c1bv5eXYgpILJq50X.2b433712.pdf"},403:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},405:function(e,t,a){},434:function(e,t){},461:function(e,t){},463:function(e,t){},504:function(e,t){},505:function(e,t){},622:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(98),c=a.n(r),l=(a(366),a(11)),o=a(13),i=a(15),u=a(14),m=a(16),h=a(21),d=a(34),p=a(25),f=a.n(p),E=new(function(){function e(){Object(l.a)(this,e),this.auth=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})}return Object(o.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout").then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),g=s.a.createContext(),b=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedIn:!1,user:{},isLoading:!0},a.userSignUp=function(e){return E.signup(e).then(function(e){a.setState({isLoggedIn:!0,user:e})})},a.userLogin=function(e){return E.login(e).then(function(e){a.setState({isLoggedIn:!0,user:e})})},a.userLogout=function(){return E.logout().then(function(){a.setState({isLoggedIn:!1,user:{}})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){""!==t?e.setState({user:t,isLoggedIn:!0,isLoading:!1}):e.setState({isLoggedIn:!1,user:{},isLoading:!1})}).catch(function(){e.setState({isLoggedIn:!1,user:{},isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.isLoggedIn,n=e.isLoading;return s.a.createElement(s.a.Fragment,null,n?s.a.createElement("p",null,"Loading..."):s.a.createElement(g.Provider,{value:{user:t,isLoggedIn:a,login:this.userLogin,signup:this.userSignUp,logout:this.userLogout}},this.props.children))}}]),t}(n.Component),v=function(e){return function(t){function a(){return Object(l.a)(this,a),Object(i.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this;return s.a.createElement(g.Consumer,null,function(a){var n=a.user,r=a.isLoggedIn,c=a.login,l=a.signup,o=a.logout;return s.a.createElement(e,Object.assign({user:n,isLoggedIn:r,login:c,signup:l,logout:o},t.props))})}}]),a}(n.Component)},N=(v(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,this.props.isLoggedIn?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"username: ",this.props.user.username),s.a.createElement("p",{onClick:this.props.logout},"Logout")):s.a.createElement(s.a.Fragment,null,s.a.createElement(h.c,{to:"/login"},"Login"),s.a.createElement(h.c,{to:"/signup"},"Signup")))}}]),t}(n.Component)),a(65)),j=new function e(){var t=this;Object(l.a)(this,e),this.getSubjects=function(){return t.service.get("/subjects").then(function(e){return e.data})},this.getSubjectById=function(e){return t.service.get("/subjects/".concat(e)).then(function(e){return e.data})},this.getUserSubjects=function(e){return t.service.get("/users/"+e+"/subjects/").then(function(e){return e.data}).catch(function(e){console.log(e)})},this.deleteSubject=function(e){return t.service.delete("/subjects/".concat(e)).then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})},x=new function e(){var t=this;Object(l.a)(this,e),this.getOneUser=function(e){return t.user.get("/users/one/".concat(e)).then(function(e){return e.data})},this.getUserList=function(){return t.user.get("/users/").then(function(e){return e.data})},this.getTeachersList=function(){return t.user.get("/users/teachers").then(function(e){return e.data})},this.getAlumnsList=function(){return t.user.get("/users/alumns").then(function(e){return e.data})},this.getUserChats=function(e){return t.user.get("/users/".concat(e,"/chats")).then(function(e){return e.data})},this.addSubjectsInUser=function(e,a){var n=e._id,s={subjects:a};return t.user.post("/users/".concat(n,"/addSubjects"),s).then(function(e){return e.data})},this.addTeacher=function(e,a,n,s){t.user.post("/users/add-teacher",{firstName:e,lastName:a,username:n,password:s}).then(function(e){return e.data})},this.getDocuments=function(e){return t.user.get("/users/".concat(e,"/documents")).then(function(e){return e.data})},this.user=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})},O=a(641),y=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={list:[],subjectsSelected:[],userSubjects:a.props.user.subjects,redirectToHome:!1},a.checkSelected=function(e){var t=a.state.subjectsSelected;if(t.includes(e)){var n=t.indexOf(e);t.splice(n,1)}else t.push(e);console.log("subjectsSelected",t)},a.addSubjectsInUser=function(){x.addSubjectsInUser(a.props.user,a.state.subjectsSelected).then(function(e){e&&e.subjects.length>0&&a.setState({userSubjects:e.subjects})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.getSubjects().then(function(t){console.log("data list subject",t),e.setState({list:t.subjects})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.list;t.redirectToHome;return s.a.createElement("div",null,s.a.createElement("h2",{className:"subheaderdos"},"Listado de asignaturas para escoger"),a&&a.length>0&&s.a.createElement(s.a.Fragment,null,a.map(function(t){return s.a.createElement("div",{className:"mt-4"},s.a.createElement(O.a,{type:"checkbox",name:"",id:t._id,value:t.title,onChange:function(t){return e.checkSelected(t.target.id)},label:t.title}))}),s.a.createElement("a",{href:"/home"}," ",s.a.createElement("button",{className:"mt-5",onClick:this.addSubjectsInUser}," Guardar asignaturas "))))}}]),t}(n.Component)),C=v(function(e){var t=e.isLoggedIn,a=e.user,n=e.component,r=Object(N.a)(e,["isLoggedIn","user","component"]);return console.log(a),console.log("props private route",e),s.a.createElement(s.a.Fragment,null,t||t&&"admin"===a.type?s.a.createElement(d.b,Object.assign({render:function(e){return s.a.createElement(n,e)}},r)):t&&a.subjects.length>0?s.a.createElement(d.a,{to:"/select-subjects"}):s.a.createElement(d.a,{to:"/login"}))}),w=v(function(e){var t=e.user,a=e.isLoggedIn,n=e.component,r=Object(N.a)(e,["user","isLoggedIn","component"]);return s.a.createElement(s.a.Fragment,null,a?a&&"admin"===t.type?s.a.createElement(d.a,{to:"/user"}):s.a.createElement(d.a,{to:"/home"}):s.a.createElement(d.b,Object.assign({render:function(e){return s.a.createElement(n,e)}},r)))}),S=(v(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Welcome Paquito"))}}]),t}(n.Component)),a(48)),k=a(627),F=a(628),D=a(629),I=a(630),A=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",firstName:"",lastName:"",toHome:!1,alert:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,s=a.state.firstName,r=a.state.lastName;console.log("signup page",a.props),a.props.signup({firstName:s,lastName:r,username:t,password:n}).then(function(e){console.log("user signup",e),a.setState({username:"",password:"",firstName:"",lastName:"",toHome:!0})}).catch(function(e){"Request failed with status code 422"===e.message&&a.setState({alert:"danger"})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.firstName,r=e.lastName;return s.a.createElement(s.a.Fragment,null,"danger"===this.state.alert&&s.a.createElement(k.a,{color:"danger",className:"font"},"No se ha podido registrar. Ya existe un usuario con ese username."),s.a.createElement(F.a,{style:{background:"#fffdfd"},className:"auth-card-signup"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{htmlFor:"firstName"},"Nombre")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"firstName",required:"true",type:"text",name:"firstName",value:n,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"lastName"},"Apellidos")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"lastName",required:"true",type:"text",name:"lastName",value:r,onChange:this.handleChange})),s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"username"},"Username")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"username",required:"true",type:"text",name:"username",value:t,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"password"},"Contrase\xf1a")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"password",required:"true",type:"password",name:"password",value:a,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-4",type:"submit",value:"Registrar"})))),s.a.createElement("p",{className:"font"},"\xbfYa tienes cuenta?",s.a.createElement(h.c,{to:"/login",className:"link"}," Entra aqu\xed"))),this.state.toHome&&s.a.createElement(d.a,{to:"/home"}))}}]),t}(n.Component)),L=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",dangerAlert:!1},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,s=t.password;console.log("props login",a.props),a.props.login({username:n,password:s}).then(function(e){console.log(e),console.log("props login inside then",a.props)}).catch(function(e){return a.setState({dangerAlert:!0})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return s.a.createElement(s.a.Fragment,null,this.state.dangerAlert&&s.a.createElement(k.a,{color:"danger",className:"font"},"Usuario o contrase\xf1a incorrecta"),s.a.createElement(F.a,{style:{background:"#fffdfd"},className:"auth-card"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement("label",{htmlFor:"username"},"Username"),s.a.createElement("input",{className:"mt-2 font",required:"true",id:"username",type:"text",name:"username",value:t,onChange:this.handleChange}),s.a.createElement("label",{className:"mt-2",htmlFor:"password"},"Password"),s.a.createElement("input",{className:"mt-2 font",required:"true",id:"password",type:"password",name:"password",value:a,onChange:this.handleChange}),s.a.createElement("input",{className:"mt-4 button-color font",type:"submit",value:"Iniciar sesi\xf3n"})),s.a.createElement("p",{className:"font"},"\xbfNo tienes cuenta?",s.a.createElement(h.c,{to:"/signup",className:"link"}," Reg\xedstrate"))))}}]),t}(n.Component)),U=a(23),T=a.n(U),z=a(39),q=a(55),B=a(360),_=(a(9),a(132)),M=a.n(_),P=(a(395),a(186)),R=s.a.memo(Object(d.g)(v(function(e){e.isSelect;var t=e.element,r=e.subjects,c=e.news,l=e.usersList,o=e.onCheckItem,i=e.document,u=Object(N.a)(e,["isSelect","element","subjects","news","usersList","onCheckItem","document"]),m=Object(n.useState)(""),d=Object(q.a)(m,2),p=d[0],f=d[1];return Object(n.useEffect)(function(){if(i&&t.path){var e=t.path.split("\\")[6];f(e)}}),s.a.createElement(I.a,{xxs:"12",className:"mb-5"},s.a.createElement(B.a,{id:"menu_id",data:t.id},s.a.createElement(F.a,{style:{width:"1000px",height:"90px",fontSize:"16px",justifyContent:"center",padding:"20px"},onClick:function(e){return o(e,t.id)}},r&&s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"8"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.title)),"admin"===u.user.type?s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"2"},s.a.createElement(h.c,{to:"/subject/details/"+t._id,className:"btn btn-primary",style:{fontSize:"15px"}},"Ver detalles")),s.a.createElement(I.a,{xs:"2"},s.a.createElement("button",{className:"btn-danger mt-1",style:{height:"30px"},onClick:function(){return function(e){Object(P.confirmAlert)({title:"Borrar "+e.title,message:"\xbfEst\xe1s seguro de borrar esta asignatura?",buttons:[{label:"Borrar",onClick:function(){j.deleteSubject(e._id),window.location.reload()}},{label:"Cancelar"}]})}(t)}},"Borrar"))):s.a.createElement(I.a,{xs:"4"},s.a.createElement(h.c,{to:"/subject/details/"+t._id,className:"btn btn-primary",style:{fontSize:"15px"}},"Ver detalles")))),c&&s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.title)),s.a.createElement(I.a,{xs:"4"},s.a.createElement("p",{className:"mb-1 text-muted text-small "},M()(t.date).format("L"))),s.a.createElement(I.a,{xs:"4",style:{textAlign:"center"}},s.a.createElement(h.c,{to:"/news/detail/"+t._id,className:"btn btn-primary",style:{fontSize:"14px"}},"Ver detalles")))),l&&s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"4"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.firstName," ",t.lastName)),s.a.createElement(I.a,{xs:"4"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.username))),i&&s.a.createElement(s.a.Fragment,null,s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"6"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.title)),s.a.createElement(I.a,{xs:"2"},s.a.createElement("p",{className:"list-item-heading mb-1 truncate"},t.user.username)),s.a.createElement(I.a,{xs:"2"},s.a.createElement("p",null,M()(t.date).format("L"))),s.a.createElement(I.a,{xs:"2"},""!==p&&s.a.createElement("a",{href:a(396)("./"+p),id:"enlaceDescargarPdf",download:t.file_name},"Descargar")))))))}))),G=a(116),V=a.n(G),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userSubjects:{},subjects:{},status:null,lastChecked:null,selectedItems:null,loading:!0},a.clickItem=function(e,t){t.preventDefault(),a.props.onClickItem(e)},a.onCheckItem=function(e,t){document.activeElement.blur()},a.getSubjects=function(){j.getSubjects().then(function(e){return a.setState({subjects:e,status:"success"})})},a.getUserSubjects=Object(z.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.me();case 2:t=e.sent,j.getUserSubjects(t._id).then(function(e){return a.setState({userSubjects:e,status:"usersubjects",loading:!1})});case 4:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUserSubjects()}},{key:"render",value:function(){var e=this,t=this.state,a=t.userSubjects,n=t.status;return s.a.createElement("section",{id:"content"},s.a.createElement("h2",{className:"subheaderdos"},"Asignaturas"),"usersubjects"!==n?s.a.createElement("div",{className:"loading"},s.a.createElement("img",{src:V.a})):a&&a.length>0?s.a.createElement("div",null,a.map(function(t,a){return s.a.createElement(R,{key:t.id,element:t,onCheckItem:e.onCheckItem,subjects:!0})})):s.a.createElement("h2",{className:"text-center"},"No tienes asignaturas"))}}]),t}(n.Component),H=(a(403),v(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.user;return s.a.createElement("header",{id:"header"},s.a.createElement("div",{className:"center"},s.a.createElement("div",{id:"logo"},s.a.createElement("span",{id:"brand"}," ",s.a.createElement("strong",null,"UHU"),"Web")),s.a.createElement("nav",{id:"menu"}," ",s.a.createElement("ul",null,"admin"!==e.type&&s.a.createElement("li",null,s.a.createElement(h.d,{to:"/home",activeClassName:"active"},"Inicio")),"admin"===this.props.user.type&&s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement(h.d,{to:"/users-list",activeClassName:"active"},"Usuarios")),s.a.createElement("li",null,s.a.createElement(h.d,{to:"/subjects-list",activeClassName:"active"},"Asignaturas"))),s.a.createElement("li",null,s.a.createElement(h.d,{to:"/chat",activeClassName:"active"},"Chat")),s.a.createElement("li",null,s.a.createElement(h.d,{to:"/news",activeClassName:"active"},"Noticias")),s.a.createElement("li",null,s.a.createElement(h.d,{to:"/documents",activeClassName:"active"},"Documentos")),s.a.createElement("li",null,s.a.createElement(h.d,{to:"/user",activeClassName:"active"},"Perfil")))),s.a.createElement("div",{className:"clearfix"})))}}]),t}(n.Component))),Y=a(339),J=a.n(Y),X=(n.Component,new function e(){var t=this;Object(l.a)(this,e),this.getNews=function(){t.service.get("/").then(function(e){return e.data})},this.getNewsById=function(e){t.service.get("/news/"+e).then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})},function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={news:[],byId:{},searchById:!1,updated:!1,deleted:!1,status:null},a.getNewsList=Object(z.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.a.create({baseURL:"http://localhost:3800/news",withCredentials:!0}).get("/").then(function(e){var t=e.data;a.setState({news:t.noticias,status:"success"})});case 2:case"end":return e.stop()}},e)})),a.onCheckItem=function(e,t){document.activeElement.blur()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getNewsList()}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{id:"content"},"success"!==this.state.status?s.a.createElement("div",{className:"loading"},s.a.createElement("img",{src:V.a})):!this.state.searchById&&this.state.news.length>0?this.state.news.map(function(t){return s.a.createElement(R,{key:t._id,element:t,news:!0,onCheckItem:e.onCheckItem})}):s.a.createElement("h2",{className:"text-center"},"No hay noticias"))}}]),t}(n.Component)),Q=(a(404),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={idToUpdate:null,idToDelete:null,toUpdate:!1,toDelete:!1},a.updateNews=function(e){a.setState({idToUpdate:e,toUpdate:!0}),alert("Noticia editada!")},a.handleDelete=function(e){Object(P.confirmAlert)({title:"Borrar noticia",message:"\xbfEst\xe1s seguro de borrar esta noticia?",buttons:[{label:"Borrar",onClick:function(){a.setState({idToDelete:e,toDelete:!0})}},{label:"Cancelar",onClick:function(){a.setState({toDelete:!1})}}]})},a.deleteNews=function(e){f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}).delete("/news/"+e).then(function(e){console.log("NOTICIA BORRADA: "),console.log(e.data),a.setState({deleted:!0,status:"success"})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("div",{id:"slider",className:this.props.size}," ","slider-initial"===this.props.size&&s.a.createElement("div",{className:"slider-data"},s.a.createElement("h1",null,this.props.title)),"slider-sesion"===this.props.size&&s.a.createElement("div",null,s.a.createElement("h1",{className:"titulo-inicioSesion"},this.props.title),s.a.createElement("input",{type:"text",name:"usuario",placeholder:this.props.input1}),s.a.createElement("input",{type:"text",name:"contrase\xf1a",placeholder:this.props.input2}),s.a.createElement(h.c,{to:"/home"},this.props.btn)),"slider-noticia"===this.props.size&&this.props.image&&s.a.createElement("div",null,s.a.createElement("h1",{className:"subheaderdos"},this.props.title),s.a.createElement("div",{id:"newsDivImage"},s.a.createElement("img",{src:this.props.image})),s.a.createElement("div",{id:"newsDivContent"},s.a.createElement("p",null,this.props.content)),s.a.createElement("div",{id:"newsDivAuthor"},s.a.createElement("h2",null,"Autor"),s.a.createElement("h3",null,this.props.user.firstName," ",this.props.user.lastName)),s.a.createElement("div",{id:"newsDivDate"},s.a.createElement("h2",null,"Fecha: ",this.props.date)),s.a.createElement("div",{id:"newsButton"},s.a.createElement("button",{className:"delete",onClick:function(){return e.handleDelete(e.props.id)}},"Borrar"),s.a.createElement("button",{className:"update",onClick:function(){return e.updateNews(e.props.id)}},"Editar"))),"slider-noticia"===this.props.size&&!this.props.image&&s.a.createElement("div",null,console.log(this.props.author),s.a.createElement("h1",{className:"subheaderdos"},this.props.title),s.a.createElement("div",{id:"newsDivContent2"},s.a.createElement("p",null,this.props.content)),s.a.createElement("div",{id:"newsDivAuthor"},s.a.createElement("h3",null,"Autor"),s.a.createElement("h4",null,this.props.author.firstName," ",this.props.author.lastName)),s.a.createElement("div",{id:"newsDivDate"},s.a.createElement("h2",null,"Fecha: ",M()(this.props.date).format("L"))),s.a.createElement("div",{id:"newsButton2"},s.a.createElement("button",{className:"delete",onClick:function(){return e.handleDelete(e.props.id)}},"Borrar"),s.a.createElement("button",{className:"update",onClick:function(){return e.updateNews(e.props.id)}},"Editar"),this.state.toUpdate&&s.a.createElement(X,{idToUpdate:this.state.idToUpdate,update:"true"}))),"slider-smallInfo"===this.props.size&&s.a.createElement("div",null,s.a.createElement("h1",null,this.props.nameAuthor)),this.state.toUpdate&&s.a.createElement(X,{idToUpdate:this.state.idToUpdate,update:"true"}),this.state.toDelete&&null!==this.state.idToDelete&&s.a.createElement("div",null,this.deleteNews(this.state.idToDelete),s.a.createElement(d.a,{to:"/news?deleted=true"})),s.a.createElement("div",{className:"clearfix"})))}}]),t}(n.Component)),Z=v(function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(H,null),s.a.createElement(Q,{size:"slider-initial",title:"Departamento de Tecnolog\xeda de la Informaci\xf3n",button:"etsi",button2:"moodle",button3:"uhu"}),s.a.createElement(W,null))}}]),t}(n.Component)),K=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={create:!1,deleted:!1},a.createNews=function(){a.setState({create:!a.state.create})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"?deleted=true"===this.props.location.search&&this.setState({deleted:!0})}},{key:"render",value:function(){var e=this.props.user;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("div",{className:"items-center"},!0===this.state.deleted&&s.a.createElement(k.a,{color:"success",fade:!1,style:{fontSize:"20px"}},"La noticia se ha borrado correctamente"),s.a.createElement("h2",{className:"subheader"},"Noticias"),s.a.createElement(D.a,{className:"pt-4 mb-5 ml-1"},s.a.createElement(I.a,{xs:"9"},s.a.createElement("input",{className:"searchNews",type:"text",style:{fontSize:"12px"},placeholder:"Buscar noticia..."})),s.a.createElement(I.a,{xs:"0.5"},s.a.createElement("button",{className:"buttonSearch"},"Buscar")),"teacher"===e.type&&s.a.createElement(I.a,{xs:"1"},s.a.createElement("button",{className:"buttonSearch",onClick:this.createNews},"Crear noticia"))),s.a.createElement(X,{props:this.props}),s.a.createElement("div",{className:"clearfix"})),this.state.create&&s.a.createElement(d.a,{to:"/news/create-news"}))}}]),t}(n.Component)),$=a(340),ee=a.n($),te=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={id:"",edit:!1,username:"",firstName:"",lastName:""},a.editUser=function(){a.setState({edit:!a.state.edit})},a.saveUser=Object(z.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.editUser(),t={firstName:a.state.firstName,lastName:a.state.lastName,username:a.state.username},e.next=4,f.a.put("http://localhost:3800/users/"+a.state.id,t).then(function(e){console.log(e)}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({id:this.props.user._id,username:this.props.user.username,firstName:this.props.user.firstName,lastName:this.props.user.lastName})}},{key:"handleChange",value:function(e){"firstName"===e.target.name&&this.setState({firstName:e.target.value}),"lastName"===e.target.name&&this.setState({lastName:e.target.value}),"username"===e.target.name&&this.setState({username:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{id:"user"},s.a.createElement(H,null),s.a.createElement("h2",{className:"subheaderUser"},"Datos"),s.a.createElement(D.a,{className:"mb-5 pb-5"},s.a.createElement(I.a,{xs:"3",style:{marginRight:"20px"}},s.a.createElement("img",{src:ee.a,class:"app-logo",alt:"Logotipo"})),s.a.createElement(I.a,{xs:"7"},this.state.edit?s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Nombre"),s.a.createElement("input",{className:"font",name:"name",type:"text",onChange:this.handleChange})),s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Apellidos"),s.a.createElement("input",{className:"font",name:"lastName",type:"text",onChange:this.handleChange})),s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Username"),s.a.createElement("input",{className:"font",name:"username",type:"text",onChange:this.handleChange})),"teacher"===this.props.user.type&&this.props.user&&s.a.createElement(I.a,{xs:"12"},s.a.createElement("h3",{className:"profile-text"},"N\xfamero de asignaturas impartidas"))):s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Nombre"),s.a.createElement("h3",null,this.state.firstName)),s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Apellidos"),s.a.createElement("h3",null,this.state.lastName)),s.a.createElement(I.a,{xs:"12",className:"pb-3"},s.a.createElement("h3",{className:"profile-text"},"Username"),s.a.createElement("h3",null,this.state.username)),"alumn"===this.props.user.type&&this.props.user&&s.a.createElement(I.a,{xs:"12"},s.a.createElement("h3",{className:"profile-text"},"N\xfamero de asignaturas matriculadas"),s.a.createElement("h3",null,this.props.user.subjects.length)))),s.a.createElement(I.a,{xs:"1",style:{textAlign:"end",fontSize:"14px",cursor:"pointer"}},this.state.edit?s.a.createElement("a",{className:"profile-edit",onClick:this.saveUser},"Guardar"):s.a.createElement("a",{className:"profile-edit",onClick:this.editUser},"Editar"))),s.a.createElement(D.a,{className:"mt-5"},s.a.createElement(I.a,{xs:"2",className:"mt-5 mr-3"},s.a.createElement("button",{style:{fontSize:"12px"}},"Cambiar contrase\xf1a")),s.a.createElement(I.a,{xs:"2",className:"mt-5"},s.a.createElement("button",{style:{fontSize:"12px"},onClick:this.props.logout},"Cerrar sesi\xf3n"))),s.a.createElement("div",{className:"clearfix"}))}}]),t}(n.Component)),ae=(a(405),a(406),a(163)),ne=a(121),se=a(341),re=a.n(se),ce=a(50),le=a(258);function oe(){var e=Object(ne.a)(["\n      border-radius: 5px;\n      background: ",";\n      display: flex;\n      margin: 5px "," 5px ",";\n      padding: 10px;\n    "]);return oe=function(){return e},e}var ie=v(function(e){var t=e.owner,a=e.message,n=e.user;return Object(ce.c)("div",{css:Object(ce.b)(oe(),t===n._id?"rgba(97,166,51, .5)":"rgba(121,177,236, .5)",t===n._id?"5px":"55px",t===n._id?"55px":"5px")},a)}),ue=new function e(){var t=this;Object(l.a)(this,e),this.createChat=function(e){return t.service.post("/",{idUser:e})},this.getChatsByUser=function(){return t.service.get("/").then(function(e){return e.data})},this.getChat=function(e){return t.service.get("/".concat(e)).then(function(e){return e.data})},this.getMessages=function(){return t.service.get("/id/messages").then(function(e){return e.data})},this.getOtherUser=function(e){return t.service.get("/".concat(e,"/otherUser")).then(function(e){return e.data})},this.postMessage=function(e,a){t.service.post("/addMessage",{message:e,chatId:a}).then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})};function me(){var e=Object(ne.a)(["\n                        padding: 20px; \n                        margin: 10px;\n                        width: 100%;\n                        &:hover{\n                            border: 2px solid #ff0;\n                        }\n                        "]);return me=function(){return e},e}function he(){var e=Object(ne.a)(["display: flex; width: 100%; align-items: center"]);return he=function(){return e},e}function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function pe(){var e=Object(ne.a)(["\nwidth: 100%;\nheight: 90%;\ndisplay: flex;\noverflow-y: scroll;\nbackground: white;\nflex-direction: column;\njustify-content: flex-end;\nbox-sizing: border-box;\n"]);return pe=function(){return e},e}function fe(){var e=Object(ne.a)(["\nwidth: 100%;\nheight: 100vh;\ndisplay: flex;\njustify-content: space-between;\nflex-direction: column;\npadding-top: 100px;\nfont-size: 16px;\n"]);return fe=function(){return e},e}var Ee=le.a.div(fe()),ge=le.a.div(pe()),be=v(function(e){var t=e.user,a=(Object(N.a)(e,["user"]),Object(n.useState)(re()("http://localhost:3800/"))),r=Object(q.a)(a,1)[0],c=Object(n.useRef)(),l=Object(n.useState)([]),o=Object(q.a)(l,2),i=o[0],u=o[1],m=Object(n.useState)({message:""}),h=Object(q.a)(m,2),d=h[0],p=h[1],f=Object(n.useState)(),E=Object(q.a)(f,2),g=(E[0],E[1]);Object(n.useEffect)(function(){var e=window.location.pathname.split("/"),t=e[e.length-1];ue.getChat(t).then(function(e){console.log("chatFromApi"),console.log(e);e.messages;r.on("message_receive",function(e){console.log("data"),console.log(e),u(function(t){return[].concat(Object(ae.a)(t),[e])})}),g(e),u(e.messages)})},[]);var b=function(){var e={owner:t._id,text:d.message};r.emit("message_send",e),u(function(t){return[].concat(Object(ae.a)(t),[e])});var a=window.location.pathname.split("/"),n=a[a.length-1];ue.postMessage(e,n),p({message:""})};return Object(ce.c)("div",{className:"chat"},Object(ce.c)(H,null),Object(ce.c)(Ee,null,Object(ce.c)(ge,null,i&&i.map(function(e,t){return Object(ce.c)(s.a.Fragment,null,console.log("message"),console.log(e),Object(ce.c)(ie,{key:t,message:e.text,owner:e.owner}))})),Object(ce.c)("div",{css:Object(ce.b)(he())},Object(ce.c)("input",{css:Object(ce.b)(me()),name:"message",ref:c,value:d.message,onKeyUp:function(e){13===e.keyCode&&b()},onChange:function(e){var t=e.target,a=t.value,n=t.name;p(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,Object(S.a)({},n,a))})}})," ",Object(ce.c)("button",{className:"btn btn-primary",onClick:b},"Enviar"))),Object(ce.c)("div",{className:"clearfix"}))}),ve=a(198),Ne=a(338),je=a(631),xe=a(632),Oe=a(633),ye=a(206),Ce=ye.a().shape({title:ye.b().min(2,"Too Short!").max(50,"Too Long!").required("Completa este campo"),content:ye.b().min(6,"Too short!").max(255,"Too Long!").required("Completa este campo")}),we=void 0,Se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={userId:"",redirection:!1,alert:"",title:"",content:"",image:""},a.handleSubmit=function(e){e.usuario=a.state.userId,console.log(e),f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}).post("/news/",e).then(function(e){console.log("data"),console.log(e),a.setState({alert:"success"}),window.location.reload()}).catch(function(e){a.setState({alert:"fail"})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({userId:this.props.user._id}),console.log("user dep del estado"),console.log(this.state.user)}},{key:"render",value:function(){var e=this,t=this.state,a={title:t.title,content:t.content,image:t.image};return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("div",{className:"items-center"},"success"===this.state.alert?s.a.createElement(s.a.Fragment,null,s.a.createElement(k.a,{color:"success",fade:!1,style:{fontSize:"20px"}},"Noticia creada correctamente")):"fail"===this.state.alert&&s.a.createElement(Ne.a,{color:"danger",fade:!1,style:{fontSize:"20px"}},"Error. No se ha creado la noticia"),s.a.createElement("div",{id:"formulario"},s.a.createElement("div",{className:"center"},s.a.createElement(ve.a,{initialValues:a,validationSchema:Ce,onSubmit:function(t,a){var n=a.setSubmitting;setTimeout(function(){console.log("entra"),e.handleSubmit(t),n(!0)},400)}},function(e){var t=e.values,a=e.errors,n=e.touched,r=e.handleChange,c=e.handleBlur,l=e.handleSubmit;e.isSubmitting;return s.a.createElement("form",{className:"formCompleto",onSubmit:l},s.a.createElement(je.a,null,s.a.createElement(xe.a,{class:"col-sm-2 col-form-label"},"Titulo"),s.a.createElement("input",{className:"form-control",type:"title",name:"title",onChange:r,onBlur:c,value:t.title,style:{fontSize:"14px"}}),a.title&&n.title&&a.title),s.a.createElement(je.a,null,s.a.createElement(xe.a,{class:"col-sm-2 col-form-label"},"Contenido"),s.a.createElement("textarea",{style:{background:"white",fontSize:"14px"},type:"content",name:"content",onChange:r,onBlur:c,value:t.content}),a.content&&n.content&&a.content),s.a.createElement(je.a,null,s.a.createElement("input",{type:"file",style:{fontSize:"14px",marginTop:"10px",marginBottom:"10px"}})),s.a.createElement(je.a,null,s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"2"},s.a.createElement("a",{href:"/news"},s.a.createElement(Oe.a,{type:"submit",value:"Crear",style:{fontSize:"14px"}}))),s.a.createElement(I.a,{xs:"0.1"},s.a.createElement("button",{style:{fontSize:"14px",textTransform:"uppercase"},className:"btn btn-secondary",size:"lg",color:"secondary"},s.a.createElement("a",{className:"link-to-pages",href:"/news"},"Cancelar"))))))})))))}}]),t}(n.Component),ke=Object(ve.b)({mapPropsToValues:function(){return{title:"",content:"",image:""}},validationSchema:Ce,handleSubmit:function(e,t){(0,t.setSubmitting)(!0),we.handleSubmit(e)},displayName:"NewsForm"})(Object(d.g)(v(Se))),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={news:{},id:"",userId:"",user:{},status:null},a.getNewsById=function(){var e=Object(z.a)(T.a.mark(function e(t){var n;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}),e.next=3,n.get("/news/"+t).then(function(e){e.data?a.setState({news:e.data.noticia,userId:e.data.noticia.user,searchById:!0,status:"success"}):a.setState({status:"failed"})});case 3:a.getUser(a.state.userId);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getUser=function(e){f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}).get("/users/one/"+e).then(function(e){e.data&&a.setState({user:e.data.usuario})}).catch(function(e){console.log(e)})},a.updateNews=function(e){f.a.put("http://localhost:3800/news/"+e).then(function(e){a.setState({news:e.data.noticia,updated:!0,status:"success"})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&this.getNewsById(e),"true"===this.props.update&&this.updateNews(this.props.idToUpdate),"true"===this.props.delete&&this.deleteNews(this.props.idToDelete)}},{key:"render",value:function(){return s.a.createElement("section",{id:"content"},"success"===this.state.status&&s.a.createElement("div",null,s.a.createElement("div",{id:"goBackButton"},s.a.createElement("a",{href:"javascript:history.back()"},"Volver")),this.state.news.image?s.a.createElement("div",null,s.a.createElement(Q,{size:"slider-noticia",id:this.state.news._id,title:this.state.news.title,content:this.state.news.content,image:this.state.news.image,author:this.state.user,date:this.state.news.date})):s.a.createElement("div",null,s.a.createElement(Q,{size:"slider-noticia",id:this.state.news._id,title:this.state.news.title,content:this.state.news.content,author:this.state.user,date:this.state.news.date}))))}}]),t}(n.Component),De=a(58),Ie=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={teachers:[],status:null},a.onCheckItem=function(e,t){document.activeElement.blur()},a.getTeacherList=Object(z.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getTeachersList().then(function(e){console.log(e.data),a.setState({teachers:e.teachers,status:"success"})});case 2:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getTeacherList()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.teachers&&this.state.teachers.length>0&&this.state.teachers.map(function(t){return s.a.createElement(R,{key:t.id,element:t,onCheckItem:e.onCheckItem,usersList:!0})}),this.state.teachers&&0===this.state.teachers.length&&s.a.createElement("h2",{className:"text-center"},"No hay profesores registrados"))}}]),t}(n.Component)),Ae=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={alumns:[],status:null},a.onCheckItem=function(e,t){document.activeElement.blur()},a.getAlumnList=Object(z.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAlumnsList().then(function(e){console.log(e.data),a.setState({alumns:e.alumns,status:"success"})});case 2:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getAlumnList()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.alumns&&this.state.alumns.length>0&&this.state.alumns.map(function(t){return s.a.createElement(R,{key:t.id,element:t,onCheckItem:e.onCheckItem,usersList:!0})}),this.state.alumns&&0===this.state.alumns.length&&s.a.createElement("h2",{className:"text-center"},"No hay alumnos registrados"))}}]),t}(n.Component)),Le=(a(438),v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={users:[Object],status:null},a.onCheckItem=function(e,t){document.activeElement.blur()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(H,null),s.a.createElement("div",{id:"user"},s.a.createElement(D.a,{className:"pt-5 mt-5"},s.a.createElement(I.a,{xs:"10"},s.a.createElement("h2",{className:"subheaderdos"},"Usuarios")),s.a.createElement(I.a,{xs:"2",className:"pt-5 mt-5"},s.a.createElement(h.c,{to:"/add-teacher",className:"btn btn-primary"},"A\xf1adir profesor"))),s.a.createElement(De.d,null,s.a.createElement(De.b,null,s.a.createElement(De.a,{selectedClassName:"selected-tab-style"},"Alumnos"),s.a.createElement(De.a,{selectedClassName:"selected-tab-style"},"Profesores")),s.a.createElement(De.c,null,s.a.createElement(Ae,null)),s.a.createElement(De.c,null,s.a.createElement(Ie,null)))))}}]),t}(n.Component))),Ue=a(634),Te=a(635),ze=v(function(e){var t=Object(n.useState)([]),a=Object(q.a)(t,2),r=(a[0],a[1],Object(n.useState)([])),c=Object(q.a)(r,2),l=c[0],o=c[1],i=Object(n.useState)(!1),u=Object(q.a)(i,2),m=u[0],p=u[1],f=Object(n.useState)(!1),E=Object(q.a)(f,2),g=E[0],b=E[1],v=Object(n.useState)(""),N=Object(q.a)(v,2),j=N[0],O=N[1],y=Object(n.useState)([]),C=Object(q.a)(y,2),w=C[0],S=C[1],k=Object(n.useState)(),F=Object(q.a)(k,2);F[0],F[1];Object(n.useEffect)(function(){console.log("props"),console.log(e),I()},[]);var D=function(){var t=Object(z.a)(T.a.mark(function t(){return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("alumn"!==e.user.type){t.next=6;break}return t.next=4,x.getTeachersList().then(function(e){console.log(e.teachers),l.push(e.teachers),o.apply(void 0,Object(ae.a)(l)),console.log(l),p(!0)});case 4:t.next=8;break;case 6:return t.next=8,x.getAlumnsList().then(function(e){o(e.alumns),p(!0)});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(z.a)(T.a.mark(function t(){var a;return T.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=e.user,x.getUserChats(a._id).then(function(e){S(e)});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return s.a.createElement("div",null,s.a.createElement(H,null),m?s.a.createElement("div",{className:"subheaderSpace"},s.a.createElement("h2",null,"Usuarios"),s.a.createElement(Ue.a,{style:{fontSize:"25px"}},l&&l.length>0&&l.map(function(t){return s.a.createElement(Te.a,{tag:"a",onClick:function(){return function(t){var a=e.user._id;console.log(a),console.log(t),ue.createChat(t).then(function(e){var t=e.data;console.log("ha creado el chat"),console.log(t),O(t._id),b(!0)})}(t._id)},style:{color:"black",textDecoration:"none",cursor:"pointer"}},t.firstName," ",t.lastName)})),s.a.createElement("button",{onClick:function(){p(!1)},style:{float:"right"}},"Atr\xe1s")):s.a.createElement(s.a.Fragment,null,console.log(e.user),e.user.chats&&e.user.chats.length>0&&w.length>0?s.a.createElement("div",{className:"subheaderSpace"},s.a.createElement("h2",null,"Chats recientes"),s.a.createElement(Ue.a,{style:{fontSize:"25px"}},w.map(function(t){console.log("chat"),console.log(t);var a=t.users.filter(function(t){return t._id!==e.user._id});return s.a.createElement(h.c,{to:"/chat/".concat(t._id)},s.a.createElement(Te.a,{tag:"a",style:{color:"black",textDecoration:"none",cursor:"pointer"}},a))})),s.a.createElement("button",{onClick:D,style:{float:"right"}},"Crea uno")):s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",{className:"subheaderSpace"},"No tienes ning\xfan chat"),s.a.createElement("button",{onClick:D},"Crea uno"))),g&&s.a.createElement(d.a,{to:"/chat/"+j}))}),qe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={subject:{},id:"",userId:"",user:{},status:null},a.getSubject=function(){var e=Object(z.a)(T.a.mark(function e(t){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getSubjectById(t).then(function(e){a.setState({subject:e.subject,status:"success"})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e&&(this.setState({id:e}),this.getSubject(e))}},{key:"render",value:function(){var e=this.state.subject;return s.a.createElement(s.a.Fragment,null,console.log("subject"),console.log(e),s.a.createElement(H,null),e&&s.a.createElement("div",{className:"mt-5 pt-5"},s.a.createElement(D.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",{className:"subheaderdos"},e.title)))),s.a.createElement(D.a,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",null,"Curso: ",e.curso)))),s.a.createElement(D.a,{className:"mt-5"},s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",null,"Cr\xe9ditos: ",e.creditos)))),s.a.createElement(D.a,{className:"mt-5"},s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",null,"Contenido")))),s.a.createElement(D.a,{className:"mt-3"},s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h4",null,e.content)))),s.a.createElement(D.a,{className:"mt-5"},s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",null,"Profesor/es")))),s.a.createElement(D.a,{className:"mt-3"},s.a.createElement(s.a.Fragment,null,e.teachers&&e.teachers.length>0?e.teachers.map(function(e){return s.a.createElement(I.a,{xs:"12"},s.a.createElement("h4",null,e.firstName,e.lastName))}):s.a.createElement(I.a,{xs:"12"},s.a.createElement("h4",null,"No hay profesores que impartan esta asignatura")))),s.a.createElement(D.a,{className:"mt-5"},s.a.createElement(s.a.Fragment,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",null,"Alumnos")))),s.a.createElement(D.a,{className:"mt-3"},s.a.createElement(s.a.Fragment,null,e.alumns&&e.alumns.length>0?e.alumns.map(function(e){return s.a.createElement(I.a,{xs:"12"},s.a.createElement("h4",null,e.firstName,e.lastName))}):s.a.createElement(I.a,{xs:"12"},s.a.createElement("h4",null,"No hay alumnos en esta asignatura"))))))}}]),t}(n.Component),Be=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",firstName:"",lastName:"",toUserList:!1,alert:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,s=a.state.firstName,r=a.state.lastName;f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}).post("/users/add-teacher",{username:t,password:n,firstName:s,lastName:r}).then(function(e){console.log(e),a.setState({username:"",password:"",firstName:"",lastName:"",toUserList:!0})}).catch(function(e){"Request failed with status code 422"===e.message&&a.setState({alert:"danger"})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=e.firstName,r=e.lastName;return s.a.createElement(s.a.Fragment,null,"danger"===this.state.alert&&s.a.createElement(k.a,{color:"danger",className:"font"},"No se ha podido crear. Ya existe un usuario con ese username."),s.a.createElement(F.a,{style:{background:"#fffdfd"},className:"auth-card-signup"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",{className:"text-center mt-5"},"Nuevo profesor"))),s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{htmlFor:"firstName",className:"mt-4"},"Nombre")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"firstName",required:"true",type:"text",name:"firstName",value:n,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"lastName"},"Apellidos")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"lastName",required:"true",type:"text",name:"lastName",value:r,onChange:this.handleChange})),s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"username"},"Username")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"username",required:"true",type:"text",name:"username",value:t,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"password"},"Contrase\xf1a")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"password",required:"true",type:"password",name:"password",value:a,onChange:this.handleChange}))),s.a.createElement(D.a,{className:"text-center"},s.a.createElement(I.a,{xs:"2",className:"mt-5 pt-3 goBackButtonTeacher"},s.a.createElement("a",{href:"javascript:history.back()"},"Volver")),s.a.createElement(I.a,{xs:"1"},s.a.createElement("input",{className:"mt-5",type:"submit",value:"A\xf1adir"}))))),this.state.toUserList&&s.a.createElement(d.a,{to:"/users-list"}))}}]),t}(n.Component)),_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={subjects:{},status:null,lastChecked:null,selectedItems:null,loading:!0},a.clickItem=function(e,t){t.preventDefault(),a.props.onClickItem(e)},a.onCheckItem=function(e,t){document.activeElement.blur()},a.getSubjects=Object(z.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.getSubjects().then(function(e){var t=e.subjects;console.log(t),a.setState({subjects:t,status:"success"})});case 2:case"end":return e.stop()}},e)})),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getSubjects()}},{key:"render",value:function(){var e=this,t=this.state,a=t.subjects,n=t.status;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("section",{id:"content"},s.a.createElement(D.a,{className:"pt-5 mt-5"},s.a.createElement(I.a,{xs:"10"},s.a.createElement("h2",{className:"subheaderdos"},"Asignaturas")),s.a.createElement(I.a,{xs:"2",className:"pt-5 mt-5"},s.a.createElement(h.c,{to:"/add-subject",className:"btn btn-primary"},"A\xf1adir asignatura"))),"success"!==n?s.a.createElement("div",{className:"loading"},s.a.createElement("img",{src:V.a})):a&&a.length>0?s.a.createElement("div",null,console.log("subjects"),console.log(a),a.map(function(t,a){return s.a.createElement(R,{key:t.id,element:t,onCheckItem:e.onCheckItem,subjects:!0})})):s.a.createElement("h2",{className:"text-center"},"No hay asignaturas")))}}]),t}(n.Component),Me=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={title:"",content:"",creditos:"",curso:"",toUserSubjectList:!1,alert:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.title,n=a.state.content,s=a.state.creditos,r=a.state.curso;f.a.create({baseURL:"http://localhost:3800/",withCredentials:!0}).post("/subjects/",{title:t,content:n,creditos:s,curso:r}).then(function(e){console.log(e),a.setState({title:"",content:"",creditos:"",curso:"",toUserSubjectList:!0})}).catch(function(e){"Request failed with status code 422"===e.message&&a.setState({alert:"danger"})})},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.content,n=e.creditos,r=e.curso;return s.a.createElement(s.a.Fragment,null,"danger"===this.state.alert&&s.a.createElement(k.a,{color:"danger",className:"font"},"No se ha podido crear. Ya existe un usuario con ese username."),s.a.createElement(F.a,{style:{background:"#fffdfd"},className:"auth-card-signup"},s.a.createElement("form",{onSubmit:this.handleFormSubmit},s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("h2",{className:"text-center mt-5"},"Nueva asignatura"))),s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{htmlFor:"title",className:"mt-4"},"T\xedtulo")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"title",required:"true",type:"text",name:"title",value:t,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"content"},"Contenido")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("textarea",{className:"mt-2 font",required:"true",name:"content",value:a,onChange:this.handleChange})),s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"creditos"},"Creditos")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("select",{value:n,placeholder:"Seleccionar creditos",onChange:this.handleChange,name:"creditos"},s.a.createElement("option",{value:"1"},"1"),s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"3"},"3"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"5"},"5"),s.a.createElement("option",{value:"6"},"6")))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"curso"},"Curso")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("select",{value:r,placeholder:"Seleccionar curso",onChange:this.handleChange,name:"curso"},s.a.createElement("option",{value:"1\xba"},"1\xba"),s.a.createElement("option",{value:"2\xba"},"2\xba"),s.a.createElement("option",{value:"3\xba"},"3\xba"),s.a.createElement("option",{value:"4\xba"},"4\xba")))),s.a.createElement(D.a,{className:"justify-content-center"},s.a.createElement(I.a,{xs:"1.5",className:"mt-5 pt-3 goBackButtonTeacher"},s.a.createElement("a",{href:"javascript:history.back()"},"Volver")),s.a.createElement(I.a,{xs:"1"},s.a.createElement("input",{className:"mt-5",type:"submit",value:"A\xf1adir"}))))),this.state.toUserSubjectList&&s.a.createElement(d.a,{to:"/subjects-list"}))}}]),t}(n.Component)),Pe=v(function(e){var t=e.isLoggedIn,a=e.user,n=e.component,r=Object(N.a)(e,["isLoggedIn","user","component"]);return s.a.createElement(s.a.Fragment,null,t&&"admin"===a.type?s.a.createElement(d.b,Object.assign({render:function(e){return s.a.createElement(n,e)}},r)):s.a.createElement(d.a,{to:"/home"}))}),Re=v(function(e){var t=e.isLoggedIn,a=(e.user,e.component),n=Object(N.a)(e,["isLoggedIn","user","component"]);return s.a.createElement(s.a.Fragment,null,t?s.a.createElement(d.b,Object.assign({render:function(e){return s.a.createElement(a,e)}},n)):s.a.createElement(d.a,{to:"/home"}))}),Ge=a(636),Ve=a(642),We=a(643),He=a(637),Ye=a(345),Je=a(644),Xe=a(638),Qe=a(639),Ze=a(640),Ke=new function e(){var t=this;Object(l.a)(this,e),this.postOneDocument=function(e){return console.log("formData",e),t.service.post("/documents/",e).then(function(e){return e.data})},this.getAllDocuments=function(){return t.service.get("/documents/all").then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://uhu-back.herokuapp.com",withCredentials:!0})},$e=v(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={documents:{},status:null,lastChecked:null,selectedItems:null,loading:!0,modal:!1,selectedDocument:null,docName:"",allDocuments:[],dropdownOpen:!1},a.getAllDocuments=Object(z.a)(T.a.mark(function e(){return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke.getAllDocuments().then(function(e){var t=e.documents;console.log("allDocs",t),void 0!==t&&a.setState({allDocuments:t,status:"success"})});case 2:case"end":return e.stop()}},e)})),a.toggleModal=function(){a.setState({modal:!a.state.modal})},a.clickItem=function(e,t){t.preventDefault(),a.props.onClickItem(e)},a.onCheckItem=function(e,t){document.activeElement.blur()},a.getDocuments=Object(z.a)(T.a.mark(function e(){var t;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user,console.log(t),e.next=4,x.getDocuments(t._id).then(function(e){var t=e.documents;console.log(t),void 0!==t&&a.setState({documents:t,status:"success"})});case 4:case"end":return e.stop()}},e)})),a.saveDocument=Object(z.a)(T.a.mark(function e(){var t,n,s;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,t.docName,n=t.selectedDocument,console.log("document",n),(s=new FormData).append("file0",a.state.selectedFile),s.append("title",a.state.docName),a.toggleModal(),e.next=8,Ke.postOneDocument(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)})),a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a.onFileChange=function(e){a.setState({selectedFile:e.target.files[0]})},a.toggle=function(){a.setState({dropdownOpen:!a.state.dropdownOpen})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){"admin"===this.props.user.type&&this.getAllDocuments()}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,n=(a.documents,a.status,a.allDocuments),r=a.dropdownOpen,c=t.documents;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("section",{id:"content"},s.a.createElement(D.a,{className:"pt-5 mt-5"},s.a.createElement(I.a,{xs:"10"},"admin"!==t.type?s.a.createElement("h2",{className:"subheaderdos"},"Mis documentos"):s.a.createElement("h2",{className:"subheaderdos"},"Documentos")),s.a.createElement(I.a,{xs:"1",className:"pt-5 mt-5"},s.a.createElement(Ge.a,{isOpen:r,toggle:this.toggle},s.a.createElement(Ve.a,{caret:!0},"Generar PDF"),s.a.createElement(We.a,null,s.a.createElement(He.a,null,s.a.createElement(h.c,{to:"/generate-subject-guide-request"},"Petici\xf3n de gu\xeda de una asignatura")),s.a.createElement(He.a,{divider:!0}),s.a.createElement(He.a,null,s.a.createElement(h.c,{to:"/generate-pdf"},"Generar documento libre"))))),s.a.createElement(I.a,{xs:"1",className:"pt-5 mt-5"},s.a.createElement(Ye.a,{color:"primary",onClick:this.toggleModal},"Subir un documento"))),"admin"!==t.type&&s.a.createElement(s.a.Fragment,null,c&&c.length>0?s.a.createElement("div",null,c.map(function(t){return s.a.createElement(R,{key:t._id,element:t,onCheckItem:e.onCheckItem,document:!0})})):s.a.createElement("h2",{className:"text-center mt-3"},"No hay documentos")),"admin"===t.type&&s.a.createElement(s.a.Fragment,null,s.a.createElement(De.d,null,s.a.createElement(De.b,null,s.a.createElement(De.a,{selectedClassName:"selected-tab-style"},"Documentos"),s.a.createElement(De.a,{selectedClassName:"selected-tab-style"},"Mis documentos")),s.a.createElement(De.c,null,n&&n.length>0?s.a.createElement("div",null,n.map(function(t){return s.a.createElement(R,{key:t._id,element:t,onCheckItem:e.onCheckItem,document:!0})})):s.a.createElement("h2",{className:"text-center"},"No hay documentos")),s.a.createElement(De.c,null,c&&c.length>0?s.a.createElement("div",null,c.map(function(t){return s.a.createElement(R,{key:t._id,element:t,onCheckItem:e.onCheckItem,document:!0})})):s.a.createElement("h2",{className:"text-center"},"No hay documentos")))),this.state.modal&&s.a.createElement("div",null,s.a.createElement(Je.a,{isOpen:this.state.modal,toggle:this.toggleModal},s.a.createElement(Xe.a,null,"Guardar documento"),s.a.createElement(Qe.a,null,s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Introduzca un nombre para el documento")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"text",required:"true",type:"text",name:"docName",value:this.state.docName,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Suba un pdf")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",required:"true",type:"file",name:"document",value:this.state.selectedDocument,onChange:this.onFileChange})))),s.a.createElement(Ze.a,null,s.a.createElement(Ye.a,{color:"primary",onClick:this.saveDocument},"Guardar")," ",s.a.createElement(Ye.a,{color:"secondary",onClick:this.toggleModal},"Cancelar"))))))}}]),t}(n.Component)),et=a(195),tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={title:"",text:"",disabledButton:!0,document:{},modal:!1,docName:""},a.handleForPDF=function(e){e.preventDefault();var t=a.state.title,n=a.state.text;if(""!==t&&""!==n){a.setState({disabledButton:!1});var s,r,c=new et.a("p","in","letter",!0),l=["Times","Roman"],o=.5,i=n;c.setDrawColor(0,255,0),r=c.setFont(l[0],l[1]).setFontSize(18).splitTextToSize(t,18),s=c.setFont(l[0],l[1]).setFontSize(12).splitTextToSize(i,7.5),c.text(3.2,o+.25,r),o+=30*(r.length+.5)/72,c.text(.5,o+12/72,s),o+=12*(s.length+.5)/72,c.save("documento.pdf"),a.setState({document:c})}else alert("Debes escribir un titulo y texto para generar tu documento.")},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.text;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("section",{id:"content"},s.a.createElement("div",{className:"pt-5 mt-5"},s.a.createElement("h2",{className:"subheaderdos"},"Nuevo documento")),s.a.createElement("form",{onSubmit:this.handleForPDF},s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{htmlFor:"title"},"T\xedtulo")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("input",{className:"mt-2 font",id:"title",required:"true",type:"text",name:"title",value:t,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Texto")),s.a.createElement(I.a,{xs:"12"},s.a.createElement("textarea",{className:"mt-2 font",id:"text",required:"true",type:"text",name:"text",value:a,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{className:"text-center"},s.a.createElement("input",{className:"mt-4",type:"submit",value:"Generar PDF"}))))))}}]),t}(n.Component),at=(a(459),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mt-5 pt-5"},s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12"},s.a.createElement(D.a,null)),s.a.createElement(I.a,{xs:"12"},s.a.createElement(D.a,null))))}}]),t}(n.Component)),nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).state={name:"",dni:"",correo:"",curso:"",tlf:"",AsigCurse:"",AsigName:"",AsigCod:"",document:{},modal:!1,docName:""},a.handleForPDF=function(e){e.preventDefault();var t=a.state,n=t.name,s=t.dni,r=t.curso,c=t.correo,l=t.tlf,o=t.AsigCod,i=t.AsigName,u=t.AsigCurse;if(""!==c&&""!==o&&""!==i&&""!==u){var m="Nombre: "+n,h="DNI: "+s,d="Tel\xe9fono: "+l,p="Curso actual: "+r,f="Correo: "+c,E="C\xf3digo de la asignatura: "+o,g="Nombre de la asignatura: "+i,b="Curso de la asignatura: "+u;a.setState({disabledButton:!1});var v,N,j,x,O,y,C,w,S,k=new et.a("p","in","letter",!0),F=["Times","Roman"],D=.5;k.setDrawColor(0,255,0),N=k.setFont(F[0],F[1]).setFontSize(18).splitTextToSize("Petici\xf3n de gu\xeda de una asignatura",18),v=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(m,7.5),x=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(h,7.5),O=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(f,7.5),j=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(p,7.5),w=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(E,7.5),y=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(g,7.5),C=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(b,7.5),S=k.setFont(F[0],F[1]).setFontSize(12).splitTextToSize(d,7.5),k.text(3.2,D+.25,N),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,"Datos del alumno/a"),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,v),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,x),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,O),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,j),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,S),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,"Datos de la asignatura"),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,w),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,y),D+=30*(N.length+.5)/72,k.text(.5,D+12/72,C),D+=30*(N.length+.5)/72,D+=30*(N.length+.5)/72,k.save("subject-guide-request.pdf"),a.setState({document:k})}else alert("Debes completar todos los campos para generar tu documento.")},a.handleChange=function(e){var t=e.target,n=t.name,s=t.value;a.setState(Object(S.a)({},n,s))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.dni,n=e.curso,r=e.tlf,c=(e.grado,e.correo),l=(e.telefono,e.AsigCod),o=e.AsigName,i=e.AsigCurse;return s.a.createElement(s.a.Fragment,null,s.a.createElement(H,null),s.a.createElement("section",{id:"content"},s.a.createElement("div",{className:"pt-5 mt-5"},s.a.createElement("h2",{className:"subheaderdos"},"Petici\xf3n de gu\xeda de una asignatura")),s.a.createElement("form",{onSubmit:this.handleForPDF},s.a.createElement(D.a,{className:""},s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{htmlFor:"name"},"Nombre completo")),s.a.createElement(I.a,{xs:"8",className:"text-left"},s.a.createElement("input",{className:"mt-2 font",id:"name",required:"true",type:"text",name:"name",value:t,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"DNI")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"dni",required:"true",type:"text",name:"dni",value:a,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Tel\xe9fono")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"tlf",required:"true",type:"text",name:"tlf",value:r,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Correo")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"correo",required:"true",type:"text",name:"correo",value:c,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Curso que est\xe1 cursando")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"curso",required:"true",type:"text",name:"curso",value:n,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"12",className:"text-center mt-5 mb-5"},s.a.createElement("label",null,"Datos de la asignatura"))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Nombre de la Asignatura")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"AsigName",required:"true",type:"text",name:"AsigName",value:o,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"C\xf3digo de la Asignatura")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"AsigCod",required:"true",type:"text",name:"AsigCod",value:l,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{xs:"4",className:"text-right"},s.a.createElement("label",{className:"mt-2",htmlFor:"text"},"Curso de la Asignatura")),s.a.createElement(I.a,{xs:"8"},s.a.createElement("input",{className:"mt-2 font",id:"AsigCurse",required:"true",type:"text",name:"AsigCurse",value:i,onChange:this.handleChange}))),s.a.createElement(D.a,null,s.a.createElement(I.a,{className:"text-center"},s.a.createElement("input",{className:"mt-4",type:"submit",value:"Generar PDF"}))))))}}]),t}(n.Component),st=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(h.a,null,s.a.createElement(b,null,console.log("props dep app"),console.log(this.props),s.a.createElement("div",{className:"container"},s.a.createElement(h.b,{basename:"/Front_web/#"},s.a.createElement(d.d,null,s.a.createElement(d.b,{exact:!0,path:"/",render:function(){return s.a.createElement(d.a,{from:"/",to:"/login"})}}),s.a.createElement(w,{path:"/signup",component:A}),s.a.createElement(w,{path:"/login",component:L}),s.a.createElement(C,{path:"/home",component:Z}),s.a.createElement(C,{exact:!0,path:"/news",component:K}),s.a.createElement(C,{exact:!0,path:"/news/create-news",component:ke}),s.a.createElement(C,{exact:!0,path:"/news/detail/:id",component:Fe}),s.a.createElement(C,{path:"/chat/:id",component:be}),s.a.createElement(C,{path:"/chat",component:ze}),s.a.createElement(C,{path:"/user",component:te}),s.a.createElement(C,{path:"/subject/details/:id",component:qe}),s.a.createElement(Pe,{path:"/users-list",component:Le}),s.a.createElement(Pe,{path:"/add-teacher",component:Be}),s.a.createElement(Pe,{path:"/subjects-list",component:_e}),s.a.createElement(Pe,{path:"/add-subject",component:Me}),s.a.createElement(Re,{path:"/documents",component:$e}),s.a.createElement(Re,{exact:!0,path:"/generate-pdf",component:tt}),s.a.createElement(Re,{exact:!0,path:"/generate-subject-guide-request",component:nt}),s.a.createElement(Re,{exact:!0,path:"/pdf",component:at}),s.a.createElement(d.b,{exact:!0,path:"/select-subjects",component:y}))))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(621);c.a.render(s.a.createElement(st,null),document.getElementById("root")),document.body.style="background: #f7f7f7d7;","serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[361,1,2]]]);
//# sourceMappingURL=main.b6358c72.chunk.js.map